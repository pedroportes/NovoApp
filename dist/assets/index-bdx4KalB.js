function l0(r,t){for(var s=0;s<t.length;s++){const a=t[s];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in r)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(r,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function c0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tc={exports:{}},fa={},rc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function u0(){if(Hh)return Se;Hh=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,N={};function j(T,F,X){this.props=T,this.context=F,this.refs=N,this.updater=X||k}j.prototype.isReactComponent={},j.prototype.setState=function(T,F){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,F,"setState")},j.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function C(){}C.prototype=j.prototype;function E(T,F,X){this.props=T,this.context=F,this.refs=N,this.updater=X||k}var P=E.prototype=new C;P.constructor=E,b(P,j.prototype),P.isPureReactComponent=!0;var M=Array.isArray,A=Object.prototype.hasOwnProperty,U={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function ce(T,F,X){var se,de={},je=null,Ie=null;if(F!=null)for(se in F.ref!==void 0&&(Ie=F.ref),F.key!==void 0&&(je=""+F.key),F)A.call(F,se)&&!K.hasOwnProperty(se)&&(de[se]=F[se]);var Re=arguments.length-2;if(Re===1)de.children=X;else if(1<Re){for(var De=Array(Re),wt=0;wt<Re;wt++)De[wt]=arguments[wt+2];de.children=De}if(T&&T.defaultProps)for(se in Re=T.defaultProps,Re)de[se]===void 0&&(de[se]=Re[se]);return{$$typeof:r,type:T,key:je,ref:Ie,props:de,_owner:U.current}}function fe(T,F){return{$$typeof:r,type:T.type,key:F,ref:T.ref,props:T.props,_owner:T._owner}}function Ce(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function ee(T){var F={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return F[X]})}var oe=/\/+/g;function Ue(T,F){return typeof T=="object"&&T!==null&&T.key!=null?ee(""+T.key):F.toString(36)}function We(T,F,X,se,de){var je=typeof T;(je==="undefined"||je==="boolean")&&(T=null);var Ie=!1;if(T===null)Ie=!0;else switch(je){case"string":case"number":Ie=!0;break;case"object":switch(T.$$typeof){case r:case t:Ie=!0}}if(Ie)return Ie=T,de=de(Ie),T=se===""?"."+Ue(Ie,0):se,M(de)?(X="",T!=null&&(X=T.replace(oe,"$&/")+"/"),We(de,F,X,"",function(wt){return wt})):de!=null&&(Ce(de)&&(de=fe(de,X+(!de.key||Ie&&Ie.key===de.key?"":(""+de.key).replace(oe,"$&/")+"/")+T)),F.push(de)),1;if(Ie=0,se=se===""?".":se+":",M(T))for(var Re=0;Re<T.length;Re++){je=T[Re];var De=se+Ue(je,Re);Ie+=We(je,F,X,De,de)}else if(De=_(T),typeof De=="function")for(T=De.call(T),Re=0;!(je=T.next()).done;)je=je.value,De=se+Ue(je,Re++),Ie+=We(je,F,X,De,de);else if(je==="object")throw F=String(T),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ie}function qe(T,F,X){if(T==null)return T;var se=[],de=0;return We(T,se,"","",function(je){return F.call(X,je,de++)}),se}function Ae(T){if(T._status===-1){var F=T._result;F=F(),F.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=F)}if(T._status===1)return T._result.default;throw T._result}var Te={current:null},J={transition:null},$={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:J,ReactCurrentOwner:U};function V(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:qe,forEach:function(T,F,X){qe(T,function(){F.apply(this,arguments)},X)},count:function(T){var F=0;return qe(T,function(){F++}),F},toArray:function(T){return qe(T,function(F){return F})||[]},only:function(T){if(!Ce(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Se.Component=j,Se.Fragment=s,Se.Profiler=l,Se.PureComponent=E,Se.StrictMode=a,Se.Suspense=p,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,Se.act=V,Se.cloneElement=function(T,F,X){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var se=b({},T.props),de=T.key,je=T.ref,Ie=T._owner;if(F!=null){if(F.ref!==void 0&&(je=F.ref,Ie=U.current),F.key!==void 0&&(de=""+F.key),T.type&&T.type.defaultProps)var Re=T.type.defaultProps;for(De in F)A.call(F,De)&&!K.hasOwnProperty(De)&&(se[De]=F[De]===void 0&&Re!==void 0?Re[De]:F[De])}var De=arguments.length-2;if(De===1)se.children=X;else if(1<De){Re=Array(De);for(var wt=0;wt<De;wt++)Re[wt]=arguments[wt+2];se.children=Re}return{$$typeof:r,type:T.type,key:de,ref:je,props:se,_owner:Ie}},Se.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:u,_context:T},T.Consumer=T},Se.createElement=ce,Se.createFactory=function(T){var F=ce.bind(null,T);return F.type=T,F},Se.createRef=function(){return{current:null}},Se.forwardRef=function(T){return{$$typeof:f,render:T}},Se.isValidElement=Ce,Se.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:Ae}},Se.memo=function(T,F){return{$$typeof:g,type:T,compare:F===void 0?null:F}},Se.startTransition=function(T){var F=J.transition;J.transition={};try{T()}finally{J.transition=F}},Se.unstable_act=V,Se.useCallback=function(T,F){return Te.current.useCallback(T,F)},Se.useContext=function(T){return Te.current.useContext(T)},Se.useDebugValue=function(){},Se.useDeferredValue=function(T){return Te.current.useDeferredValue(T)},Se.useEffect=function(T,F){return Te.current.useEffect(T,F)},Se.useId=function(){return Te.current.useId()},Se.useImperativeHandle=function(T,F,X){return Te.current.useImperativeHandle(T,F,X)},Se.useInsertionEffect=function(T,F){return Te.current.useInsertionEffect(T,F)},Se.useLayoutEffect=function(T,F){return Te.current.useLayoutEffect(T,F)},Se.useMemo=function(T,F){return Te.current.useMemo(T,F)},Se.useReducer=function(T,F,X){return Te.current.useReducer(T,F,X)},Se.useRef=function(T){return Te.current.useRef(T)},Se.useState=function(T){return Te.current.useState(T)},Se.useSyncExternalStore=function(T,F,X){return Te.current.useSyncExternalStore(T,F,X)},Se.useTransition=function(){return Te.current.useTransition()},Se.version="18.3.1",Se}var Kh;function Mc(){return Kh||(Kh=1,rc.exports=u0()),rc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function d0(){if(Gh)return fa;Gh=1;var r=Mc(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var v,y={},_=null,k=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)a.call(p,v)&&!u.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:t,type:f,key:_,ref:k,props:y,_owner:l.current}}return fa.Fragment=s,fa.jsx=d,fa.jsxs=d,fa}var Jh;function h0(){return Jh||(Jh=1,tc.exports=d0()),tc.exports}var o=h0(),w=Mc();const Zf=c0(w),f0=l0({__proto__:null,default:Zf},[w]);var Fo={},nc={exports:{}},Ft={},sc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function m0(){return Yh||(Yh=1,(function(r){function t(J,$){var V=J.length;J.push($);e:for(;0<V;){var T=V-1>>>1,F=J[T];if(0<l(F,$))J[T]=$,J[V]=F,V=T;else break e}}function s(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var $=J[0],V=J.pop();if(V!==$){J[0]=V;e:for(var T=0,F=J.length,X=F>>>1;T<X;){var se=2*(T+1)-1,de=J[se],je=se+1,Ie=J[je];if(0>l(de,V))je<F&&0>l(Ie,de)?(J[T]=Ie,J[je]=V,T=je):(J[T]=de,J[se]=V,T=se);else if(je<F&&0>l(Ie,V))J[T]=Ie,J[je]=V,T=je;else break e}}return $}function l(J,$){var V=J.sortIndex-$.sortIndex;return V!==0?V:J.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],g=[],v=1,y=null,_=3,k=!1,b=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(J){for(var $=s(g);$!==null;){if($.callback===null)a(g);else if($.startTime<=J)a(g),$.sortIndex=$.expirationTime,t(p,$);else break;$=s(g)}}function M(J){if(N=!1,P(J),!b)if(s(p)!==null)b=!0,Ae(A);else{var $=s(g);$!==null&&Te(M,$.startTime-J)}}function A(J,$){b=!1,N&&(N=!1,C(ce),ce=-1),k=!0;var V=_;try{for(P($),y=s(p);y!==null&&(!(y.expirationTime>$)||J&&!ee());){var T=y.callback;if(typeof T=="function"){y.callback=null,_=y.priorityLevel;var F=T(y.expirationTime<=$);$=r.unstable_now(),typeof F=="function"?y.callback=F:y===s(p)&&a(p),P($)}else a(p);y=s(p)}if(y!==null)var X=!0;else{var se=s(g);se!==null&&Te(M,se.startTime-$),X=!1}return X}finally{y=null,_=V,k=!1}}var U=!1,K=null,ce=-1,fe=5,Ce=-1;function ee(){return!(r.unstable_now()-Ce<fe)}function oe(){if(K!==null){var J=r.unstable_now();Ce=J;var $=!0;try{$=K(!0,J)}finally{$?Ue():(U=!1,K=null)}}else U=!1}var Ue;if(typeof E=="function")Ue=function(){E(oe)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,qe=We.port2;We.port1.onmessage=oe,Ue=function(){qe.postMessage(null)}}else Ue=function(){j(oe,0)};function Ae(J){K=J,U||(U=!0,Ue())}function Te(J,$){ce=j(function(){J(r.unstable_now())},$)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_continueExecution=function(){b||k||(b=!0,Ae(A))},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(J){switch(_){case 1:case 2:case 3:var $=3;break;default:$=_}var V=_;_=$;try{return J()}finally{_=V}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(J,$){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var V=_;_=J;try{return $()}finally{_=V}},r.unstable_scheduleCallback=function(J,$,V){var T=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?T+V:T):V=T,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=V+F,J={id:v++,callback:$,priorityLevel:J,startTime:V,expirationTime:F,sortIndex:-1},V>T?(J.sortIndex=V,t(g,J),s(p)===null&&J===s(g)&&(N?(C(ce),ce=-1):N=!0,Te(M,V-T))):(J.sortIndex=F,t(p,J),b||k||(b=!0,Ae(A))),J},r.unstable_shouldYield=ee,r.unstable_wrapCallback=function(J){var $=_;return function(){var V=_;_=$;try{return J.apply(this,arguments)}finally{_=V}}}})(ac)),ac}var Qh;function p0(){return Qh||(Qh=1,sc.exports=m0()),sc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function g0(){if(Xh)return Ft;Xh=1;var r=Mc(),t=p0();function s(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(l[e]=n,e=0;e<n.length;e++)a.add(n[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function _(e){return p.call(y,e)?!0:p.call(v,e)?!1:g.test(e)?y[e]=!0:(v[e]=!0,!1)}function k(e,n,i,c){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,n,i,c){if(n===null||typeof n>"u"||k(e,n,i,c))return!0;if(c)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function N(e,n,i,c,h,m,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=n,this.sanitizeURL=m,this.removeEmptyString=x}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new N(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];j[n]=new N(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new N(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new N(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new N(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new N(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new N(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new N(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new N(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(C,E);j[n]=new N(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(C,E);j[n]=new N(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(C,E);j[n]=new N(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new N(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,n,i,c){var h=j.hasOwnProperty(n)?j[n]:null;(h!==null?h.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(b(n,i,h,c)&&(i=null),c||h===null?_(n)&&(i===null?e.removeAttribute(n):e.setAttribute(n,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(n=h.attributeName,c=h.attributeNamespace,i===null?e.removeAttribute(n):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,c?e.setAttributeNS(c,n,i):e.setAttribute(n,i))))}var M=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),U=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),Ce=Symbol.for("react.provider"),ee=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),J=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var V=Object.assign,T;function F(e){if(T===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var X=!1;function se(e,n){if(!e||X)return"";X=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(D){var c=D}Reflect.construct(e,[],n)}else{try{n.call()}catch(D){c=D}e.call(n.prototype)}else{try{throw Error()}catch(D){c=D}e()}}catch(D){if(D&&c&&typeof D.stack=="string"){for(var h=D.stack.split(`
`),m=c.stack.split(`
`),x=h.length-1,S=m.length-1;1<=x&&0<=S&&h[x]!==m[S];)S--;for(;1<=x&&0<=S;x--,S--)if(h[x]!==m[S]){if(x!==1||S!==1)do if(x--,S--,0>S||h[x]!==m[S]){var R=`
`+h[x].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=x&&0<=S);break}}}finally{X=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?F(e):""}function de(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function je(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case U:return"Portal";case fe:return"Profiler";case ce:return"StrictMode";case Ue:return"Suspense";case We:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ee:return(e.displayName||"Context")+".Consumer";case Ce:return(e._context.displayName||"Context")+".Provider";case oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return n=e.displayName||null,n!==null?n:je(e.type)||"Memo";case Ae:n=e._payload,e=e._init;try{return je(e(n))}catch{}}return null}function Ie(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(n);case 8:return n===ce?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Re(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wt(e){var n=De(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),c=""+e[n];if(!e.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,m=i.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,m.call(this,x)}}),Object.defineProperty(e,n,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Sr(e){e._valueTracker||(e._valueTracker=wt(e))}function z(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return e&&(c=De(e)?e.checked?"true":"false":e.value),e=c,e!==i?(n.setValue(e),!0):!1}function ue(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ke(e,n){var i=n.checked;return V({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Fe(e,n){var i=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;i=Re(n.value!=null?n.value:i),e._wrapperState={initialChecked:c,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function ot(e,n){n=n.checked,n!=null&&P(e,"checked",n,!1)}function Le(e,n){ot(e,n);var i=Re(n.value),c=n.type;if(i!=null)c==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?gr(e,n.type,i):n.hasOwnProperty("defaultValue")&&gr(e,n.type,Re(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ft(e,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,i||n===e.value||(e.value=n),e.defaultValue=n}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function gr(e,n,i){(n!=="number"||ue(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var vn=Array.isArray;function B(e,n,i,c){if(e=e.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=n.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&c&&(e[i].defaultSelected=!0)}else{for(i=""+Re(i),n=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,c&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function re(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(s(91));return V({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function we(e,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(s(92));if(vn(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),i=n}e._wrapperState={initialValue:Re(i)}}function Ge(e,n){var i=Re(n.value),c=Re(n.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),n.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),c!=null&&(e.defaultValue=""+c)}function _e(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function it(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function et(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?it(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var It,lt=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,c,h){MSApp.execUnsafeLocalFunction(function(){return e(n,i,c,h)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(It=It||document.createElement("div"),It.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=It.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function nt(e,n){if(n){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=n;return}}e.textContent=n}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hp=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(e){hp.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),sr[n]=sr[e]})});function iu(e,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||sr.hasOwnProperty(e)&&sr[e]?(""+n).trim():n+"px"}function lu(e,n){e=e.style;for(var i in n)if(n.hasOwnProperty(i)){var c=i.indexOf("--")===0,h=iu(i,n[i],c);i==="float"&&(i="cssFloat"),c?e.setProperty(i,h):e[i]=h}}var fp=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fi(e,n){if(n){if(fp[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(s(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(s(61))}if(n.style!=null&&typeof n.style!="object")throw Error(s(62))}}function mi(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=null;function gi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Bn=null,Wn=null;function cu(e){if(e=Xs(e)){if(typeof vi!="function")throw Error(s(280));var n=e.stateNode;n&&(n=eo(n),vi(e.stateNode,e.type,n))}}function uu(e){Bn?Wn?Wn.push(e):Wn=[e]:Bn=e}function du(){if(Bn){var e=Bn,n=Wn;if(Wn=Bn=null,cu(e),n)for(e=0;e<n.length;e++)cu(n[e])}}function hu(e,n){return e(n)}function fu(){}var xi=!1;function mu(e,n,i){if(xi)return e(n,i);xi=!0;try{return hu(e,n,i)}finally{xi=!1,(Bn!==null||Wn!==null)&&(fu(),du())}}function Ps(e,n){var i=e.stateNode;if(i===null)return null;var c=eo(i);if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var yi=!1;if(f)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){yi=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{yi=!1}function mp(e,n,i,c,h,m,x,S,R){var D=Array.prototype.slice.call(arguments,3);try{n.apply(i,D)}catch(q){this.onError(q)}}var As=!1,Oa=null,Aa=!1,wi=null,pp={onError:function(e){As=!0,Oa=e}};function gp(e,n,i,c,h,m,x,S,R){As=!1,Oa=null,mp.apply(pp,arguments)}function vp(e,n,i,c,h,m,x,S,R){if(gp.apply(this,arguments),As){if(As){var D=Oa;As=!1,Oa=null}else throw Error(s(198));Aa||(Aa=!0,wi=D)}}function xn(e){var n=e,i=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(i=n.return),e=n.return;while(e)}return n.tag===3?i:null}function pu(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function gu(e){if(xn(e)!==e)throw Error(s(188))}function xp(e){var n=e.alternate;if(!n){if(n=xn(e),n===null)throw Error(s(188));return n!==e?null:e}for(var i=e,c=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return gu(h),e;if(m===c)return gu(h),n;m=m.sibling}throw Error(s(188))}if(i.return!==c.return)i=h,c=m;else{for(var x=!1,S=h.child;S;){if(S===i){x=!0,i=h,c=m;break}if(S===c){x=!0,c=h,i=m;break}S=S.sibling}if(!x){for(S=m.child;S;){if(S===i){x=!0,i=m,c=h;break}if(S===c){x=!0,c=m,i=h;break}S=S.sibling}if(!x)throw Error(s(189))}}if(i.alternate!==c)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:n}function vu(e){return e=xp(e),e!==null?xu(e):null}function xu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xu(e);if(n!==null)return n;e=e.sibling}return null}var yu=t.unstable_scheduleCallback,wu=t.unstable_cancelCallback,yp=t.unstable_shouldYield,wp=t.unstable_requestPaint,st=t.unstable_now,bp=t.unstable_getCurrentPriorityLevel,bi=t.unstable_ImmediatePriority,bu=t.unstable_UserBlockingPriority,Ia=t.unstable_NormalPriority,_p=t.unstable_LowPriority,_u=t.unstable_IdlePriority,La=null,vr=null;function jp(e){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(La,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:Sp,Np=Math.log,kp=Math.LN2;function Sp(e){return e>>>=0,e===0?32:31-(Np(e)/kp|0)|0}var Da=64,$a=4194304;function Is(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ma(e,n){var i=e.pendingLanes;if(i===0)return 0;var c=0,h=e.suspendedLanes,m=e.pingedLanes,x=i&268435455;if(x!==0){var S=x&~h;S!==0?c=Is(S):(m&=x,m!==0&&(c=Is(m)))}else x=i&~h,x!==0?c=Is(x):m!==0&&(c=Is(m));if(c===0)return 0;if(n!==0&&n!==c&&(n&h)===0&&(h=c&-c,m=n&-n,h>=m||h===16&&(m&4194240)!==0))return n;if((c&4)!==0&&(c|=i&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=c;0<n;)i=31-ar(n),h=1<<i,c|=e[i],n&=~h;return c}function Ep(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cp(e,n){for(var i=e.suspendedLanes,c=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var x=31-ar(m),S=1<<x,R=h[x];R===-1?((S&i)===0||(S&c)!==0)&&(h[x]=Ep(S,n)):R<=n&&(e.expiredLanes|=S),m&=~S}}function _i(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ju(){var e=Da;return Da<<=1,(Da&4194240)===0&&(Da=64),e}function ji(e){for(var n=[],i=0;31>i;i++)n.push(e);return n}function Ls(e,n,i){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-ar(n),e[n]=i}function Tp(e,n){var i=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-ar(i),m=1<<h;n[h]=0,c[h]=-1,e[h]=-1,i&=~m}}function Ni(e,n){var i=e.entangledLanes|=n;for(e=e.entanglements;i;){var c=31-ar(i),h=1<<c;h&n|e[c]&n&&(e[c]|=n),i&=~h}}var $e=0;function Nu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ku,ki,Su,Eu,Cu,Si=!1,Ua=[],zr=null,Br=null,Wr=null,Ds=new Map,$s=new Map,qr=[],Rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tu(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ds.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(n.pointerId)}}function Ms(e,n,i,c,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},n!==null&&(n=Xs(n),n!==null&&ki(n)),e):(e.eventSystemFlags|=c,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Pp(e,n,i,c,h){switch(n){case"focusin":return zr=Ms(zr,e,n,i,c,h),!0;case"dragenter":return Br=Ms(Br,e,n,i,c,h),!0;case"mouseover":return Wr=Ms(Wr,e,n,i,c,h),!0;case"pointerover":var m=h.pointerId;return Ds.set(m,Ms(Ds.get(m)||null,e,n,i,c,h)),!0;case"gotpointercapture":return m=h.pointerId,$s.set(m,Ms($s.get(m)||null,e,n,i,c,h)),!0}return!1}function Ru(e){var n=yn(e.target);if(n!==null){var i=xn(n);if(i!==null){if(n=i.tag,n===13){if(n=pu(i),n!==null){e.blockedOn=n,Cu(e.priority,function(){Su(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var i=Ci(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var c=new i.constructor(i.type,i);pi=c,i.target.dispatchEvent(c),pi=null}else return n=Xs(i),n!==null&&ki(n),e.blockedOn=i,!1;n.shift()}return!0}function Pu(e,n,i){Fa(e)&&i.delete(n)}function Op(){Si=!1,zr!==null&&Fa(zr)&&(zr=null),Br!==null&&Fa(Br)&&(Br=null),Wr!==null&&Fa(Wr)&&(Wr=null),Ds.forEach(Pu),$s.forEach(Pu)}function Us(e,n){e.blockedOn===n&&(e.blockedOn=null,Si||(Si=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Op)))}function Fs(e){function n(h){return Us(h,e)}if(0<Ua.length){Us(Ua[0],e);for(var i=1;i<Ua.length;i++){var c=Ua[i];c.blockedOn===e&&(c.blockedOn=null)}}for(zr!==null&&Us(zr,e),Br!==null&&Us(Br,e),Wr!==null&&Us(Wr,e),Ds.forEach(n),$s.forEach(n),i=0;i<qr.length;i++)c=qr[i],c.blockedOn===e&&(c.blockedOn=null);for(;0<qr.length&&(i=qr[0],i.blockedOn===null);)Ru(i),i.blockedOn===null&&qr.shift()}var qn=M.ReactCurrentBatchConfig,za=!0;function Ap(e,n,i,c){var h=$e,m=qn.transition;qn.transition=null;try{$e=1,Ei(e,n,i,c)}finally{$e=h,qn.transition=m}}function Ip(e,n,i,c){var h=$e,m=qn.transition;qn.transition=null;try{$e=4,Ei(e,n,i,c)}finally{$e=h,qn.transition=m}}function Ei(e,n,i,c){if(za){var h=Ci(e,n,i,c);if(h===null)Vi(e,n,c,Ba,i),Tu(e,c);else if(Pp(h,e,n,i,c))c.stopPropagation();else if(Tu(e,c),n&4&&-1<Rp.indexOf(e)){for(;h!==null;){var m=Xs(h);if(m!==null&&ku(m),m=Ci(e,n,i,c),m===null&&Vi(e,n,c,Ba,i),m===h)break;h=m}h!==null&&c.stopPropagation()}else Vi(e,n,c,null,i)}}var Ba=null;function Ci(e,n,i,c){if(Ba=null,e=gi(c),e=yn(e),e!==null)if(n=xn(e),n===null)e=null;else if(i=n.tag,i===13){if(e=pu(n),e!==null)return e;e=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ba=e,null}function Ou(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bp()){case bi:return 1;case bu:return 4;case Ia:case _p:return 16;case _u:return 536870912;default:return 16}default:return 16}}var Vr=null,Ti=null,Wa=null;function Au(){if(Wa)return Wa;var e,n=Ti,i=n.length,c,h="value"in Vr?Vr.value:Vr.textContent,m=h.length;for(e=0;e<i&&n[e]===h[e];e++);var x=i-e;for(c=1;c<=x&&n[i-c]===h[m-c];c++);return Wa=h.slice(e,1<c?1-c:void 0)}function qa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Va(){return!0}function Iu(){return!1}function zt(e){function n(i,c,h,m,x){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(i=e[S],this[S]=i?i(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Va:Iu,this.isPropagationStopped=Iu,this}return V(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),n}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=zt(Vn),zs=V({},Vn,{view:0,detail:0}),Lp=zt(zs),Pi,Oi,Bs,Ha=V({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ii,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(Pi=e.screenX-Bs.screenX,Oi=e.screenY-Bs.screenY):Oi=Pi=0,Bs=e),Pi)},movementY:function(e){return"movementY"in e?e.movementY:Oi}}),Lu=zt(Ha),Dp=V({},Ha,{dataTransfer:0}),$p=zt(Dp),Mp=V({},zs,{relatedTarget:0}),Ai=zt(Mp),Up=V({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Fp=zt(Up),zp=V({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bp=zt(zp),Wp=V({},Vn,{data:0}),Du=zt(Wp),qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kp(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hp[e])?!!n[e]:!1}function Ii(){return Kp}var Gp=V({},zs,{key:function(e){if(e.key){var n=qp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ii,charCode:function(e){return e.type==="keypress"?qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jp=zt(Gp),Yp=V({},Ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$u=zt(Yp),Qp=V({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ii}),Xp=zt(Qp),Zp=V({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),eg=zt(Zp),tg=V({},Ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rg=zt(tg),ng=[9,13,27,32],Li=f&&"CompositionEvent"in window,Ws=null;f&&"documentMode"in document&&(Ws=document.documentMode);var sg=f&&"TextEvent"in window&&!Ws,Mu=f&&(!Li||Ws&&8<Ws&&11>=Ws),Uu=" ",Fu=!1;function zu(e,n){switch(e){case"keyup":return ng.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function ag(e,n){switch(e){case"compositionend":return Bu(n);case"keypress":return n.which!==32?null:(Fu=!0,Uu);case"textInput":return e=n.data,e===Uu&&Fu?null:e;default:return null}}function og(e,n){if(Hn)return e==="compositionend"||!Li&&zu(e,n)?(e=Au(),Wa=Ti=Vr=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mu&&n.locale!=="ko"?null:n.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ig[e.type]:n==="textarea"}function qu(e,n,i,c){uu(c),n=Qa(n,"onChange"),0<n.length&&(i=new Ri("onChange","change",null,i,c),e.push({event:i,listeners:n}))}var qs=null,Vs=null;function lg(e){ld(e,0)}function Ka(e){var n=Qn(e);if(z(n))return e}function cg(e,n){if(e==="change")return n}var Vu=!1;if(f){var Di;if(f){var $i="oninput"in document;if(!$i){var Hu=document.createElement("div");Hu.setAttribute("oninput","return;"),$i=typeof Hu.oninput=="function"}Di=$i}else Di=!1;Vu=Di&&(!document.documentMode||9<document.documentMode)}function Ku(){qs&&(qs.detachEvent("onpropertychange",Gu),Vs=qs=null)}function Gu(e){if(e.propertyName==="value"&&Ka(Vs)){var n=[];qu(n,Vs,e,gi(e)),mu(lg,n)}}function ug(e,n,i){e==="focusin"?(Ku(),qs=n,Vs=i,qs.attachEvent("onpropertychange",Gu)):e==="focusout"&&Ku()}function dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(Vs)}function hg(e,n){if(e==="click")return Ka(n)}function fg(e,n){if(e==="input"||e==="change")return Ka(n)}function mg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var or=typeof Object.is=="function"?Object.is:mg;function Hs(e,n){if(or(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var i=Object.keys(e),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!p.call(n,h)||!or(e[h],n[h]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yu(e,n){var i=Ju(e);e=0;for(var c;i;){if(i.nodeType===3){if(c=e+i.textContent.length,e<=n&&c>=n)return{node:i,offset:n-e};e=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Ju(i)}}function Qu(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Qu(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Xu(){for(var e=window,n=ue();n instanceof e.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)e=n.contentWindow;else break;n=ue(e.document)}return n}function Mi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function pg(e){var n=Xu(),i=e.focusedElem,c=e.selectionRange;if(n!==i&&i&&i.ownerDocument&&Qu(i.ownerDocument.documentElement,i)){if(c!==null&&Mi(i)){if(n=c.start,e=c.end,e===void 0&&(e=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(e,i.value.length);else if(e=(n=i.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,m=Math.min(c.start,h);c=c.end===void 0?m:Math.min(c.end,h),!e.extend&&m>c&&(h=c,c=m,m=h),h=Yu(i,m);var x=Yu(i,c);h&&x&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(h.node,h.offset),e.removeAllRanges(),m>c?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=i;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)e=n[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gg=f&&"documentMode"in document&&11>=document.documentMode,Kn=null,Ui=null,Ks=null,Fi=!1;function Zu(e,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fi||Kn==null||Kn!==ue(c)||(c=Kn,"selectionStart"in c&&Mi(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ks&&Hs(Ks,c)||(Ks=c,c=Qa(Ui,"onSelect"),0<c.length&&(n=new Ri("onSelect","select",null,n,i),e.push({event:n,listeners:c}),n.target=Kn)))}function Ga(e,n){var i={};return i[e.toLowerCase()]=n.toLowerCase(),i["Webkit"+e]="webkit"+n,i["Moz"+e]="moz"+n,i}var Gn={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},zi={},ed={};f&&(ed=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ja(e){if(zi[e])return zi[e];if(!Gn[e])return e;var n=Gn[e],i;for(i in n)if(n.hasOwnProperty(i)&&i in ed)return zi[e]=n[i];return e}var td=Ja("animationend"),rd=Ja("animationiteration"),nd=Ja("animationstart"),sd=Ja("transitionend"),ad=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,n){ad.set(e,n),u(n,[e])}for(var Bi=0;Bi<od.length;Bi++){var Wi=od[Bi],vg=Wi.toLowerCase(),xg=Wi[0].toUpperCase()+Wi.slice(1);Hr(vg,"on"+xg)}Hr(td,"onAnimationEnd"),Hr(rd,"onAnimationIteration"),Hr(nd,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(sd,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function id(e,n,i){var c=e.type||"unknown-event";e.currentTarget=i,vp(c,n,void 0,e),e.currentTarget=null}function ld(e,n){n=(n&4)!==0;for(var i=0;i<e.length;i++){var c=e[i],h=c.event;c=c.listeners;e:{var m=void 0;if(n)for(var x=c.length-1;0<=x;x--){var S=c[x],R=S.instance,D=S.currentTarget;if(S=S.listener,R!==m&&h.isPropagationStopped())break e;id(h,S,D),m=R}else for(x=0;x<c.length;x++){if(S=c[x],R=S.instance,D=S.currentTarget,S=S.listener,R!==m&&h.isPropagationStopped())break e;id(h,S,D),m=R}}}if(Aa)throw e=wi,Aa=!1,wi=null,e}function Ve(e,n){var i=n[Qi];i===void 0&&(i=n[Qi]=new Set);var c=e+"__bubble";i.has(c)||(cd(n,e,2,!1),i.add(c))}function qi(e,n,i){var c=0;n&&(c|=4),cd(i,e,c,n)}var Ya="_reactListening"+Math.random().toString(36).slice(2);function Js(e){if(!e[Ya]){e[Ya]=!0,a.forEach(function(i){i!=="selectionchange"&&(yg.has(i)||qi(i,!1,e),qi(i,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ya]||(n[Ya]=!0,qi("selectionchange",!1,n))}}function cd(e,n,i,c){switch(Ou(n)){case 1:var h=Ap;break;case 4:h=Ip;break;default:h=Ei}i=h.bind(null,n,i,e),h=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?e.addEventListener(n,i,{capture:!0,passive:h}):e.addEventListener(n,i,!0):h!==void 0?e.addEventListener(n,i,{passive:h}):e.addEventListener(n,i,!1)}function Vi(e,n,i,c,h){var m=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var S=c.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(x===4)for(x=c.return;x!==null;){var R=x.tag;if((R===3||R===4)&&(R=x.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;x=x.return}for(;S!==null;){if(x=yn(S),x===null)return;if(R=x.tag,R===5||R===6){c=m=x;continue e}S=S.parentNode}}c=c.return}mu(function(){var D=m,q=gi(i),H=[];e:{var W=ad.get(e);if(W!==void 0){var Q=Ri,te=e;switch(e){case"keypress":if(qa(i)===0)break e;case"keydown":case"keyup":Q=Jp;break;case"focusin":te="focus",Q=Ai;break;case"focusout":te="blur",Q=Ai;break;case"beforeblur":case"afterblur":Q=Ai;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=$p;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xp;break;case td:case rd:case nd:Q=Fp;break;case sd:Q=eg;break;case"scroll":Q=Lp;break;case"wheel":Q=rg;break;case"copy":case"cut":case"paste":Q=Bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=$u}var ne=(n&4)!==0,at=!ne&&e==="scroll",I=ne?W!==null?W+"Capture":null:W;ne=[];for(var O=D,L;O!==null;){L=O;var G=L.stateNode;if(L.tag===5&&G!==null&&(L=G,I!==null&&(G=Ps(O,I),G!=null&&ne.push(Ys(O,G,L)))),at)break;O=O.return}0<ne.length&&(W=new Q(W,te,null,i,q),H.push({event:W,listeners:ne}))}}if((n&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",W&&i!==pi&&(te=i.relatedTarget||i.fromElement)&&(yn(te)||te[Er]))break e;if((Q||W)&&(W=q.window===q?q:(W=q.ownerDocument)?W.defaultView||W.parentWindow:window,Q?(te=i.relatedTarget||i.toElement,Q=D,te=te?yn(te):null,te!==null&&(at=xn(te),te!==at||te.tag!==5&&te.tag!==6)&&(te=null)):(Q=null,te=D),Q!==te)){if(ne=Lu,G="onMouseLeave",I="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(ne=$u,G="onPointerLeave",I="onPointerEnter",O="pointer"),at=Q==null?W:Qn(Q),L=te==null?W:Qn(te),W=new ne(G,O+"leave",Q,i,q),W.target=at,W.relatedTarget=L,G=null,yn(q)===D&&(ne=new ne(I,O+"enter",te,i,q),ne.target=L,ne.relatedTarget=at,G=ne),at=G,Q&&te)t:{for(ne=Q,I=te,O=0,L=ne;L;L=Jn(L))O++;for(L=0,G=I;G;G=Jn(G))L++;for(;0<O-L;)ne=Jn(ne),O--;for(;0<L-O;)I=Jn(I),L--;for(;O--;){if(ne===I||I!==null&&ne===I.alternate)break t;ne=Jn(ne),I=Jn(I)}ne=null}else ne=null;Q!==null&&ud(H,W,Q,ne,!1),te!==null&&at!==null&&ud(H,at,te,ne,!0)}}e:{if(W=D?Qn(D):window,Q=W.nodeName&&W.nodeName.toLowerCase(),Q==="select"||Q==="input"&&W.type==="file")var ae=cg;else if(Wu(W))if(Vu)ae=fg;else{ae=dg;var me=ug}else(Q=W.nodeName)&&Q.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ae=hg);if(ae&&(ae=ae(e,D))){qu(H,ae,i,q);break e}me&&me(e,W,D),e==="focusout"&&(me=W._wrapperState)&&me.controlled&&W.type==="number"&&gr(W,"number",W.value)}switch(me=D?Qn(D):window,e){case"focusin":(Wu(me)||me.contentEditable==="true")&&(Kn=me,Ui=D,Ks=null);break;case"focusout":Ks=Ui=Kn=null;break;case"mousedown":Fi=!0;break;case"contextmenu":case"mouseup":case"dragend":Fi=!1,Zu(H,i,q);break;case"selectionchange":if(gg)break;case"keydown":case"keyup":Zu(H,i,q)}var pe;if(Li)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Hn?zu(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(Mu&&i.locale!=="ko"&&(Hn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Hn&&(pe=Au()):(Vr=q,Ti="value"in Vr?Vr.value:Vr.textContent,Hn=!0)),me=Qa(D,ye),0<me.length&&(ye=new Du(ye,e,null,i,q),H.push({event:ye,listeners:me}),pe?ye.data=pe:(pe=Bu(i),pe!==null&&(ye.data=pe)))),(pe=sg?ag(e,i):og(e,i))&&(D=Qa(D,"onBeforeInput"),0<D.length&&(q=new Du("onBeforeInput","beforeinput",null,i,q),H.push({event:q,listeners:D}),q.data=pe))}ld(H,n)})}function Ys(e,n,i){return{instance:e,listener:n,currentTarget:i}}function Qa(e,n){for(var i=n+"Capture",c=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=Ps(e,i),m!=null&&c.unshift(Ys(e,m,h)),m=Ps(e,n),m!=null&&c.push(Ys(e,m,h))),e=e.return}return c}function Jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ud(e,n,i,c,h){for(var m=n._reactName,x=[];i!==null&&i!==c;){var S=i,R=S.alternate,D=S.stateNode;if(R!==null&&R===c)break;S.tag===5&&D!==null&&(S=D,h?(R=Ps(i,m),R!=null&&x.unshift(Ys(i,R,S))):h||(R=Ps(i,m),R!=null&&x.push(Ys(i,R,S)))),i=i.return}x.length!==0&&e.push({event:n,listeners:x})}var wg=/\r\n?/g,bg=/\u0000|\uFFFD/g;function dd(e){return(typeof e=="string"?e:""+e).replace(wg,`
`).replace(bg,"")}function Xa(e,n,i){if(n=dd(n),dd(e)!==n&&i)throw Error(s(425))}function Za(){}var Hi=null,Ki=null;function Gi(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ji=typeof setTimeout=="function"?setTimeout:void 0,_g=typeof clearTimeout=="function"?clearTimeout:void 0,hd=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof hd<"u"?function(e){return hd.resolve(null).then(e).catch(Ng)}:Ji;function Ng(e){setTimeout(function(){throw e})}function Yi(e,n){var i=n,c=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(c===0){e.removeChild(h),Fs(n);return}c--}else i!=="$"&&i!=="$?"&&i!=="$!"||c++;i=h}while(i);Fs(n)}function Kr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function fd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return e;n--}else i==="/$"&&n++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),xr="__reactFiber$"+Yn,Qs="__reactProps$"+Yn,Er="__reactContainer$"+Yn,Qi="__reactEvents$"+Yn,kg="__reactListeners$"+Yn,Sg="__reactHandles$"+Yn;function yn(e){var n=e[xr];if(n)return n;for(var i=e.parentNode;i;){if(n=i[Er]||i[xr]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(e=fd(e);e!==null;){if(i=e[xr])return i;e=fd(e)}return n}e=i,i=e.parentNode}return null}function Xs(e){return e=e[xr]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function eo(e){return e[Qs]||null}var Xi=[],Xn=-1;function Gr(e){return{current:e}}function He(e){0>Xn||(e.current=Xi[Xn],Xi[Xn]=null,Xn--)}function ze(e,n){Xn++,Xi[Xn]=e.current,e.current=n}var Jr={},kt=Gr(Jr),Lt=Gr(!1),wn=Jr;function Zn(e,n){var i=e.type.contextTypes;if(!i)return Jr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in i)h[m]=n[m];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=h),h}function Dt(e){return e=e.childContextTypes,e!=null}function to(){He(Lt),He(kt)}function md(e,n,i){if(kt.current!==Jr)throw Error(s(168));ze(kt,n),ze(Lt,i)}function pd(e,n,i){var c=e.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return i;c=c.getChildContext();for(var h in c)if(!(h in n))throw Error(s(108,Ie(e)||"Unknown",h));return V({},i,c)}function ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jr,wn=kt.current,ze(kt,e),ze(Lt,Lt.current),!0}function gd(e,n,i){var c=e.stateNode;if(!c)throw Error(s(169));i?(e=pd(e,n,wn),c.__reactInternalMemoizedMergedChildContext=e,He(Lt),He(kt),ze(kt,e)):He(Lt),ze(Lt,i)}var Cr=null,no=!1,Zi=!1;function vd(e){Cr===null?Cr=[e]:Cr.push(e)}function Eg(e){no=!0,vd(e)}function Yr(){if(!Zi&&Cr!==null){Zi=!0;var e=0,n=$e;try{var i=Cr;for($e=1;e<i.length;e++){var c=i[e];do c=c(!0);while(c!==null)}Cr=null,no=!1}catch(h){throw Cr!==null&&(Cr=Cr.slice(e+1)),yu(bi,Yr),h}finally{$e=n,Zi=!1}}return null}var es=[],ts=0,so=null,ao=0,Qt=[],Xt=0,bn=null,Tr=1,Rr="";function _n(e,n){es[ts++]=ao,es[ts++]=so,so=e,ao=n}function xd(e,n,i){Qt[Xt++]=Tr,Qt[Xt++]=Rr,Qt[Xt++]=bn,bn=e;var c=Tr;e=Rr;var h=32-ar(c)-1;c&=~(1<<h),i+=1;var m=32-ar(n)+h;if(30<m){var x=h-h%5;m=(c&(1<<x)-1).toString(32),c>>=x,h-=x,Tr=1<<32-ar(n)+h|i<<h|c,Rr=m+e}else Tr=1<<m|i<<h|c,Rr=e}function el(e){e.return!==null&&(_n(e,1),xd(e,1,0))}function tl(e){for(;e===so;)so=es[--ts],es[ts]=null,ao=es[--ts],es[ts]=null;for(;e===bn;)bn=Qt[--Xt],Qt[Xt]=null,Rr=Qt[--Xt],Qt[Xt]=null,Tr=Qt[--Xt],Qt[Xt]=null}var Bt=null,Wt=null,Je=!1,ir=null;function yd(e,n){var i=rr(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=e,n=e.deletions,n===null?(e.deletions=[i],e.flags|=16):n.push(i)}function wd(e,n){switch(e.tag){case 5:var i=e.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Bt=e,Wt=Kr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Bt=e,Wt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=bn!==null?{id:Tr,overflow:Rr}:null,e.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=rr(18,null,null,0),i.stateNode=n,i.return=e,e.child=i,Bt=e,Wt=null,!0):!1;default:return!1}}function rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function nl(e){if(Je){var n=Wt;if(n){var i=n;if(!wd(e,n)){if(rl(e))throw Error(s(418));n=Kr(i.nextSibling);var c=Bt;n&&wd(e,n)?yd(c,i):(e.flags=e.flags&-4097|2,Je=!1,Bt=e)}}else{if(rl(e))throw Error(s(418));e.flags=e.flags&-4097|2,Je=!1,Bt=e}}}function bd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bt=e}function oo(e){if(e!==Bt)return!1;if(!Je)return bd(e),Je=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Gi(e.type,e.memoizedProps)),n&&(n=Wt)){if(rl(e))throw _d(),Error(s(418));for(;n;)yd(e,n),n=Kr(n.nextSibling)}if(bd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(n===0){Wt=Kr(e.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}e=e.nextSibling}Wt=null}}else Wt=Bt?Kr(e.stateNode.nextSibling):null;return!0}function _d(){for(var e=Wt;e;)e=Kr(e.nextSibling)}function rs(){Wt=Bt=null,Je=!1}function sl(e){ir===null?ir=[e]:ir.push(e)}var Cg=M.ReactCurrentBatchConfig;function Zs(e,n,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var c=i.stateNode}if(!c)throw Error(s(147,e));var h=c,m=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===m?n.ref:(n=function(x){var S=h.refs;x===null?delete S[m]:S[m]=x},n._stringRef=m,n)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function io(e,n){throw e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function jd(e){var n=e._init;return n(e._payload)}function Nd(e){function n(I,O){if(e){var L=I.deletions;L===null?(I.deletions=[O],I.flags|=16):L.push(O)}}function i(I,O){if(!e)return null;for(;O!==null;)n(I,O),O=O.sibling;return null}function c(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function h(I,O){return I=sn(I,O),I.index=0,I.sibling=null,I}function m(I,O,L){return I.index=L,e?(L=I.alternate,L!==null?(L=L.index,L<O?(I.flags|=2,O):L):(I.flags|=2,O)):(I.flags|=1048576,O)}function x(I){return e&&I.alternate===null&&(I.flags|=2),I}function S(I,O,L,G){return O===null||O.tag!==6?(O=Jl(L,I.mode,G),O.return=I,O):(O=h(O,L),O.return=I,O)}function R(I,O,L,G){var ae=L.type;return ae===K?q(I,O,L.props.children,G,L.key):O!==null&&(O.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ae&&jd(ae)===O.type)?(G=h(O,L.props),G.ref=Zs(I,O,L),G.return=I,G):(G=Oo(L.type,L.key,L.props,null,I.mode,G),G.ref=Zs(I,O,L),G.return=I,G)}function D(I,O,L,G){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Yl(L,I.mode,G),O.return=I,O):(O=h(O,L.children||[]),O.return=I,O)}function q(I,O,L,G,ae){return O===null||O.tag!==7?(O=Rn(L,I.mode,G,ae),O.return=I,O):(O=h(O,L),O.return=I,O)}function H(I,O,L){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Jl(""+O,I.mode,L),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case A:return L=Oo(O.type,O.key,O.props,null,I.mode,L),L.ref=Zs(I,null,O),L.return=I,L;case U:return O=Yl(O,I.mode,L),O.return=I,O;case Ae:var G=O._init;return H(I,G(O._payload),L)}if(vn(O)||$(O))return O=Rn(O,I.mode,L,null),O.return=I,O;io(I,O)}return null}function W(I,O,L,G){var ae=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ae!==null?null:S(I,O,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case A:return L.key===ae?R(I,O,L,G):null;case U:return L.key===ae?D(I,O,L,G):null;case Ae:return ae=L._init,W(I,O,ae(L._payload),G)}if(vn(L)||$(L))return ae!==null?null:q(I,O,L,G,null);io(I,L)}return null}function Q(I,O,L,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(L)||null,S(O,I,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return I=I.get(G.key===null?L:G.key)||null,R(O,I,G,ae);case U:return I=I.get(G.key===null?L:G.key)||null,D(O,I,G,ae);case Ae:var me=G._init;return Q(I,O,L,me(G._payload),ae)}if(vn(G)||$(G))return I=I.get(L)||null,q(O,I,G,ae,null);io(O,G)}return null}function te(I,O,L,G){for(var ae=null,me=null,pe=O,ye=O=0,yt=null;pe!==null&&ye<L.length;ye++){pe.index>ye?(yt=pe,pe=null):yt=pe.sibling;var Oe=W(I,pe,L[ye],G);if(Oe===null){pe===null&&(pe=yt);break}e&&pe&&Oe.alternate===null&&n(I,pe),O=m(Oe,O,ye),me===null?ae=Oe:me.sibling=Oe,me=Oe,pe=yt}if(ye===L.length)return i(I,pe),Je&&_n(I,ye),ae;if(pe===null){for(;ye<L.length;ye++)pe=H(I,L[ye],G),pe!==null&&(O=m(pe,O,ye),me===null?ae=pe:me.sibling=pe,me=pe);return Je&&_n(I,ye),ae}for(pe=c(I,pe);ye<L.length;ye++)yt=Q(pe,I,ye,L[ye],G),yt!==null&&(e&&yt.alternate!==null&&pe.delete(yt.key===null?ye:yt.key),O=m(yt,O,ye),me===null?ae=yt:me.sibling=yt,me=yt);return e&&pe.forEach(function(an){return n(I,an)}),Je&&_n(I,ye),ae}function ne(I,O,L,G){var ae=$(L);if(typeof ae!="function")throw Error(s(150));if(L=ae.call(L),L==null)throw Error(s(151));for(var me=ae=null,pe=O,ye=O=0,yt=null,Oe=L.next();pe!==null&&!Oe.done;ye++,Oe=L.next()){pe.index>ye?(yt=pe,pe=null):yt=pe.sibling;var an=W(I,pe,Oe.value,G);if(an===null){pe===null&&(pe=yt);break}e&&pe&&an.alternate===null&&n(I,pe),O=m(an,O,ye),me===null?ae=an:me.sibling=an,me=an,pe=yt}if(Oe.done)return i(I,pe),Je&&_n(I,ye),ae;if(pe===null){for(;!Oe.done;ye++,Oe=L.next())Oe=H(I,Oe.value,G),Oe!==null&&(O=m(Oe,O,ye),me===null?ae=Oe:me.sibling=Oe,me=Oe);return Je&&_n(I,ye),ae}for(pe=c(I,pe);!Oe.done;ye++,Oe=L.next())Oe=Q(pe,I,ye,Oe.value,G),Oe!==null&&(e&&Oe.alternate!==null&&pe.delete(Oe.key===null?ye:Oe.key),O=m(Oe,O,ye),me===null?ae=Oe:me.sibling=Oe,me=Oe);return e&&pe.forEach(function(i0){return n(I,i0)}),Je&&_n(I,ye),ae}function at(I,O,L,G){if(typeof L=="object"&&L!==null&&L.type===K&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case A:e:{for(var ae=L.key,me=O;me!==null;){if(me.key===ae){if(ae=L.type,ae===K){if(me.tag===7){i(I,me.sibling),O=h(me,L.props.children),O.return=I,I=O;break e}}else if(me.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ae&&jd(ae)===me.type){i(I,me.sibling),O=h(me,L.props),O.ref=Zs(I,me,L),O.return=I,I=O;break e}i(I,me);break}else n(I,me);me=me.sibling}L.type===K?(O=Rn(L.props.children,I.mode,G,L.key),O.return=I,I=O):(G=Oo(L.type,L.key,L.props,null,I.mode,G),G.ref=Zs(I,O,L),G.return=I,I=G)}return x(I);case U:e:{for(me=L.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){i(I,O.sibling),O=h(O,L.children||[]),O.return=I,I=O;break e}else{i(I,O);break}else n(I,O);O=O.sibling}O=Yl(L,I.mode,G),O.return=I,I=O}return x(I);case Ae:return me=L._init,at(I,O,me(L._payload),G)}if(vn(L))return te(I,O,L,G);if($(L))return ne(I,O,L,G);io(I,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,O!==null&&O.tag===6?(i(I,O.sibling),O=h(O,L),O.return=I,I=O):(i(I,O),O=Jl(L,I.mode,G),O.return=I,I=O),x(I)):i(I,O)}return at}var ns=Nd(!0),kd=Nd(!1),lo=Gr(null),co=null,ss=null,al=null;function ol(){al=ss=co=null}function il(e){var n=lo.current;He(lo),e._currentValue=n}function ll(e,n,i){for(;e!==null;){var c=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),e===i)break;e=e.return}}function as(e,n){co=e,al=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&($t=!0),e.firstContext=null)}function Zt(e){var n=e._currentValue;if(al!==e)if(e={context:e,memoizedValue:n,next:null},ss===null){if(co===null)throw Error(s(308));ss=e,co.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return n}var jn=null;function cl(e){jn===null?jn=[e]:jn.push(e)}function Sd(e,n,i,c){var h=n.interleaved;return h===null?(i.next=i,cl(n)):(i.next=h.next,h.next=i),n.interleaved=i,Pr(e,c)}function Pr(e,n){e.lanes|=n;var i=e.alternate;for(i!==null&&(i.lanes|=n),i=e,e=e.return;e!==null;)e.childLanes|=n,i=e.alternate,i!==null&&(i.childLanes|=n),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Qr=!1;function ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ed(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Or(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Xr(e,n,i){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Pe&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,Pr(e,i)}return h=c.interleaved,h===null?(n.next=n,cl(c)):(n.next=h.next,h.next=n),c.interleaved=n,Pr(e,i)}function uo(e,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Ni(e,i)}}function Cd(e,n){var i=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var x={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?h=m=x:m=m.next=x,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,effects:c.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=n:e.next=n,i.lastBaseUpdate=n}function ho(e,n,i,c){var h=e.updateQueue;Qr=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,D=R.next;R.next=null,x===null?m=D:x.next=D,x=R;var q=e.alternate;q!==null&&(q=q.updateQueue,S=q.lastBaseUpdate,S!==x&&(S===null?q.firstBaseUpdate=D:S.next=D,q.lastBaseUpdate=R))}if(m!==null){var H=h.baseState;x=0,q=D=R=null,S=m;do{var W=S.lane,Q=S.eventTime;if((c&W)===W){q!==null&&(q=q.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var te=e,ne=S;switch(W=n,Q=i,ne.tag){case 1:if(te=ne.payload,typeof te=="function"){H=te.call(Q,H,W);break e}H=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ne.payload,W=typeof te=="function"?te.call(Q,H,W):te,W==null)break e;H=V({},H,W);break e;case 2:Qr=!0}}S.callback!==null&&S.lane!==0&&(e.flags|=64,W=h.effects,W===null?h.effects=[S]:W.push(S))}else Q={eventTime:Q,lane:W,tag:S.tag,payload:S.payload,callback:S.callback,next:null},q===null?(D=q=Q,R=H):q=q.next=Q,x|=W;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;W=S,S=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(q===null&&(R=H),h.baseState=R,h.firstBaseUpdate=D,h.lastBaseUpdate=q,n=h.shared.interleaved,n!==null){h=n;do x|=h.lane,h=h.next;while(h!==n)}else m===null&&(h.shared.lanes=0);Sn|=x,e.lanes=x,e.memoizedState=H}}function Td(e,n,i){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var c=e[n],h=c.callback;if(h!==null){if(c.callback=null,c=i,typeof h!="function")throw Error(s(191,h));h.call(c)}}}var ea={},yr=Gr(ea),ta=Gr(ea),ra=Gr(ea);function Nn(e){if(e===ea)throw Error(s(174));return e}function dl(e,n){switch(ze(ra,n),ze(ta,e),ze(yr,ea),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:et(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=et(n,e)}He(yr),ze(yr,n)}function os(){He(yr),He(ta),He(ra)}function Rd(e){Nn(ra.current);var n=Nn(yr.current),i=et(n,e.type);n!==i&&(ze(ta,e),ze(yr,i))}function hl(e){ta.current===e&&(He(yr),He(ta))}var Qe=Gr(0);function fo(e){for(var n=e;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var fl=[];function ml(){for(var e=0;e<fl.length;e++)fl[e]._workInProgressVersionPrimary=null;fl.length=0}var mo=M.ReactCurrentDispatcher,pl=M.ReactCurrentBatchConfig,kn=0,Xe=null,mt=null,vt=null,po=!1,na=!1,sa=0,Tg=0;function St(){throw Error(s(321))}function gl(e,n){if(n===null)return!1;for(var i=0;i<n.length&&i<e.length;i++)if(!or(e[i],n[i]))return!1;return!0}function vl(e,n,i,c,h,m){if(kn=m,Xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,mo.current=e===null||e.memoizedState===null?Ag:Ig,e=i(c,h),na){m=0;do{if(na=!1,sa=0,25<=m)throw Error(s(301));m+=1,vt=mt=null,n.updateQueue=null,mo.current=Lg,e=i(c,h)}while(na)}if(mo.current=xo,n=mt!==null&&mt.next!==null,kn=0,vt=mt=Xe=null,po=!1,n)throw Error(s(300));return e}function xl(){var e=sa!==0;return sa=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Xe.memoizedState=vt=e:vt=vt.next=e,vt}function er(){if(mt===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var n=vt===null?Xe.memoizedState:vt.next;if(n!==null)vt=n,mt=e;else{if(e===null)throw Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?Xe.memoizedState=vt=e:vt=vt.next=e}return vt}function aa(e,n){return typeof n=="function"?n(e):n}function yl(e){var n=er(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var c=mt,h=c.baseQueue,m=i.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}c.baseQueue=h=m,i.pending=null}if(h!==null){m=h.next,c=c.baseState;var S=x=null,R=null,D=m;do{var q=D.lane;if((kn&q)===q)R!==null&&(R=R.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),c=D.hasEagerState?D.eagerState:e(c,D.action);else{var H={lane:q,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};R===null?(S=R=H,x=c):R=R.next=H,Xe.lanes|=q,Sn|=q}D=D.next}while(D!==null&&D!==m);R===null?x=c:R.next=S,or(c,n.memoizedState)||($t=!0),n.memoizedState=c,n.baseState=x,n.baseQueue=R,i.lastRenderedState=c}if(e=i.interleaved,e!==null){h=e;do m=h.lane,Xe.lanes|=m,Sn|=m,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function wl(e){var n=er(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var c=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var x=h=h.next;do m=e(m,x.action),x=x.next;while(x!==h);or(m,n.memoizedState)||($t=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,c]}function Pd(){}function Od(e,n){var i=Xe,c=er(),h=n(),m=!or(c.memoizedState,h);if(m&&(c.memoizedState=h,$t=!0),c=c.queue,bl(Ld.bind(null,i,c,e),[e]),c.getSnapshot!==n||m||vt!==null&&vt.memoizedState.tag&1){if(i.flags|=2048,oa(9,Id.bind(null,i,c,h,n),void 0,null),xt===null)throw Error(s(349));(kn&30)!==0||Ad(i,n,h)}return h}function Ad(e,n,i){e.flags|=16384,e={getSnapshot:n,value:i},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.stores=[e]):(i=n.stores,i===null?n.stores=[e]:i.push(e))}function Id(e,n,i,c){n.value=i,n.getSnapshot=c,Dd(n)&&$d(e)}function Ld(e,n,i){return i(function(){Dd(n)&&$d(e)})}function Dd(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!or(e,i)}catch{return!0}}function $d(e){var n=Pr(e,1);n!==null&&dr(n,e,1,-1)}function Md(e){var n=wr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},n.queue=e,e=e.dispatch=Og.bind(null,Xe,e),[n.memoizedState,e]}function oa(e,n,i,c){return e={tag:e,create:n,destroy:i,deps:c,next:null},n=Xe.updateQueue,n===null?(n={lastEffect:null,stores:null},Xe.updateQueue=n,n.lastEffect=e.next=e):(i=n.lastEffect,i===null?n.lastEffect=e.next=e:(c=i.next,i.next=e,e.next=c,n.lastEffect=e)),e}function Ud(){return er().memoizedState}function go(e,n,i,c){var h=wr();Xe.flags|=e,h.memoizedState=oa(1|n,i,void 0,c===void 0?null:c)}function vo(e,n,i,c){var h=er();c=c===void 0?null:c;var m=void 0;if(mt!==null){var x=mt.memoizedState;if(m=x.destroy,c!==null&&gl(c,x.deps)){h.memoizedState=oa(n,i,m,c);return}}Xe.flags|=e,h.memoizedState=oa(1|n,i,m,c)}function Fd(e,n){return go(8390656,8,e,n)}function bl(e,n){return vo(2048,8,e,n)}function zd(e,n){return vo(4,2,e,n)}function Bd(e,n){return vo(4,4,e,n)}function Wd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,i){return i=i!=null?i.concat([e]):null,vo(4,4,Wd.bind(null,n,e),i)}function _l(){}function Vd(e,n){var i=er();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&gl(n,c[1])?c[0]:(i.memoizedState=[e,n],e)}function Hd(e,n){var i=er();n=n===void 0?null:n;var c=i.memoizedState;return c!==null&&n!==null&&gl(n,c[1])?c[0]:(e=e(),i.memoizedState=[e,n],e)}function Kd(e,n,i){return(kn&21)===0?(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=i):(or(i,n)||(i=ju(),Xe.lanes|=i,Sn|=i,e.baseState=!0),n)}function Rg(e,n){var i=$e;$e=i!==0&&4>i?i:4,e(!0);var c=pl.transition;pl.transition={};try{e(!1),n()}finally{$e=i,pl.transition=c}}function Gd(){return er().memoizedState}function Pg(e,n,i){var c=rn(e);if(i={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null},Jd(e))Yd(n,i);else if(i=Sd(e,n,i,c),i!==null){var h=Pt();dr(i,e,c,h),Qd(i,n,c)}}function Og(e,n,i){var c=rn(e),h={lane:c,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jd(e))Yd(n,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var x=n.lastRenderedState,S=m(x,i);if(h.hasEagerState=!0,h.eagerState=S,or(S,x)){var R=n.interleaved;R===null?(h.next=h,cl(n)):(h.next=R.next,R.next=h),n.interleaved=h;return}}catch{}finally{}i=Sd(e,n,h,c),i!==null&&(h=Pt(),dr(i,e,c,h),Qd(i,n,c))}}function Jd(e){var n=e.alternate;return e===Xe||n!==null&&n===Xe}function Yd(e,n){na=po=!0;var i=e.pending;i===null?n.next=n:(n.next=i.next,i.next=n),e.pending=n}function Qd(e,n,i){if((i&4194240)!==0){var c=n.lanes;c&=e.pendingLanes,i|=c,n.lanes=i,Ni(e,i)}}var xo={readContext:Zt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},Ag={readContext:Zt,useCallback:function(e,n){return wr().memoizedState=[e,n===void 0?null:n],e},useContext:Zt,useEffect:Fd,useImperativeHandle:function(e,n,i){return i=i!=null?i.concat([e]):null,go(4194308,4,Wd.bind(null,n,e),i)},useLayoutEffect:function(e,n){return go(4194308,4,e,n)},useInsertionEffect:function(e,n){return go(4,2,e,n)},useMemo:function(e,n){var i=wr();return n=n===void 0?null:n,e=e(),i.memoizedState=[e,n],e},useReducer:function(e,n,i){var c=wr();return n=i!==void 0?i(n):n,c.memoizedState=c.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},c.queue=e,e=e.dispatch=Pg.bind(null,Xe,e),[c.memoizedState,e]},useRef:function(e){var n=wr();return e={current:e},n.memoizedState=e},useState:Md,useDebugValue:_l,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=Md(!1),n=e[0];return e=Rg.bind(null,e[1]),wr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,i){var c=Xe,h=wr();if(Je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),xt===null)throw Error(s(349));(kn&30)!==0||Ad(c,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,Fd(Ld.bind(null,c,m,e),[e]),c.flags|=2048,oa(9,Id.bind(null,c,m,i,n),void 0,null),i},useId:function(){var e=wr(),n=xt.identifierPrefix;if(Je){var i=Rr,c=Tr;i=(c&~(1<<32-ar(c)-1)).toString(32)+i,n=":"+n+"R"+i,i=sa++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Tg++,n=":"+n+"r"+i.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Ig={readContext:Zt,useCallback:Vd,useContext:Zt,useEffect:bl,useImperativeHandle:qd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:Hd,useReducer:yl,useRef:Ud,useState:function(){return yl(aa)},useDebugValue:_l,useDeferredValue:function(e){var n=er();return Kd(n,mt.memoizedState,e)},useTransition:function(){var e=yl(aa)[0],n=er().memoizedState;return[e,n]},useMutableSource:Pd,useSyncExternalStore:Od,useId:Gd,unstable_isNewReconciler:!1},Lg={readContext:Zt,useCallback:Vd,useContext:Zt,useEffect:bl,useImperativeHandle:qd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:Hd,useReducer:wl,useRef:Ud,useState:function(){return wl(aa)},useDebugValue:_l,useDeferredValue:function(e){var n=er();return mt===null?n.memoizedState=e:Kd(n,mt.memoizedState,e)},useTransition:function(){var e=wl(aa)[0],n=er().memoizedState;return[e,n]},useMutableSource:Pd,useSyncExternalStore:Od,useId:Gd,unstable_isNewReconciler:!1};function lr(e,n){if(e&&e.defaultProps){n=V({},n),e=e.defaultProps;for(var i in e)n[i]===void 0&&(n[i]=e[i]);return n}return n}function jl(e,n,i,c){n=e.memoizedState,i=i(c,n),i=i==null?n:V({},n,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var yo={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,n,i){e=e._reactInternals;var c=Pt(),h=rn(e),m=Or(c,h);m.payload=n,i!=null&&(m.callback=i),n=Xr(e,m,h),n!==null&&(dr(n,e,h,c),uo(n,e,h))},enqueueReplaceState:function(e,n,i){e=e._reactInternals;var c=Pt(),h=rn(e),m=Or(c,h);m.tag=1,m.payload=n,i!=null&&(m.callback=i),n=Xr(e,m,h),n!==null&&(dr(n,e,h,c),uo(n,e,h))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var i=Pt(),c=rn(e),h=Or(i,c);h.tag=2,n!=null&&(h.callback=n),n=Xr(e,h,c),n!==null&&(dr(n,e,c,i),uo(n,e,c))}};function Xd(e,n,i,c,h,m,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,x):n.prototype&&n.prototype.isPureReactComponent?!Hs(i,c)||!Hs(h,m):!0}function Zd(e,n,i){var c=!1,h=Jr,m=n.contextType;return typeof m=="object"&&m!==null?m=Zt(m):(h=Dt(n)?wn:kt.current,c=n.contextTypes,m=(c=c!=null)?Zn(e,h):Jr),n=new n(i,m),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=yo,e.stateNode=n,n._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),n}function eh(e,n,i,c){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==e&&yo.enqueueReplaceState(n,n.state,null)}function Nl(e,n,i,c){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},ul(e);var m=n.contextType;typeof m=="object"&&m!==null?h.context=Zt(m):(m=Dt(n)?wn:kt.current,h.context=Zn(e,m)),h.state=e.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(jl(e,n,m,i),h.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(n=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),n!==h.state&&yo.enqueueReplaceState(h,h.state,null),ho(e,i,h,c),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,n){try{var i="",c=n;do i+=de(c),c=c.return;while(c);var h=i}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:n,stack:h,digest:null}}function kl(e,n,i){return{value:e,source:null,stack:i??null,digest:n??null}}function Sl(e,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function th(e,n,i){i=Or(-1,i),i.tag=3,i.payload={element:null};var c=n.value;return i.callback=function(){So||(So=!0,zl=c),Sl(e,n)},i}function rh(e,n,i){i=Or(-1,i),i.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var h=n.value;i.payload=function(){return c(h)},i.callback=function(){Sl(e,n)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){Sl(e,n),typeof c!="function"&&(en===null?en=new Set([this]):en.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),i}function nh(e,n,i){var c=e.pingCache;if(c===null){c=e.pingCache=new Dg;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(h.add(i),e=Yg.bind(null,e,n,i),n.then(e,e))}function sh(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function ah(e,n,i,c,h){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=Or(-1,1),n.tag=2,Xr(i,n,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var $g=M.ReactCurrentOwner,$t=!1;function Rt(e,n,i,c){n.child=e===null?kd(n,null,i,c):ns(n,e.child,i,c)}function oh(e,n,i,c,h){i=i.render;var m=n.ref;return as(n,h),c=vl(e,n,i,c,m,h),i=xl(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Ar(e,n,h)):(Je&&i&&el(n),n.flags|=1,Rt(e,n,c,h),n.child)}function ih(e,n,i,c,h){if(e===null){var m=i.type;return typeof m=="function"&&!Gl(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=m,lh(e,n,m,c,h)):(e=Oo(i.type,null,c,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,(e.lanes&h)===0){var x=m.memoizedProps;if(i=i.compare,i=i!==null?i:Hs,i(x,c)&&e.ref===n.ref)return Ar(e,n,h)}return n.flags|=1,e=sn(m,c),e.ref=n.ref,e.return=n,n.child=e}function lh(e,n,i,c,h){if(e!==null){var m=e.memoizedProps;if(Hs(m,c)&&e.ref===n.ref)if($t=!1,n.pendingProps=c=m,(e.lanes&h)!==0)(e.flags&131072)!==0&&($t=!0);else return n.lanes=e.lanes,Ar(e,n,h)}return El(e,n,i,c,h)}function ch(e,n,i){var c=n.pendingProps,h=c.children,m=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(cs,qt),qt|=i;else{if((i&1073741824)===0)return e=m!==null?m.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ze(cs,qt),qt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=m!==null?m.baseLanes:i,ze(cs,qt),qt|=c}else m!==null?(c=m.baseLanes|i,n.memoizedState=null):c=i,ze(cs,qt),qt|=c;return Rt(e,n,h,i),n.child}function uh(e,n){var i=n.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function El(e,n,i,c,h){var m=Dt(i)?wn:kt.current;return m=Zn(n,m),as(n,h),i=vl(e,n,i,c,m,h),c=xl(),e!==null&&!$t?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~h,Ar(e,n,h)):(Je&&c&&el(n),n.flags|=1,Rt(e,n,i,h),n.child)}function dh(e,n,i,c,h){if(Dt(i)){var m=!0;ro(n)}else m=!1;if(as(n,h),n.stateNode===null)bo(e,n),Zd(n,i,c),Nl(n,i,c,h),c=!0;else if(e===null){var x=n.stateNode,S=n.memoizedProps;x.props=S;var R=x.context,D=i.contextType;typeof D=="object"&&D!==null?D=Zt(D):(D=Dt(i)?wn:kt.current,D=Zn(n,D));var q=i.getDerivedStateFromProps,H=typeof q=="function"||typeof x.getSnapshotBeforeUpdate=="function";H||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==c||R!==D)&&eh(n,x,c,D),Qr=!1;var W=n.memoizedState;x.state=W,ho(n,c,x,h),R=n.memoizedState,S!==c||W!==R||Lt.current||Qr?(typeof q=="function"&&(jl(n,i,q,c),R=n.memoizedState),(S=Qr||Xd(n,i,S,c,W,R,D))?(H||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=R),x.props=c,x.state=R,x.context=D,c=S):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{x=n.stateNode,Ed(e,n),S=n.memoizedProps,D=n.type===n.elementType?S:lr(n.type,S),x.props=D,H=n.pendingProps,W=x.context,R=i.contextType,typeof R=="object"&&R!==null?R=Zt(R):(R=Dt(i)?wn:kt.current,R=Zn(n,R));var Q=i.getDerivedStateFromProps;(q=typeof Q=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==H||W!==R)&&eh(n,x,c,R),Qr=!1,W=n.memoizedState,x.state=W,ho(n,c,x,h);var te=n.memoizedState;S!==H||W!==te||Lt.current||Qr?(typeof Q=="function"&&(jl(n,i,Q,c),te=n.memoizedState),(D=Qr||Xd(n,i,D,c,W,te,R)||!1)?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(c,te,R),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(c,te,R)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=te),x.props=c,x.state=te,x.context=R,c=D):(typeof x.componentDidUpdate!="function"||S===e.memoizedProps&&W===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&W===e.memoizedState||(n.flags|=1024),c=!1)}return Cl(e,n,i,c,m,h)}function Cl(e,n,i,c,h,m){uh(e,n);var x=(n.flags&128)!==0;if(!c&&!x)return h&&gd(n,i,!1),Ar(e,n,m);c=n.stateNode,$g.current=n;var S=x&&typeof i.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,e!==null&&x?(n.child=ns(n,e.child,null,m),n.child=ns(n,null,S,m)):Rt(e,n,S,m),n.memoizedState=c.state,h&&gd(n,i,!0),n.child}function hh(e){var n=e.stateNode;n.pendingContext?md(e,n.pendingContext,n.pendingContext!==n.context):n.context&&md(e,n.context,!1),dl(e,n.containerInfo)}function fh(e,n,i,c,h){return rs(),sl(h),n.flags|=256,Rt(e,n,i,c),n.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,n,i){var c=n.pendingProps,h=Qe.current,m=!1,x=(n.flags&128)!==0,S;if((S=x)||(S=e!==null&&e.memoizedState===null?!1:(h&2)!==0),S?(m=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),ze(Qe,h&1),e===null)return nl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(x=c.children,e=c.fallback,m?(c=n.mode,m=n.child,x={mode:"hidden",children:x},(c&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Ao(x,c,0,null),e=Rn(e,c,i,null),m.return=n,e.return=n,m.sibling=e,n.child=m,n.child.memoizedState=Rl(i),n.memoizedState=Tl,e):Pl(n,x));if(h=e.memoizedState,h!==null&&(S=h.dehydrated,S!==null))return Mg(e,n,x,c,S,h,i);if(m){m=c.fallback,x=n.mode,h=e.child,S=h.sibling;var R={mode:"hidden",children:c.children};return(x&1)===0&&n.child!==h?(c=n.child,c.childLanes=0,c.pendingProps=R,n.deletions=null):(c=sn(h,R),c.subtreeFlags=h.subtreeFlags&14680064),S!==null?m=sn(S,m):(m=Rn(m,x,i,null),m.flags|=2),m.return=n,c.return=n,c.sibling=m,n.child=c,c=m,m=n.child,x=e.child.memoizedState,x=x===null?Rl(i):{baseLanes:x.baseLanes|i,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=e.childLanes&~i,n.memoizedState=Tl,c}return m=e.child,e=m.sibling,c=sn(m,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=i),c.return=n,c.sibling=null,e!==null&&(i=n.deletions,i===null?(n.deletions=[e],n.flags|=16):i.push(e)),n.child=c,n.memoizedState=null,c}function Pl(e,n){return n=Ao({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function wo(e,n,i,c){return c!==null&&sl(c),ns(n,e.child,null,i),e=Pl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Mg(e,n,i,c,h,m,x){if(i)return n.flags&256?(n.flags&=-257,c=kl(Error(s(422))),wo(e,n,x,c)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(m=c.fallback,h=n.mode,c=Ao({mode:"visible",children:c.children},h,0,null),m=Rn(m,h,x,null),m.flags|=2,c.return=n,m.return=n,c.sibling=m,n.child=c,(n.mode&1)!==0&&ns(n,e.child,null,x),n.child.memoizedState=Rl(x),n.memoizedState=Tl,m);if((n.mode&1)===0)return wo(e,n,x,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var S=c.dgst;return c=S,m=Error(s(419)),c=kl(m,c,void 0),wo(e,n,x,c)}if(S=(x&e.childLanes)!==0,$t||S){if(c=xt,c!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|x))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Pr(e,h),dr(c,e,h,-1))}return Kl(),c=kl(Error(s(421))),wo(e,n,x,c)}return h.data==="$?"?(n.flags|=128,n.child=e.child,n=Qg.bind(null,e),h._reactRetry=n,null):(e=m.treeContext,Wt=Kr(h.nextSibling),Bt=n,Je=!0,ir=null,e!==null&&(Qt[Xt++]=Tr,Qt[Xt++]=Rr,Qt[Xt++]=bn,Tr=e.id,Rr=e.overflow,bn=n),n=Pl(n,c.children),n.flags|=4096,n)}function ph(e,n,i){e.lanes|=n;var c=e.alternate;c!==null&&(c.lanes|=n),ll(e.return,n,i)}function Ol(e,n,i,c,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=i,m.tailMode=h)}function gh(e,n,i){var c=n.pendingProps,h=c.revealOrder,m=c.tail;if(Rt(e,n,c.children,i),c=Qe.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ph(e,i,n);else if(e.tag===19)ph(e,i,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(ze(Qe,c),(n.mode&1)===0)n.memoizedState=null;else switch(h){case"forwards":for(i=n.child,h=null;i!==null;)e=i.alternate,e!==null&&fo(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Ol(n,!1,h,i,m);break;case"backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&fo(e)===null){n.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Ol(n,!0,i,null,m);break;case"together":Ol(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function bo(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Ar(e,n,i){if(e!==null&&(n.dependencies=e.dependencies),Sn|=n.lanes,(i&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,i=sn(e,e.pendingProps),n.child=i,i.return=n;e.sibling!==null;)e=e.sibling,i=i.sibling=sn(e,e.pendingProps),i.return=n;i.sibling=null}return n.child}function Ug(e,n,i){switch(n.tag){case 3:hh(n),rs();break;case 5:Rd(n);break;case 1:Dt(n.type)&&ro(n);break;case 4:dl(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,h=n.memoizedProps.value;ze(lo,c._currentValue),c._currentValue=h;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(ze(Qe,Qe.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?mh(e,n,i):(ze(Qe,Qe.current&1),e=Ar(e,n,i),e!==null?e.sibling:null);ze(Qe,Qe.current&1);break;case 19:if(c=(i&n.childLanes)!==0,(e.flags&128)!==0){if(c)return gh(e,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(Qe,Qe.current),c)break;return null;case 22:case 23:return n.lanes=0,ch(e,n,i)}return Ar(e,n,i)}var vh,Al,xh,yh;vh=function(e,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Al=function(){},xh=function(e,n,i,c){var h=e.memoizedProps;if(h!==c){e=n.stateNode,Nn(yr.current);var m=null;switch(i){case"input":h=ke(e,h),c=ke(e,c),m=[];break;case"select":h=V({},h,{value:void 0}),c=V({},c,{value:void 0}),m=[];break;case"textarea":h=re(e,h),c=re(e,c),m=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Za)}fi(i,c);var x;i=null;for(D in h)if(!c.hasOwnProperty(D)&&h.hasOwnProperty(D)&&h[D]!=null)if(D==="style"){var S=h[D];for(x in S)S.hasOwnProperty(x)&&(i||(i={}),i[x]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(l.hasOwnProperty(D)?m||(m=[]):(m=m||[]).push(D,null));for(D in c){var R=c[D];if(S=h!=null?h[D]:void 0,c.hasOwnProperty(D)&&R!==S&&(R!=null||S!=null))if(D==="style")if(S){for(x in S)!S.hasOwnProperty(x)||R&&R.hasOwnProperty(x)||(i||(i={}),i[x]="");for(x in R)R.hasOwnProperty(x)&&S[x]!==R[x]&&(i||(i={}),i[x]=R[x])}else i||(m||(m=[]),m.push(D,i)),i=R;else D==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,S=S?S.__html:void 0,R!=null&&S!==R&&(m=m||[]).push(D,R)):D==="children"?typeof R!="string"&&typeof R!="number"||(m=m||[]).push(D,""+R):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(l.hasOwnProperty(D)?(R!=null&&D==="onScroll"&&Ve("scroll",e),m||S===R||(m=[])):(m=m||[]).push(D,R))}i&&(m=m||[]).push("style",i);var D=m;(n.updateQueue=D)&&(n.flags|=4)}},yh=function(e,n,i,c){i!==c&&(n.flags|=4)};function ia(e,n){if(!Je)switch(e.tailMode){case"hidden":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Et(e){var n=e.alternate!==null&&e.alternate.child===e.child,i=0,c=0;if(n)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=c,e.childLanes=i,n}function Fg(e,n,i){var c=n.pendingProps;switch(tl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(n),null;case 1:return Dt(n.type)&&to(),Et(n),null;case 3:return c=n.stateNode,os(),He(Lt),He(kt),ml(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(oo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ir!==null&&(ql(ir),ir=null))),Al(e,n),Et(n),null;case 5:hl(n);var h=Nn(ra.current);if(i=n.type,e!==null&&n.stateNode!=null)xh(e,n,i,c,h),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(s(166));return Et(n),null}if(e=Nn(yr.current),oo(n)){c=n.stateNode,i=n.type;var m=n.memoizedProps;switch(c[xr]=n,c[Qs]=m,e=(n.mode&1)!==0,i){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(h=0;h<Gs.length;h++)Ve(Gs[h],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":Fe(c,m),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!m.multiple},Ve("invalid",c);break;case"textarea":we(c,m),Ve("invalid",c)}fi(i,m),h=null;for(var x in m)if(m.hasOwnProperty(x)){var S=m[x];x==="children"?typeof S=="string"?c.textContent!==S&&(m.suppressHydrationWarning!==!0&&Xa(c.textContent,S,e),h=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(m.suppressHydrationWarning!==!0&&Xa(c.textContent,S,e),h=["children",""+S]):l.hasOwnProperty(x)&&S!=null&&x==="onScroll"&&Ve("scroll",c)}switch(i){case"input":Sr(c),ft(c,m,!0);break;case"textarea":Sr(c),_e(c);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(c.onclick=Za)}c=h,n.updateQueue=c,c!==null&&(n.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=it(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=x.createElement(i,{is:c.is}):(e=x.createElement(i),i==="select"&&(x=e,c.multiple?x.multiple=!0:c.size&&(x.size=c.size))):e=x.createElementNS(e,i),e[xr]=n,e[Qs]=c,vh(e,n,!1,!1),n.stateNode=e;e:{switch(x=mi(i,c),i){case"dialog":Ve("cancel",e),Ve("close",e),h=c;break;case"iframe":case"object":case"embed":Ve("load",e),h=c;break;case"video":case"audio":for(h=0;h<Gs.length;h++)Ve(Gs[h],e);h=c;break;case"source":Ve("error",e),h=c;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),h=c;break;case"details":Ve("toggle",e),h=c;break;case"input":Fe(e,c),h=ke(e,c),Ve("invalid",e);break;case"option":h=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},h=V({},c,{value:void 0}),Ve("invalid",e);break;case"textarea":we(e,c),h=re(e,c),Ve("invalid",e);break;default:h=c}fi(i,h),S=h;for(m in S)if(S.hasOwnProperty(m)){var R=S[m];m==="style"?lu(e,R):m==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&lt(e,R)):m==="children"?typeof R=="string"?(i!=="textarea"||R!=="")&&nt(e,R):typeof R=="number"&&nt(e,""+R):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(l.hasOwnProperty(m)?R!=null&&m==="onScroll"&&Ve("scroll",e):R!=null&&P(e,m,R,x))}switch(i){case"input":Sr(e),ft(e,c,!1);break;case"textarea":Sr(e),_e(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Re(c.value));break;case"select":e.multiple=!!c.multiple,m=c.value,m!=null?B(e,!!c.multiple,m,!1):c.defaultValue!=null&&B(e,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Za)}switch(i){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Et(n),null;case 6:if(e&&n.stateNode!=null)yh(e,n,e.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(i=Nn(ra.current),Nn(yr.current),oo(n)){if(c=n.stateNode,i=n.memoizedProps,c[xr]=n,(m=c.nodeValue!==i)&&(e=Bt,e!==null))switch(e.tag){case 3:Xa(c.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xa(c.nodeValue,i,(e.mode&1)!==0)}m&&(n.flags|=4)}else c=(i.nodeType===9?i:i.ownerDocument).createTextNode(c),c[xr]=n,n.stateNode=c}return Et(n),null;case 13:if(He(Qe),c=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&Wt!==null&&(n.mode&1)!==0&&(n.flags&128)===0)_d(),rs(),n.flags|=98560,m=!1;else if(m=oo(n),c!==null&&c.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=n.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[xr]=n}else rs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Et(n),m=!1}else ir!==null&&(ql(ir),ir=null),m=!0;if(!m)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Qe.current&1)!==0?pt===0&&(pt=3):Kl())),n.updateQueue!==null&&(n.flags|=4),Et(n),null);case 4:return os(),Al(e,n),e===null&&Js(n.stateNode.containerInfo),Et(n),null;case 10:return il(n.type._context),Et(n),null;case 17:return Dt(n.type)&&to(),Et(n),null;case 19:if(He(Qe),m=n.memoizedState,m===null)return Et(n),null;if(c=(n.flags&128)!==0,x=m.rendering,x===null)if(c)ia(m,!1);else{if(pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=fo(e),x!==null){for(n.flags|=128,ia(m,!1),c=x.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=i,i=n.child;i!==null;)m=i,e=c,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,e=x.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ze(Qe,Qe.current&1|2),n.child}e=e.sibling}m.tail!==null&&st()>us&&(n.flags|=128,c=!0,ia(m,!1),n.lanes=4194304)}else{if(!c)if(e=fo(x),e!==null){if(n.flags|=128,c=!0,i=e.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),ia(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Je)return Et(n),null}else 2*st()-m.renderingStartTime>us&&i!==1073741824&&(n.flags|=128,c=!0,ia(m,!1),n.lanes=4194304);m.isBackwards?(x.sibling=n.child,n.child=x):(i=m.last,i!==null?i.sibling=x:n.child=x,m.last=x)}return m.tail!==null?(n=m.tail,m.rendering=n,m.tail=n.sibling,m.renderingStartTime=st(),n.sibling=null,i=Qe.current,ze(Qe,c?i&1|2:i&1),n):(Et(n),null);case 22:case 23:return Hl(),c=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(qt&1073741824)!==0&&(Et(n),n.subtreeFlags&6&&(n.flags|=8192)):Et(n),null;case 24:return null;case 25:return null}throw Error(s(156,n.tag))}function zg(e,n){switch(tl(n),n.tag){case 1:return Dt(n.type)&&to(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return os(),He(Lt),He(kt),ml(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return hl(n),null;case 13:if(He(Qe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return He(Qe),null;case 4:return os(),null;case 10:return il(n.type._context),null;case 22:case 23:return Hl(),null;case 24:return null;default:return null}}var _o=!1,Ct=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ls(e,n){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(c){tt(e,n,c)}else i.current=null}function Il(e,n,i){try{i()}catch(c){tt(e,n,c)}}var wh=!1;function Wg(e,n){if(Hi=za,e=Xu(),Mi(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var x=0,S=-1,R=-1,D=0,q=0,H=e,W=null;t:for(;;){for(var Q;H!==i||h!==0&&H.nodeType!==3||(S=x+h),H!==m||c!==0&&H.nodeType!==3||(R=x+c),H.nodeType===3&&(x+=H.nodeValue.length),(Q=H.firstChild)!==null;)W=H,H=Q;for(;;){if(H===e)break t;if(W===i&&++D===h&&(S=x),W===m&&++q===c&&(R=x),(Q=H.nextSibling)!==null)break;H=W,W=H.parentNode}H=Q}i=S===-1||R===-1?null:{start:S,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ki={focusedElem:e,selectionRange:i},za=!1,Z=n;Z!==null;)if(n=Z,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Z=e;else for(;Z!==null;){n=Z;try{var te=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var ne=te.memoizedProps,at=te.memoizedState,I=n.stateNode,O=I.getSnapshotBeforeUpdate(n.elementType===n.type?ne:lr(n.type,ne),at);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var L=n.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(G){tt(n,n.return,G)}if(e=n.sibling,e!==null){e.return=n.return,Z=e;break}Z=n.return}return te=wh,wh=!1,te}function la(e,n,i){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&Il(n,i,m)}h=h.next}while(h!==c)}}function jo(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var c=i.create;i.destroy=c()}i=i.next}while(i!==n)}}function Ll(e){var n=e.ref;if(n!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof n=="function"?n(e):n.current=e}}function bh(e){var n=e.alternate;n!==null&&(e.alternate=null,bh(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[xr],delete n[Qs],delete n[Qi],delete n[kg],delete n[Sg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _h(e){return e.tag===5||e.tag===3||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dl(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(e,n):i.insertBefore(e,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(e,i)):(n=i,n.appendChild(e)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Za));else if(c!==4&&(e=e.child,e!==null))for(Dl(e,n,i),e=e.sibling;e!==null;)Dl(e,n,i),e=e.sibling}function $l(e,n,i){var c=e.tag;if(c===5||c===6)e=e.stateNode,n?i.insertBefore(e,n):i.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for($l(e,n,i),e=e.sibling;e!==null;)$l(e,n,i),e=e.sibling}var bt=null,cr=!1;function Zr(e,n,i){for(i=i.child;i!==null;)Nh(e,n,i),i=i.sibling}function Nh(e,n,i){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(La,i)}catch{}switch(i.tag){case 5:Ct||ls(i,n);case 6:var c=bt,h=cr;bt=null,Zr(e,n,i),bt=c,cr=h,bt!==null&&(cr?(e=bt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):bt.removeChild(i.stateNode));break;case 18:bt!==null&&(cr?(e=bt,i=i.stateNode,e.nodeType===8?Yi(e.parentNode,i):e.nodeType===1&&Yi(e,i),Fs(e)):Yi(bt,i.stateNode));break;case 4:c=bt,h=cr,bt=i.stateNode.containerInfo,cr=!0,Zr(e,n,i),bt=c,cr=h;break;case 0:case 11:case 14:case 15:if(!Ct&&(c=i.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var m=h,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Il(i,n,x),h=h.next}while(h!==c)}Zr(e,n,i);break;case 1:if(!Ct&&(ls(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=i.memoizedProps,c.state=i.memoizedState,c.componentWillUnmount()}catch(S){tt(i,n,S)}Zr(e,n,i);break;case 21:Zr(e,n,i);break;case 22:i.mode&1?(Ct=(c=Ct)||i.memoizedState!==null,Zr(e,n,i),Ct=c):Zr(e,n,i);break;default:Zr(e,n,i)}}function kh(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Bg),n.forEach(function(c){var h=Xg.bind(null,e,c);i.has(c)||(i.add(c),c.then(h,h))})}}function ur(e,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];try{var m=e,x=n,S=x;e:for(;S!==null;){switch(S.tag){case 5:bt=S.stateNode,cr=!1;break e;case 3:bt=S.stateNode.containerInfo,cr=!0;break e;case 4:bt=S.stateNode.containerInfo,cr=!0;break e}S=S.return}if(bt===null)throw Error(s(160));Nh(m,x,h),bt=null,cr=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(D){tt(h,n,D)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Sh(n,e),n=n.sibling}function Sh(e,n){var i=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(n,e),br(e),c&4){try{la(3,e,e.return),jo(3,e)}catch(ne){tt(e,e.return,ne)}try{la(5,e,e.return)}catch(ne){tt(e,e.return,ne)}}break;case 1:ur(n,e),br(e),c&512&&i!==null&&ls(i,i.return);break;case 5:if(ur(n,e),br(e),c&512&&i!==null&&ls(i,i.return),e.flags&32){var h=e.stateNode;try{nt(h,"")}catch(ne){tt(e,e.return,ne)}}if(c&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,x=i!==null?i.memoizedProps:m,S=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{S==="input"&&m.type==="radio"&&m.name!=null&&ot(h,m),mi(S,x);var D=mi(S,m);for(x=0;x<R.length;x+=2){var q=R[x],H=R[x+1];q==="style"?lu(h,H):q==="dangerouslySetInnerHTML"?lt(h,H):q==="children"?nt(h,H):P(h,q,H,D)}switch(S){case"input":Le(h,m);break;case"textarea":Ge(h,m);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?B(h,!!m.multiple,Q,!1):W!==!!m.multiple&&(m.defaultValue!=null?B(h,!!m.multiple,m.defaultValue,!0):B(h,!!m.multiple,m.multiple?[]:"",!1))}h[Qs]=m}catch(ne){tt(e,e.return,ne)}}break;case 6:if(ur(n,e),br(e),c&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(ne){tt(e,e.return,ne)}}break;case 3:if(ur(n,e),br(e),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Fs(n.containerInfo)}catch(ne){tt(e,e.return,ne)}break;case 4:ur(n,e),br(e);break;case 13:ur(n,e),br(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Fl=st())),c&4&&kh(e);break;case 22:if(q=i!==null&&i.memoizedState!==null,e.mode&1?(Ct=(D=Ct)||q,ur(n,e),Ct=D):ur(n,e),br(e),c&8192){if(D=e.memoizedState!==null,(e.stateNode.isHidden=D)&&!q&&(e.mode&1)!==0)for(Z=e,q=e.child;q!==null;){for(H=Z=q;Z!==null;){switch(W=Z,Q=W.child,W.tag){case 0:case 11:case 14:case 15:la(4,W,W.return);break;case 1:ls(W,W.return);var te=W.stateNode;if(typeof te.componentWillUnmount=="function"){c=W,i=W.return;try{n=c,te.props=n.memoizedProps,te.state=n.memoizedState,te.componentWillUnmount()}catch(ne){tt(c,i,ne)}}break;case 5:ls(W,W.return);break;case 22:if(W.memoizedState!==null){Th(H);continue}}Q!==null?(Q.return=W,Z=Q):Th(H)}q=q.sibling}e:for(q=null,H=e;;){if(H.tag===5){if(q===null){q=H;try{h=H.stateNode,D?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(S=H.stateNode,R=H.memoizedProps.style,x=R!=null&&R.hasOwnProperty("display")?R.display:null,S.style.display=iu("display",x))}catch(ne){tt(e,e.return,ne)}}}else if(H.tag===6){if(q===null)try{H.stateNode.nodeValue=D?"":H.memoizedProps}catch(ne){tt(e,e.return,ne)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===e)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===e)break e;for(;H.sibling===null;){if(H.return===null||H.return===e)break e;q===H&&(q=null),H=H.return}q===H&&(q=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:ur(n,e),br(e),c&4&&kh(e);break;case 21:break;default:ur(n,e),br(e)}}function br(e){var n=e.flags;if(n&2){try{e:{for(var i=e.return;i!==null;){if(_h(i)){var c=i;break e}i=i.return}throw Error(s(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(nt(h,""),c.flags&=-33);var m=jh(e);$l(e,m,h);break;case 3:case 4:var x=c.stateNode.containerInfo,S=jh(e);Dl(e,S,x);break;default:throw Error(s(161))}}catch(R){tt(e,e.return,R)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function qg(e,n,i){Z=e,Eh(e)}function Eh(e,n,i){for(var c=(e.mode&1)!==0;Z!==null;){var h=Z,m=h.child;if(h.tag===22&&c){var x=h.memoizedState!==null||_o;if(!x){var S=h.alternate,R=S!==null&&S.memoizedState!==null||Ct;S=_o;var D=Ct;if(_o=x,(Ct=R)&&!D)for(Z=h;Z!==null;)x=Z,R=x.child,x.tag===22&&x.memoizedState!==null?Rh(h):R!==null?(R.return=x,Z=R):Rh(h);for(;m!==null;)Z=m,Eh(m),m=m.sibling;Z=h,_o=S,Ct=D}Ch(e)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Z=m):Ch(e)}}function Ch(e){for(;Z!==null;){var n=Z;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Ct||jo(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!Ct)if(i===null)c.componentDidMount();else{var h=n.elementType===n.type?i.memoizedProps:lr(n.type,i.memoizedProps);c.componentDidUpdate(h,i.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var m=n.updateQueue;m!==null&&Td(n,m,c);break;case 3:var x=n.updateQueue;if(x!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Td(n,x,i)}break;case 5:var S=n.stateNode;if(i===null&&n.flags&4){i=S;var R=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&i.focus();break;case"img":R.src&&(i.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var D=n.alternate;if(D!==null){var q=D.memoizedState;if(q!==null){var H=q.dehydrated;H!==null&&Fs(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ct||n.flags&512&&Ll(n)}catch(W){tt(n,n.return,W)}}if(n===e){Z=null;break}if(i=n.sibling,i!==null){i.return=n.return,Z=i;break}Z=n.return}}function Th(e){for(;Z!==null;){var n=Z;if(n===e){Z=null;break}var i=n.sibling;if(i!==null){i.return=n.return,Z=i;break}Z=n.return}}function Rh(e){for(;Z!==null;){var n=Z;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{jo(4,n)}catch(R){tt(n,i,R)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var h=n.return;try{c.componentDidMount()}catch(R){tt(n,h,R)}}var m=n.return;try{Ll(n)}catch(R){tt(n,m,R)}break;case 5:var x=n.return;try{Ll(n)}catch(R){tt(n,x,R)}}}catch(R){tt(n,n.return,R)}if(n===e){Z=null;break}var S=n.sibling;if(S!==null){S.return=n.return,Z=S;break}Z=n.return}}var Vg=Math.ceil,No=M.ReactCurrentDispatcher,Ml=M.ReactCurrentOwner,tr=M.ReactCurrentBatchConfig,Pe=0,xt=null,ct=null,_t=0,qt=0,cs=Gr(0),pt=0,ca=null,Sn=0,ko=0,Ul=0,ua=null,Mt=null,Fl=0,us=1/0,Ir=null,So=!1,zl=null,en=null,Eo=!1,tn=null,Co=0,da=0,Bl=null,To=-1,Ro=0;function Pt(){return(Pe&6)!==0?st():To!==-1?To:To=st()}function rn(e){return(e.mode&1)===0?1:(Pe&2)!==0&&_t!==0?_t&-_t:Cg.transition!==null?(Ro===0&&(Ro=ju()),Ro):(e=$e,e!==0||(e=window.event,e=e===void 0?16:Ou(e.type)),e)}function dr(e,n,i,c){if(50<da)throw da=0,Bl=null,Error(s(185));Ls(e,i,c),((Pe&2)===0||e!==xt)&&(e===xt&&((Pe&2)===0&&(ko|=i),pt===4&&nn(e,_t)),Ut(e,c),i===1&&Pe===0&&(n.mode&1)===0&&(us=st()+500,no&&Yr()))}function Ut(e,n){var i=e.callbackNode;Cp(e,n);var c=Ma(e,e===xt?_t:0);if(c===0)i!==null&&wu(i),e.callbackNode=null,e.callbackPriority=0;else if(n=c&-c,e.callbackPriority!==n){if(i!=null&&wu(i),n===1)e.tag===0?Eg(Oh.bind(null,e)):vd(Oh.bind(null,e)),jg(function(){(Pe&6)===0&&Yr()}),i=null;else{switch(Nu(c)){case 1:i=bi;break;case 4:i=bu;break;case 16:i=Ia;break;case 536870912:i=_u;break;default:i=Ia}i=Fh(i,Ph.bind(null,e))}e.callbackPriority=n,e.callbackNode=i}}function Ph(e,n){if(To=-1,Ro=0,(Pe&6)!==0)throw Error(s(327));var i=e.callbackNode;if(ds()&&e.callbackNode!==i)return null;var c=Ma(e,e===xt?_t:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||n)n=Po(e,c);else{n=c;var h=Pe;Pe|=2;var m=Ih();(xt!==e||_t!==n)&&(Ir=null,us=st()+500,Cn(e,n));do try{Gg();break}catch(S){Ah(e,S)}while(!0);ol(),No.current=m,Pe=h,ct!==null?n=0:(xt=null,_t=0,n=pt)}if(n!==0){if(n===2&&(h=_i(e),h!==0&&(c=h,n=Wl(e,h))),n===1)throw i=ca,Cn(e,0),nn(e,c),Ut(e,st()),i;if(n===6)nn(e,c);else{if(h=e.current.alternate,(c&30)===0&&!Hg(h)&&(n=Po(e,c),n===2&&(m=_i(e),m!==0&&(c=m,n=Wl(e,m))),n===1))throw i=ca,Cn(e,0),nn(e,c),Ut(e,st()),i;switch(e.finishedWork=h,e.finishedLanes=c,n){case 0:case 1:throw Error(s(345));case 2:Tn(e,Mt,Ir);break;case 3:if(nn(e,c),(c&130023424)===c&&(n=Fl+500-st(),10<n)){if(Ma(e,0)!==0)break;if(h=e.suspendedLanes,(h&c)!==c){Pt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ji(Tn.bind(null,e,Mt,Ir),n);break}Tn(e,Mt,Ir);break;case 4:if(nn(e,c),(c&4194240)===c)break;for(n=e.eventTimes,h=-1;0<c;){var x=31-ar(c);m=1<<x,x=n[x],x>h&&(h=x),c&=~m}if(c=h,c=st()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Vg(c/1960))-c,10<c){e.timeoutHandle=Ji(Tn.bind(null,e,Mt,Ir),c);break}Tn(e,Mt,Ir);break;case 5:Tn(e,Mt,Ir);break;default:throw Error(s(329))}}}return Ut(e,st()),e.callbackNode===i?Ph.bind(null,e):null}function Wl(e,n){var i=ua;return e.current.memoizedState.isDehydrated&&(Cn(e,n).flags|=256),e=Po(e,n),e!==2&&(n=Mt,Mt=i,n!==null&&ql(n)),e}function ql(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function Hg(e){for(var n=e;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var c=0;c<i.length;c++){var h=i[c],m=h.getSnapshot;h=h.value;try{if(!or(m(),h))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function nn(e,n){for(n&=~Ul,n&=~ko,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var i=31-ar(n),c=1<<i;e[i]=-1,n&=~c}}function Oh(e){if((Pe&6)!==0)throw Error(s(327));ds();var n=Ma(e,0);if((n&1)===0)return Ut(e,st()),null;var i=Po(e,n);if(e.tag!==0&&i===2){var c=_i(e);c!==0&&(n=c,i=Wl(e,c))}if(i===1)throw i=ca,Cn(e,0),nn(e,n),Ut(e,st()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Tn(e,Mt,Ir),Ut(e,st()),null}function Vl(e,n){var i=Pe;Pe|=1;try{return e(n)}finally{Pe=i,Pe===0&&(us=st()+500,no&&Yr())}}function En(e){tn!==null&&tn.tag===0&&(Pe&6)===0&&ds();var n=Pe;Pe|=1;var i=tr.transition,c=$e;try{if(tr.transition=null,$e=1,e)return e()}finally{$e=c,tr.transition=i,Pe=n,(Pe&6)===0&&Yr()}}function Hl(){qt=cs.current,He(cs)}function Cn(e,n){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,_g(i)),ct!==null)for(i=ct.return;i!==null;){var c=i;switch(tl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&to();break;case 3:os(),He(Lt),He(kt),ml();break;case 5:hl(c);break;case 4:os();break;case 13:He(Qe);break;case 19:He(Qe);break;case 10:il(c.type._context);break;case 22:case 23:Hl()}i=i.return}if(xt=e,ct=e=sn(e.current,null),_t=qt=n,pt=0,ca=null,Ul=ko=Sn=0,Mt=ua=null,jn!==null){for(n=0;n<jn.length;n++)if(i=jn[n],c=i.interleaved,c!==null){i.interleaved=null;var h=c.next,m=i.pending;if(m!==null){var x=m.next;m.next=h,c.next=x}i.pending=c}jn=null}return e}function Ah(e,n){do{var i=ct;try{if(ol(),mo.current=xo,po){for(var c=Xe.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}po=!1}if(kn=0,vt=mt=Xe=null,na=!1,sa=0,Ml.current=null,i===null||i.return===null){pt=1,ca=n,ct=null;break}e:{var m=e,x=i.return,S=i,R=n;if(n=_t,S.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var D=R,q=S,H=q.tag;if((q.mode&1)===0&&(H===0||H===11||H===15)){var W=q.alternate;W?(q.updateQueue=W.updateQueue,q.memoizedState=W.memoizedState,q.lanes=W.lanes):(q.updateQueue=null,q.memoizedState=null)}var Q=sh(x);if(Q!==null){Q.flags&=-257,ah(Q,x,S,m,n),Q.mode&1&&nh(m,D,n),n=Q,R=D;var te=n.updateQueue;if(te===null){var ne=new Set;ne.add(R),n.updateQueue=ne}else te.add(R);break e}else{if((n&1)===0){nh(m,D,n),Kl();break e}R=Error(s(426))}}else if(Je&&S.mode&1){var at=sh(x);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),ah(at,x,S,m,n),sl(is(R,S));break e}}m=R=is(R,S),pt!==4&&(pt=2),ua===null?ua=[m]:ua.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,n&=-n,m.lanes|=n;var I=th(m,R,n);Cd(m,I);break e;case 1:S=R;var O=m.type,L=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(en===null||!en.has(L)))){m.flags|=65536,n&=-n,m.lanes|=n;var G=rh(m,S,n);Cd(m,G);break e}}m=m.return}while(m!==null)}Dh(i)}catch(ae){n=ae,ct===i&&i!==null&&(ct=i=i.return);continue}break}while(!0)}function Ih(){var e=No.current;return No.current=xo,e===null?xo:e}function Kl(){(pt===0||pt===3||pt===2)&&(pt=4),xt===null||(Sn&268435455)===0&&(ko&268435455)===0||nn(xt,_t)}function Po(e,n){var i=Pe;Pe|=2;var c=Ih();(xt!==e||_t!==n)&&(Ir=null,Cn(e,n));do try{Kg();break}catch(h){Ah(e,h)}while(!0);if(ol(),Pe=i,No.current=c,ct!==null)throw Error(s(261));return xt=null,_t=0,pt}function Kg(){for(;ct!==null;)Lh(ct)}function Gg(){for(;ct!==null&&!yp();)Lh(ct)}function Lh(e){var n=Uh(e.alternate,e,qt);e.memoizedProps=e.pendingProps,n===null?Dh(e):ct=n,Ml.current=null}function Dh(e){var n=e;do{var i=n.alternate;if(e=n.return,(n.flags&32768)===0){if(i=Fg(i,n,qt),i!==null){ct=i;return}}else{if(i=zg(i,n),i!==null){i.flags&=32767,ct=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pt=6,ct=null;return}}if(n=n.sibling,n!==null){ct=n;return}ct=n=e}while(n!==null);pt===0&&(pt=5)}function Tn(e,n,i){var c=$e,h=tr.transition;try{tr.transition=null,$e=1,Jg(e,n,i,c)}finally{tr.transition=h,$e=c}return null}function Jg(e,n,i,c){do ds();while(tn!==null);if((Pe&6)!==0)throw Error(s(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var m=i.lanes|i.childLanes;if(Tp(e,m),e===xt&&(ct=xt=null,_t=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Eo||(Eo=!0,Fh(Ia,function(){return ds(),null})),m=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||m){m=tr.transition,tr.transition=null;var x=$e;$e=1;var S=Pe;Pe|=4,Ml.current=null,Wg(e,i),Sh(i,e),pg(Ki),za=!!Hi,Ki=Hi=null,e.current=i,qg(i),wp(),Pe=S,$e=x,tr.transition=m}else e.current=i;if(Eo&&(Eo=!1,tn=e,Co=h),m=e.pendingLanes,m===0&&(en=null),jp(i.stateNode),Ut(e,st()),n!==null)for(c=e.onRecoverableError,i=0;i<n.length;i++)h=n[i],c(h.value,{componentStack:h.stack,digest:h.digest});if(So)throw So=!1,e=zl,zl=null,e;return(Co&1)!==0&&e.tag!==0&&ds(),m=e.pendingLanes,(m&1)!==0?e===Bl?da++:(da=0,Bl=e):da=0,Yr(),null}function ds(){if(tn!==null){var e=Nu(Co),n=tr.transition,i=$e;try{if(tr.transition=null,$e=16>e?16:e,tn===null)var c=!1;else{if(e=tn,tn=null,Co=0,(Pe&6)!==0)throw Error(s(331));var h=Pe;for(Pe|=4,Z=e.current;Z!==null;){var m=Z,x=m.child;if((Z.flags&16)!==0){var S=m.deletions;if(S!==null){for(var R=0;R<S.length;R++){var D=S[R];for(Z=D;Z!==null;){var q=Z;switch(q.tag){case 0:case 11:case 15:la(8,q,m)}var H=q.child;if(H!==null)H.return=q,Z=H;else for(;Z!==null;){q=Z;var W=q.sibling,Q=q.return;if(bh(q),q===D){Z=null;break}if(W!==null){W.return=Q,Z=W;break}Z=Q}}}var te=m.alternate;if(te!==null){var ne=te.child;if(ne!==null){te.child=null;do{var at=ne.sibling;ne.sibling=null,ne=at}while(ne!==null)}}Z=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,Z=x;else e:for(;Z!==null;){if(m=Z,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:la(9,m,m.return)}var I=m.sibling;if(I!==null){I.return=m.return,Z=I;break e}Z=m.return}}var O=e.current;for(Z=O;Z!==null;){x=Z;var L=x.child;if((x.subtreeFlags&2064)!==0&&L!==null)L.return=x,Z=L;else e:for(x=O;Z!==null;){if(S=Z,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:jo(9,S)}}catch(ae){tt(S,S.return,ae)}if(S===x){Z=null;break e}var G=S.sibling;if(G!==null){G.return=S.return,Z=G;break e}Z=S.return}}if(Pe=h,Yr(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(La,e)}catch{}c=!0}return c}finally{$e=i,tr.transition=n}}return!1}function $h(e,n,i){n=is(i,n),n=th(e,n,1),e=Xr(e,n,1),n=Pt(),e!==null&&(Ls(e,1,n),Ut(e,n))}function tt(e,n,i){if(e.tag===3)$h(e,e,i);else for(;n!==null;){if(n.tag===3){$h(n,e,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(en===null||!en.has(c))){e=is(i,e),e=rh(n,e,1),n=Xr(n,e,1),e=Pt(),n!==null&&(Ls(n,1,e),Ut(n,e));break}}n=n.return}}function Yg(e,n,i){var c=e.pingCache;c!==null&&c.delete(n),n=Pt(),e.pingedLanes|=e.suspendedLanes&i,xt===e&&(_t&i)===i&&(pt===4||pt===3&&(_t&130023424)===_t&&500>st()-Fl?Cn(e,0):Ul|=i),Ut(e,n)}function Mh(e,n){n===0&&((e.mode&1)===0?n=1:(n=$a,$a<<=1,($a&130023424)===0&&($a=4194304)));var i=Pt();e=Pr(e,n),e!==null&&(Ls(e,n,i),Ut(e,i))}function Qg(e){var n=e.memoizedState,i=0;n!==null&&(i=n.retryLane),Mh(e,i)}function Xg(e,n){var i=0;switch(e.tag){case 13:var c=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(n),Mh(e,i)}var Uh;Uh=function(e,n,i){if(e!==null)if(e.memoizedProps!==n.pendingProps||Lt.current)$t=!0;else{if((e.lanes&i)===0&&(n.flags&128)===0)return $t=!1,Ug(e,n,i);$t=(e.flags&131072)!==0}else $t=!1,Je&&(n.flags&1048576)!==0&&xd(n,ao,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;bo(e,n),e=n.pendingProps;var h=Zn(n,kt.current);as(n,i),h=vl(null,n,c,e,h,i);var m=xl();return n.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Dt(c)?(m=!0,ro(n)):m=!1,n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ul(n),h.updater=yo,n.stateNode=h,h._reactInternals=n,Nl(n,c,e,i),n=Cl(null,n,c,!0,m,i)):(n.tag=0,Je&&m&&el(n),Rt(null,n,h,i),n=n.child),n;case 16:c=n.elementType;e:{switch(bo(e,n),e=n.pendingProps,h=c._init,c=h(c._payload),n.type=c,h=n.tag=e0(c),e=lr(c,e),h){case 0:n=El(null,n,c,e,i);break e;case 1:n=dh(null,n,c,e,i);break e;case 11:n=oh(null,n,c,e,i);break e;case 14:n=ih(null,n,c,lr(c.type,e),i);break e}throw Error(s(306,c,""))}return n;case 0:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:lr(c,h),El(e,n,c,h,i);case 1:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:lr(c,h),dh(e,n,c,h,i);case 3:e:{if(hh(n),e===null)throw Error(s(387));c=n.pendingProps,m=n.memoizedState,h=m.element,Ed(e,n),ho(n,c,null,i);var x=n.memoizedState;if(c=x.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){h=is(Error(s(423)),n),n=fh(e,n,c,i,h);break e}else if(c!==h){h=is(Error(s(424)),n),n=fh(e,n,c,i,h);break e}else for(Wt=Kr(n.stateNode.containerInfo.firstChild),Bt=n,Je=!0,ir=null,i=kd(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(rs(),c===h){n=Ar(e,n,i);break e}Rt(e,n,c,i)}n=n.child}return n;case 5:return Rd(n),e===null&&nl(n),c=n.type,h=n.pendingProps,m=e!==null?e.memoizedProps:null,x=h.children,Gi(c,h)?x=null:m!==null&&Gi(c,m)&&(n.flags|=32),uh(e,n),Rt(e,n,x,i),n.child;case 6:return e===null&&nl(n),null;case 13:return mh(e,n,i);case 4:return dl(n,n.stateNode.containerInfo),c=n.pendingProps,e===null?n.child=ns(n,null,c,i):Rt(e,n,c,i),n.child;case 11:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:lr(c,h),oh(e,n,c,h,i);case 7:return Rt(e,n,n.pendingProps,i),n.child;case 8:return Rt(e,n,n.pendingProps.children,i),n.child;case 12:return Rt(e,n,n.pendingProps.children,i),n.child;case 10:e:{if(c=n.type._context,h=n.pendingProps,m=n.memoizedProps,x=h.value,ze(lo,c._currentValue),c._currentValue=x,m!==null)if(or(m.value,x)){if(m.children===h.children&&!Lt.current){n=Ar(e,n,i);break e}}else for(m=n.child,m!==null&&(m.return=n);m!==null;){var S=m.dependencies;if(S!==null){x=m.child;for(var R=S.firstContext;R!==null;){if(R.context===c){if(m.tag===1){R=Or(-1,i&-i),R.tag=2;var D=m.updateQueue;if(D!==null){D=D.shared;var q=D.pending;q===null?R.next=R:(R.next=q.next,q.next=R),D.pending=R}}m.lanes|=i,R=m.alternate,R!==null&&(R.lanes|=i),ll(m.return,i,n),S.lanes|=i;break}R=R.next}}else if(m.tag===10)x=m.type===n.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(s(341));x.lanes|=i,S=x.alternate,S!==null&&(S.lanes|=i),ll(x,i,n),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===n){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}Rt(e,n,h.children,i),n=n.child}return n;case 9:return h=n.type,c=n.pendingProps.children,as(n,i),h=Zt(h),c=c(h),n.flags|=1,Rt(e,n,c,i),n.child;case 14:return c=n.type,h=lr(c,n.pendingProps),h=lr(c.type,h),ih(e,n,c,h,i);case 15:return lh(e,n,n.type,n.pendingProps,i);case 17:return c=n.type,h=n.pendingProps,h=n.elementType===c?h:lr(c,h),bo(e,n),n.tag=1,Dt(c)?(e=!0,ro(n)):e=!1,as(n,i),Zd(n,c,h),Nl(n,c,h,i),Cl(null,n,c,!0,e,i);case 19:return gh(e,n,i);case 22:return ch(e,n,i)}throw Error(s(156,n.tag))};function Fh(e,n){return yu(e,n)}function Zg(e,n,i,c){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,n,i,c){return new Zg(e,n,i,c)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e0(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oe)return 11;if(e===qe)return 14}return 2}function sn(e,n){var i=e.alternate;return i===null?(i=rr(e.tag,n,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=n,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,n=e.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Oo(e,n,i,c,h,m){var x=2;if(c=e,typeof e=="function")Gl(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case K:return Rn(i.children,h,m,n);case ce:x=8,h|=8;break;case fe:return e=rr(12,i,n,h|2),e.elementType=fe,e.lanes=m,e;case Ue:return e=rr(13,i,n,h),e.elementType=Ue,e.lanes=m,e;case We:return e=rr(19,i,n,h),e.elementType=We,e.lanes=m,e;case Te:return Ao(i,h,m,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ce:x=10;break e;case ee:x=9;break e;case oe:x=11;break e;case qe:x=14;break e;case Ae:x=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return n=rr(x,i,n,h),n.elementType=e,n.type=c,n.lanes=m,n}function Rn(e,n,i,c){return e=rr(7,e,c,n),e.lanes=i,e}function Ao(e,n,i,c){return e=rr(22,e,c,n),e.elementType=Te,e.lanes=i,e.stateNode={isHidden:!1},e}function Jl(e,n,i){return e=rr(6,e,null,n),e.lanes=i,e}function Yl(e,n,i){return n=rr(4,e.children!==null?e.children:[],e.key,n),n.lanes=i,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function t0(e,n,i,c,h){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ji(0),this.expirationTimes=ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ji(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Ql(e,n,i,c,h,m,x,S,R){return e=new t0(e,n,i,S,R),n===1?(n=1,m===!0&&(n|=8)):n=0,m=rr(3,null,null,n),e.current=m,m.stateNode=e,m.memoizedState={element:c,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ul(m),e}function r0(e,n,i){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:c==null?null:""+c,children:e,containerInfo:n,implementation:i}}function zh(e){if(!e)return Jr;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(s(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Dt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(Dt(i))return pd(e,i,n)}return n}function Bh(e,n,i,c,h,m,x,S,R){return e=Ql(i,c,!0,e,h,m,x,S,R),e.context=zh(null),i=e.current,c=Pt(),h=rn(i),m=Or(c,h),m.callback=n??null,Xr(i,m,h),e.current.lanes=h,Ls(e,h,c),Ut(e,c),e}function Io(e,n,i,c){var h=n.current,m=Pt(),x=rn(h);return i=zh(i),n.context===null?n.context=i:n.pendingContext=i,n=Or(m,x),n.payload={element:e},c=c===void 0?null:c,c!==null&&(n.callback=c),e=Xr(h,n,x),e!==null&&(dr(e,h,x,m),uo(e,h,x)),x}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<n?i:n}}function Xl(e,n){Wh(e,n),(e=e.alternate)&&Wh(e,n)}function n0(){return null}var qh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}Do.prototype.render=Zl.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));Io(e,n,null,null)},Do.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;En(function(){Io(null,e,null,null)}),n[Er]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var n=Eu();e={blockedOn:null,target:e,priority:n};for(var i=0;i<qr.length&&n!==0&&n<qr[i].priority;i++);qr.splice(i,0,e),i===0&&Ru(e)}};function ec(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function s0(e,n,i,c,h){if(h){if(typeof c=="function"){var m=c;c=function(){var D=Lo(x);m.call(D)}}var x=Bh(n,c,e,0,null,!1,!1,"",Vh);return e._reactRootContainer=x,e[Er]=x.current,Js(e.nodeType===8?e.parentNode:e),En(),x}for(;h=e.lastChild;)e.removeChild(h);if(typeof c=="function"){var S=c;c=function(){var D=Lo(R);S.call(D)}}var R=Ql(e,0,!1,null,null,!1,!1,"",Vh);return e._reactRootContainer=R,e[Er]=R.current,Js(e.nodeType===8?e.parentNode:e),En(function(){Io(n,R,i,c)}),R}function Mo(e,n,i,c,h){var m=i._reactRootContainer;if(m){var x=m;if(typeof h=="function"){var S=h;h=function(){var R=Lo(x);S.call(R)}}Io(n,x,e,h)}else x=s0(i,n,e,h,c);return Lo(x)}ku=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var i=Is(n.pendingLanes);i!==0&&(Ni(n,i|1),Ut(n,st()),(Pe&6)===0&&(us=st()+500,Yr()))}break;case 13:En(function(){var c=Pr(e,1);if(c!==null){var h=Pt();dr(c,e,1,h)}}),Xl(e,1)}},ki=function(e){if(e.tag===13){var n=Pr(e,134217728);if(n!==null){var i=Pt();dr(n,e,134217728,i)}Xl(e,134217728)}},Su=function(e){if(e.tag===13){var n=rn(e),i=Pr(e,n);if(i!==null){var c=Pt();dr(i,e,n,c)}Xl(e,n)}},Eu=function(){return $e},Cu=function(e,n){var i=$e;try{return $e=e,n()}finally{$e=i}},vi=function(e,n,i){switch(n){case"input":if(Le(e,i),n=i.name,i.type==="radio"&&n!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==e&&c.form===e.form){var h=eo(c);if(!h)throw Error(s(90));z(c),Le(c,h)}}}break;case"textarea":Ge(e,i);break;case"select":n=i.value,n!=null&&B(e,!!i.multiple,n,!1)}},hu=Vl,fu=En;var a0={usingClientEntryPoint:!1,Events:[Xs,Qn,eo,uu,du,Vl]},ha={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o0={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vu(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{La=Uo.inject(o0),vr=Uo}catch{}}return Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a0,Ft.createPortal=function(e,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ec(n))throw Error(s(200));return r0(e,n,null,i)},Ft.createRoot=function(e,n){if(!ec(e))throw Error(s(299));var i=!1,c="",h=qh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),n=Ql(e,1,!1,null,null,i,!1,c,h),e[Er]=n.current,Js(e.nodeType===8?e.parentNode:e),new Zl(n)},Ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=vu(n),e=e===null?null:e.stateNode,e},Ft.flushSync=function(e){return En(e)},Ft.hydrate=function(e,n,i){if(!$o(n))throw Error(s(200));return Mo(null,e,n,!0,i)},Ft.hydrateRoot=function(e,n,i){if(!ec(e))throw Error(s(405));var c=i!=null&&i.hydratedSources||null,h=!1,m="",x=qh;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(x=i.onRecoverableError)),n=Bh(n,null,e,1,i??null,h,!1,m,x),e[Er]=n.current,Js(e),c)for(e=0;e<c.length;e++)i=c[e],h=i._getVersion,h=h(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,h]:n.mutableSourceEagerHydrationData.push(i,h);return new Do(n)},Ft.render=function(e,n,i){if(!$o(n))throw Error(s(200));return Mo(null,e,n,!1,i)},Ft.unmountComponentAtNode=function(e){if(!$o(e))throw Error(s(40));return e._reactRootContainer?(En(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1},Ft.unstable_batchedUpdates=Vl,Ft.unstable_renderSubtreeIntoContainer=function(e,n,i,c){if(!$o(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Mo(e,n,i,!1,c)},Ft.version="18.3.1-next-f1338f8080-20240426",Ft}var Zh;function v0(){if(Zh)return nc.exports;Zh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nc.exports=g0(),nc.exports}var ef;function x0(){if(ef)return Fo;ef=1;var r=v0();return Fo.createRoot=r.createRoot,Fo.hydrateRoot=r.hydrateRoot,Fo}var y0=x0();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tf="popstate";function w0(r={}){function t(a,l){let{pathname:u,search:d,hash:f}=a.location;return _c("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(a,l){return typeof l=="string"?l:wa(l)}return _0(t,s,null,r)}function Ye(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Jt(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b0(){return Math.random().toString(36).substring(2,10)}function rf(r,t){return{usr:r.state,key:r.key,idx:t}}function _c(r,t,s=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Es(t):t,state:s,key:t&&t.key||a||b0()}}function wa({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Es(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function _0(r,t,s,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,d=l.history,f="POP",p=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function y(){f="POP";let j=v(),C=j==null?null:j-g;g=j,p&&p({action:f,location:N.location,delta:C})}function _(j,C){f="PUSH";let E=_c(N.location,j,C);g=v()+1;let P=rf(E,g),M=N.createHref(E);try{d.pushState(P,"",M)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;l.location.assign(M)}u&&p&&p({action:f,location:N.location,delta:1})}function k(j,C){f="REPLACE";let E=_c(N.location,j,C);g=v();let P=rf(E,g),M=N.createHref(E);d.replaceState(P,"",M),u&&p&&p({action:f,location:N.location,delta:0})}function b(j){return j0(j)}let N={get action(){return f},get location(){return r(l,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(tf,y),p=j,()=>{l.removeEventListener(tf,y),p=null}},createHref(j){return t(l,j)},createURL:b,encodeLocation(j){let C=b(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:k,go(j){return d.go(j)}};return N}function j0(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(s,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:wa(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function em(r,t,s="/"){return N0(r,t,s,!1)}function N0(r,t,s,a){let l=typeof t=="string"?Es(t):t,u=Mr(l.pathname||"/",s);if(u==null)return null;let d=tm(r);k0(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=D0(u);f=I0(d[p],g,a)}return f}function tm(r,t=[],s=[],a="",l=!1){let u=(d,f,p=l,g)=>{let v={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Ye(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=$r([a,v.relativePath]),_=s.concat(v);d.children&&d.children.length>0&&(Ye(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),tm(d.children,t,_,y,p)),!(d.path==null&&!d.index)&&t.push({path:y,score:O0(y,d.index),routesMeta:_})};return r.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))u(d,f);else for(let g of rm(d.path))u(d,f,!0,g)}),t}function rm(r){let t=r.split("/");if(t.length===0)return[];let[s,...a]=t,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let d=rm(a.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function k0(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:A0(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var S0=/^:[\w-]+$/,E0=3,C0=2,T0=1,R0=10,P0=-2,nf=r=>r==="*";function O0(r,t){let s=r.split("/"),a=s.length;return s.some(nf)&&(a+=P0),t&&(a+=C0),s.filter(l=>!nf(l)).reduce((l,u)=>l+(S0.test(u)?E0:u===""?T0:R0),a)}function A0(r,t){return r.length===t.length&&r.slice(0,-1).every((a,l)=>a===t[l])?r[r.length-1]-t[t.length-1]:0}function I0(r,t,s=!1){let{routesMeta:a}=r,l={},u="/",d=[];for(let f=0;f<a.length;++f){let p=a[f],g=f===a.length-1,v=u==="/"?t:t.slice(u.length)||"/",y=Yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),_=p.route;if(!y&&g&&s&&!a[a.length-1].route.index&&(y=Yo({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!y)return null;Object.assign(l,y.params),d.push({params:l,pathname:$r([u,y.pathname]),pathnameBase:F0($r([u,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(u=$r([u,y.pathnameBase]))}return d}function Yo(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,a]=L0(r.path,r.caseSensitive,r.end),l=t.match(s);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:y},_)=>{if(v==="*"){let b=f[_]||"";d=u.slice(0,u.length-b.length).replace(/(.)\/+$/,"$1")}const k=f[_];return y&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function L0(r,t=!1,s=!0){Jt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(a.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function D0(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Mr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=r.charAt(s);return a&&a!=="/"?null:r.slice(s)||"/"}var nm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$0=r=>nm.test(r);function M0(r,t="/"){let{pathname:s,search:a="",hash:l=""}=typeof r=="string"?Es(r):r,u;if(s)if($0(s))u=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Jt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${s}`)}s.startsWith("/")?u=sf(s.substring(1),"/"):u=sf(s,t)}else u=t;return{pathname:u,search:z0(a),hash:B0(l)}}function sf(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function oc(r,t,s,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function U0(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Uc(r){let t=U0(r);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function Fc(r,t,s,a=!1){let l;typeof r=="string"?l=Es(r):(l={...r},Ye(!l.pathname||!l.pathname.includes("?"),oc("?","pathname","search",l)),Ye(!l.pathname||!l.pathname.includes("#"),oc("#","pathname","hash",l)),Ye(!l.search||!l.search.includes("#"),oc("#","search","hash",l)));let u=r===""||l.pathname==="",d=u?"/":l.pathname,f;if(d==null)f=s;else{let y=t.length-1;if(!a&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),y-=1;l.pathname=_.join("/")}f=y>=0?t[y]:"/"}let p=M0(l,f),g=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var $r=r=>r.join("/").replace(/\/\/+/g,"/"),F0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),z0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,B0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,W0=class{constructor(r,t,s,a=!1){this.status=r,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function q0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function V0(r){return r.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var sm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function am(r,t){let s=r;if(typeof s!="string"||!nm.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,l=!1;if(sm)try{let u=new URL(window.location.href),d=s.startsWith("//")?new URL(u.protocol+s):new URL(s),f=Mr(d.pathname,t);d.origin===u.origin&&f!=null?s=f+d.search+d.hash:l=!0}catch{Jt(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var om=["POST","PUT","PATCH","DELETE"];new Set(om);var H0=["GET",...om];new Set(H0);var Cs=w.createContext(null);Cs.displayName="DataRouter";var ai=w.createContext(null);ai.displayName="DataRouterState";var K0=w.createContext(!1),im=w.createContext({isTransitioning:!1});im.displayName="ViewTransition";var G0=w.createContext(new Map);G0.displayName="Fetchers";var J0=w.createContext(null);J0.displayName="Await";var Yt=w.createContext(null);Yt.displayName="Navigation";var Ta=w.createContext(null);Ta.displayName="Location";var nr=w.createContext({outlet:null,matches:[],isDataRoute:!1});nr.displayName="Route";var zc=w.createContext(null);zc.displayName="RouteError";var lm="REACT_ROUTER_ERROR",Y0="REDIRECT",Q0="ROUTE_ERROR_RESPONSE";function X0(r){if(r.startsWith(`${lm}:${Y0}:{`))try{let t=JSON.parse(r.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Z0(r){if(r.startsWith(`${lm}:${Q0}:{`))try{let t=JSON.parse(r.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new W0(t.status,t.statusText,t.data)}catch{}}function ev(r,{relative:t}={}){Ye(Ts(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=w.useContext(Yt),{hash:l,pathname:u,search:d}=Ra(r,{relative:t}),f=u;return s!=="/"&&(f=u==="/"?s:$r([s,u])),a.createHref({pathname:f,search:d,hash:l})}function Ts(){return w.useContext(Ta)!=null}function kr(){return Ye(Ts(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Ta).location}var cm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function um(r){w.useContext(Yt).static||w.useLayoutEffect(r)}function Ot(){let{isDataRoute:r}=w.useContext(nr);return r?mv():tv()}function tv(){Ye(Ts(),"useNavigate() may be used only in the context of a <Router> component.");let r=w.useContext(Cs),{basename:t,navigator:s}=w.useContext(Yt),{matches:a}=w.useContext(nr),{pathname:l}=kr(),u=JSON.stringify(Uc(a)),d=w.useRef(!1);return um(()=>{d.current=!0}),w.useCallback((p,g={})=>{if(Jt(d.current,cm),!d.current)return;if(typeof p=="number"){s.go(p);return}let v=Fc(p,JSON.parse(u),l,g.relative==="path");r==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:$r([t,v.pathname])),(g.replace?s.replace:s.push)(v,g.state,g)},[t,s,u,l,r])}var dm=w.createContext(null);function gn(){return w.useContext(dm)}function rv(r){let t=w.useContext(nr).outlet;return w.useMemo(()=>t&&w.createElement(dm.Provider,{value:r},t),[t,r])}function hm(){let{matches:r}=w.useContext(nr),t=r[r.length-1];return t?t.params:{}}function Ra(r,{relative:t}={}){let{matches:s}=w.useContext(nr),{pathname:a}=kr(),l=JSON.stringify(Uc(s));return w.useMemo(()=>Fc(r,JSON.parse(l),a,t==="path"),[r,l,a,t])}function nv(r,t){return fm(r,t)}function fm(r,t,s,a,l){var E;Ye(Ts(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(Yt),{matches:d}=w.useContext(nr),f=d[d.length-1],p=f?f.params:{},g=f?f.pathname:"/",v=f?f.pathnameBase:"/",y=f&&f.route;{let P=y&&y.path||"";pm(g,!y||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let _=kr(),k;if(t){let P=typeof t=="string"?Es(t):t;Ye(v==="/"||((E=P.pathname)==null?void 0:E.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${P.pathname}" was given in the \`location\` prop.`),k=P}else k=_;let b=k.pathname||"/",N=b;if(v!=="/"){let P=v.replace(/^\//,"").split("/");N="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=em(r,{pathname:N});Jt(y||j!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=lv(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},p,P.params),pathname:$r([v,u.encodeLocation?u.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?v:$r([v,u.encodeLocation?u.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),d,s,a,l);return t&&C?w.createElement(Ta.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},C):C}function sv(){let r=fv(),t=q0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),s?w.createElement("pre",{style:l},s):null,d)}var av=w.createElement(sv,null),mm=class extends w.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.onError?this.props.onError(r,t):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const s=Z0(r.digest);s&&(r=s)}let t=r!==void 0?w.createElement(nr.Provider,{value:this.props.routeContext},w.createElement(zc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?w.createElement(ov,{error:r},t):t}};mm.contextType=K0;var ic=new WeakMap;function ov({children:r,error:t}){let{basename:s}=w.useContext(Yt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=X0(t.digest);if(a){let l=ic.get(t);if(l)throw l;let u=am(a.location,s);if(sm&&!ic.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw ic.set(t,d),d}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function iv({routeContext:r,match:t,children:s}){let a=w.useContext(Cs);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(nr.Provider,{value:r},s)}function lv(r,t=[],s=null,a=null,l=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let u=r,d=s==null?void 0:s.errors;if(d!=null){let v=u.findIndex(y=>y.route.id&&(d==null?void 0:d[y.route.id])!==void 0);Ye(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let f=!1,p=-1;if(s)for(let v=0;v<u.length;v++){let y=u[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=v),y.route.id){let{loaderData:_,errors:k}=s,b=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!k||k[y.route.id]===void 0);if(y.route.lazy||b){f=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=s&&a?(v,y)=>{var _,k;a(v,{location:s.location,params:((k=(_=s.matches)==null?void 0:_[0])==null?void 0:k.params)??{},unstable_pattern:V0(s.matches),errorInfo:y})}:void 0;return u.reduceRight((v,y,_)=>{let k,b=!1,N=null,j=null;s&&(k=d&&y.route.id?d[y.route.id]:void 0,N=y.route.errorElement||av,f&&(p<0&&_===0?(pm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):p===_&&(b=!0,j=y.route.hydrateFallbackElement||null)));let C=t.concat(u.slice(0,_+1)),E=()=>{let P;return k?P=N:b?P=j:y.route.Component?P=w.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=v,w.createElement(iv,{match:y,routeContext:{outlet:v,matches:C,isDataRoute:s!=null},children:P})};return s&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?w.createElement(mm,{location:s.location,revalidation:s.revalidation,component:N,error:k,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:g}):E()},null)}function Bc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cv(r){let t=w.useContext(Cs);return Ye(t,Bc(r)),t}function uv(r){let t=w.useContext(ai);return Ye(t,Bc(r)),t}function dv(r){let t=w.useContext(nr);return Ye(t,Bc(r)),t}function Wc(r){let t=dv(r),s=t.matches[t.matches.length-1];return Ye(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function hv(){return Wc("useRouteId")}function fv(){var a;let r=w.useContext(zc),t=uv("useRouteError"),s=Wc("useRouteError");return r!==void 0?r:(a=t.errors)==null?void 0:a[s]}function mv(){let{router:r}=cv("useNavigate"),t=Wc("useNavigate"),s=w.useRef(!1);return um(()=>{s.current=!0}),w.useCallback(async(l,u={})=>{Jt(s.current,cm),s.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var af={};function pm(r,t,s){!t&&!af[r]&&(af[r]=!0,Jt(!1,s))}w.memo(pv);function pv({routes:r,future:t,state:s,onError:a}){return fm(r,void 0,s,a,t)}function qc({to:r,replace:t,state:s,relative:a}){Ye(Ts(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=w.useContext(Yt);Jt(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(nr),{pathname:d}=kr(),f=Ot(),p=Fc(r,Uc(u),d,a==="path"),g=JSON.stringify(p);return w.useEffect(()=>{f(JSON.parse(g),{replace:t,state:s,relative:a})},[f,g,a,t,s]),null}function gv(r){return rv(r.context)}function ut(r){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vv({basename:r="/",children:t=null,location:s,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:d}){Ye(!Ts(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:f,navigator:l,static:u,unstable_useTransitions:d,future:{}}),[f,l,u,d]);typeof s=="string"&&(s=Es(s));let{pathname:g="/",search:v="",hash:y="",state:_=null,key:k="default"}=s,b=w.useMemo(()=>{let N=Mr(g,f);return N==null?null:{location:{pathname:N,search:v,hash:y,state:_,key:k},navigationType:a}},[f,g,v,y,_,k,a]);return Jt(b!=null,`<Router basename="${f}"> is not able to match the URL "${g}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Yt.Provider,{value:p},w.createElement(Ta.Provider,{children:t,value:b}))}function xv({children:r,location:t}){return nv(jc(r),t)}function jc(r,t=[]){let s=[];return w.Children.forEach(r,(a,l)=>{if(!w.isValidElement(a))return;let u=[...t,l];if(a.type===w.Fragment){s.push.apply(s,jc(a.props.children,u));return}Ye(a.type===ut,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=jc(a.props.children,u)),s.push(d)}),s}var Ko="get",Go="application/x-www-form-urlencoded";function oi(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function yv(r){return oi(r)&&r.tagName.toLowerCase()==="button"}function wv(r){return oi(r)&&r.tagName.toLowerCase()==="form"}function bv(r){return oi(r)&&r.tagName.toLowerCase()==="input"}function _v(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jv(r,t){return r.button===0&&(!t||t==="_self")&&!_v(r)}function Nc(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((t,s)=>{let a=r[s];return t.concat(Array.isArray(a)?a.map(l=>[s,l]):[[s,a]])},[]))}function Nv(r,t){let s=Nc(r);return t&&t.forEach((a,l)=>{s.has(l)||t.getAll(l).forEach(u=>{s.append(l,u)})}),s}var zo=null;function kv(){if(zo===null)try{new FormData(document.createElement("form"),0),zo=!1}catch{zo=!0}return zo}var Sv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lc(r){return r!=null&&!Sv.has(r)?(Jt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Go}"`),null):r}function Ev(r,t){let s,a,l,u,d;if(wv(r)){let f=r.getAttribute("action");a=f?Mr(f,t):null,s=r.getAttribute("method")||Ko,l=lc(r.getAttribute("enctype"))||Go,u=new FormData(r)}else if(yv(r)||bv(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(a=p?Mr(p,t):null,s=r.getAttribute("formmethod")||f.getAttribute("method")||Ko,l=lc(r.getAttribute("formenctype"))||lc(f.getAttribute("enctype"))||Go,u=new FormData(f,r),!kv()){let{name:g,type:v,value:y}=r;if(v==="image"){let _=g?`${g}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else g&&u.append(g,y)}}else{if(oi(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Ko,a=null,l=Go,d=r}return u&&l==="text/plain"&&(d=u,u=void 0),{action:a,method:s.toLowerCase(),encType:l,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vc(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Cv(r,t,s){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${s}`:t&&Mr(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${s}`,a}async function Tv(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rv(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Pv(r,t,s){let a=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let d=await Tv(u,s);return d.links?d.links():[]}return[]}));return Lv(a.flat(1).filter(Rv).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function of(r,t,s,a,l,u){let d=(p,g)=>s[g]?p.route.id!==s[g].route.id:!0,f=(p,g)=>{var v;return s[g].pathname!==p.pathname||((v=s[g].route.path)==null?void 0:v.endsWith("*"))&&s[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>d(p,g)||f(p,g)):u==="data"?t.filter((p,g)=>{var y;let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Ov(r,t,{includeHydrateFallback:s}={}){return Av(r.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),s&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Av(r){return[...new Set(r)]}function Iv(r){let t={},s=Object.keys(r).sort();for(let a of s)t[a]=r[a];return t}function Lv(r,t){let s=new Set;return new Set(t),r.reduce((a,l)=>{let u=JSON.stringify(Iv(l));return s.has(u)||(s.add(u),a.push({key:u,link:l})),a},[])}function gm(){let r=w.useContext(Cs);return Vc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Dv(){let r=w.useContext(ai);return Vc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hc=w.createContext(void 0);Hc.displayName="FrameworkContext";function vm(){let r=w.useContext(Hc);return Vc(r,"You must render this element inside a <HydratedRouter> element"),r}function $v(r,t){let s=w.useContext(Hc),[a,l]=w.useState(!1),[u,d]=w.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:y}=t,_=w.useRef(null);w.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let N=C=>{C.forEach(E=>{d(E.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return _.current&&j.observe(_.current),()=>{j.disconnect()}}},[r]),w.useEffect(()=>{if(a){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[a]);let k=()=>{l(!0)},b=()=>{l(!1),d(!1)};return s?r!=="intent"?[u,_,{}]:[u,_,{onFocus:ma(f,k),onBlur:ma(p,b),onMouseEnter:ma(g,k),onMouseLeave:ma(v,b),onTouchStart:ma(y,k)}]:[!1,_,{}]}function ma(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function Mv({page:r,...t}){let{router:s}=gm(),a=w.useMemo(()=>em(s.routes,r,s.basename),[s.routes,r,s.basename]);return a?w.createElement(Fv,{page:r,matches:a,...t}):null}function Uv(r){let{manifest:t,routeModules:s}=vm(),[a,l]=w.useState([]);return w.useEffect(()=>{let u=!1;return Pv(r,t,s).then(d=>{u||l(d)}),()=>{u=!0}},[r,t,s]),a}function Fv({page:r,matches:t,...s}){let a=kr(),{manifest:l,routeModules:u}=vm(),{basename:d}=gm(),{loaderData:f,matches:p}=Dv(),g=w.useMemo(()=>of(r,t,p,l,a,"data"),[r,t,p,l,a]),v=w.useMemo(()=>of(r,t,p,l,a,"assets"),[r,t,p,l,a]),y=w.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let b=new Set,N=!1;if(t.forEach(C=>{var P;let E=l.routes[C.route.id];!E||!E.hasLoader||(!g.some(M=>M.route.id===C.route.id)&&C.route.id in f&&((P=u[C.route.id])!=null&&P.shouldRevalidate)||E.hasClientLoader?N=!0:b.add(C.route.id))}),b.size===0)return[];let j=Cv(r,d,"data");return N&&b.size>0&&j.searchParams.set("_routes",t.filter(C=>b.has(C.route.id)).map(C=>C.route.id).join(",")),[j.pathname+j.search]},[d,f,a,l,g,t,r,u]),_=w.useMemo(()=>Ov(v,l),[v,l]),k=Uv(v);return w.createElement(w.Fragment,null,y.map(b=>w.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...s})),_.map(b=>w.createElement("link",{key:b,rel:"modulepreload",href:b,...s})),k.map(({key:b,link:N})=>w.createElement("link",{key:b,nonce:s.nonce,...N})))}function zv(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Bv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bv&&(window.__reactRouterVersion="7.11.0")}catch{}function Wv({basename:r,children:t,unstable_useTransitions:s,window:a}){let l=w.useRef();l.current==null&&(l.current=w0({window:a,v5Compat:!0}));let u=l.current,[d,f]=w.useState({action:u.action,location:u.location}),p=w.useCallback(g=>{s===!1?f(g):w.startTransition(()=>f(g))},[s]);return w.useLayoutEffect(()=>u.listen(p),[u,p]),w.createElement(vv,{basename:r,children:t,location:d.location,navigationType:d.action,navigator:u,unstable_useTransitions:s})}var xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=w.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:l,reloadDocument:u,replace:d,state:f,target:p,to:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:_,...k},b){let{basename:N,unstable_useTransitions:j}=w.useContext(Yt),C=typeof g=="string"&&xm.test(g),E=am(g,N);g=E.to;let P=ev(g,{relative:l}),[M,A,U]=$v(a,k),K=Kv(g,{replace:d,state:f,target:p,preventScrollReset:v,relative:l,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:j});function ce(Ce){t&&t(Ce),Ce.defaultPrevented||K(Ce)}let fe=w.createElement("a",{...k,...U,href:E.absoluteURL||P,onClick:E.isExternal||u?t:ce,ref:zv(b,A),target:p,"data-discover":!C&&s==="render"?"true":void 0});return M&&!C?w.createElement(w.Fragment,null,fe,w.createElement(Mv,{page:P})):fe});un.displayName="Link";var qv=w.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:l=!1,style:u,to:d,viewTransition:f,children:p,...g},v){let y=Ra(d,{relative:g.relative}),_=kr(),k=w.useContext(ai),{navigator:b,basename:N}=w.useContext(Yt),j=k!=null&&Zv(y)&&f===!0,C=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,E=_.pathname,P=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;s||(E=E.toLowerCase(),P=P?P.toLowerCase():null,C=C.toLowerCase()),P&&N&&(P=Mr(P,N)||P);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=E===C||!l&&E.startsWith(C)&&E.charAt(M)==="/",U=P!=null&&(P===C||!l&&P.startsWith(C)&&P.charAt(C.length)==="/"),K={isActive:A,isPending:U,isTransitioning:j},ce=A?t:void 0,fe;typeof a=="function"?fe=a(K):fe=[a,A?"active":null,U?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let Ce=typeof u=="function"?u(K):u;return w.createElement(un,{...g,"aria-current":ce,className:fe,ref:v,style:Ce,to:d,viewTransition:f},typeof p=="function"?p(K):p)});qv.displayName="NavLink";var Vv=w.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:l,state:u,method:d=Ko,action:f,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:_,...k},b)=>{let{unstable_useTransitions:N}=w.useContext(Yt),j=Qv(),C=Xv(f,{relative:g}),E=d.toLowerCase()==="get"?"get":"post",P=typeof f=="string"&&xm.test(f),M=A=>{if(p&&p(A),A.defaultPrevented)return;A.preventDefault();let U=A.nativeEvent.submitter,K=(U==null?void 0:U.getAttribute("formmethod"))||d,ce=()=>j(U||A.currentTarget,{fetcherKey:t,method:K,navigate:s,replace:l,state:u,relative:g,preventScrollReset:v,viewTransition:y,unstable_defaultShouldRevalidate:_});N&&s!==!1?w.startTransition(()=>ce()):ce()};return w.createElement("form",{ref:b,method:E,action:C,onSubmit:a?p:M,...k,"data-discover":!P&&r==="render"?"true":void 0})});Vv.displayName="Form";function Hv(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ym(r){let t=w.useContext(Cs);return Ye(t,Hv(r)),t}function Kv(r,{target:t,replace:s,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let g=Ot(),v=kr(),y=Ra(r,{relative:u});return w.useCallback(_=>{if(jv(_,t)){_.preventDefault();let k=s!==void 0?s:wa(v)===wa(y),b=()=>g(r,{replace:k,state:a,preventScrollReset:l,relative:u,viewTransition:d,unstable_defaultShouldRevalidate:f});p?w.startTransition(()=>b()):b()}},[v,g,y,s,a,t,r,l,u,d,f,p])}function Gv(r){Jt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(Nc(r)),s=w.useRef(!1),a=kr(),l=w.useMemo(()=>Nv(a.search,s.current?null:t.current),[a.search]),u=Ot(),d=w.useCallback((f,p)=>{const g=Nc(typeof f=="function"?f(new URLSearchParams(l)):f);s.current=!0,u("?"+g,p)},[u,l]);return[l,d]}var Jv=0,Yv=()=>`__${String(++Jv)}__`;function Qv(){let{router:r}=ym("useSubmit"),{basename:t}=w.useContext(Yt),s=hv(),a=r.fetch,l=r.navigate;return w.useCallback(async(u,d={})=>{let{action:f,method:p,encType:g,formData:v,body:y}=Ev(u,t);if(d.navigate===!1){let _=d.fetcherKey||Yv();await a(_,s,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:y,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await l(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:y,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:s,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,t,s])}function Xv(r,{relative:t}={}){let{basename:s}=w.useContext(Yt),a=w.useContext(nr);Ye(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...Ra(r||".",{relative:t})},d=kr();if(r==null){u.search=d.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let v=f.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:$r([s,u.pathname])),wa(u)}function Zv(r,{relative:t}={}){let s=w.useContext(im);Ye(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=ym("useViewTransitionState"),l=Ra(r,{relative:t});if(!s.isTransitioning)return!1;let u=Mr(s.currentLocation.pathname,a)||s.currentLocation.pathname,d=Mr(s.nextLocation.pathname,a)||s.nextLocation.pathname;return Yo(l.pathname,d)!=null||Yo(l.pathname,u)!=null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wm=(...r)=>r.filter((t,s,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=w.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...f},p)=>w.createElement("svg",{ref:p,...tx,width:t,height:t,stroke:r,strokeWidth:a?Number(s)*24/Number(t):s,className:wm("lucide",l),...f},[...d.map(([g,v])=>w.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(r,t)=>{const s=w.forwardRef(({className:a,...l},u)=>w.createElement(rx,{ref:u,iconNode:t,className:wm(`lucide-${ex(r)}`,a),...l}));return s.displayName=`${r}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=be("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=be("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=be("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=be("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=be("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=be("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=be("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=be("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=be("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=be("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=be("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=be("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=be("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=be("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=be("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Em(r){var t,s,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(s=Em(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s);return a}function Cm(){for(var r,t,s=0,a="",l=arguments.length;s<l;s++)(r=arguments[s])&&(t=Em(r))&&(a&&(a+=" "),a+=t);return a}const Yc="-",gx=r=>{const t=xx(r),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=r;return{getClassGroupId:d=>{const f=d.split(Yc);return f[0]===""&&f.length!==1&&f.shift(),Tm(f,t)||vx(d)},getConflictingClassGroupIds:(d,f)=>{const p=s[d]||[];return f&&a[d]?[...p,...a[d]]:p}}},Tm=(r,t)=>{var d;if(r.length===0)return t.classGroupId;const s=r[0],a=t.nextPart.get(s),l=a?Tm(r.slice(1),a):void 0;if(l)return l;if(t.validators.length===0)return;const u=r.join(Yc);return(d=t.validators.find(({validator:f})=>f(u)))==null?void 0:d.classGroupId},pf=/^\[(.+)\]$/,vx=r=>{if(pf.test(r)){const t=pf.exec(r)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}},xx=r=>{const{theme:t,prefix:s}=r,a={nextPart:new Map,validators:[]};return wx(Object.entries(r.classGroups),s).forEach(([u,d])=>{Sc(d,a,u,t)}),a},Sc=(r,t,s,a)=>{r.forEach(l=>{if(typeof l=="string"){const u=l===""?t:gf(t,l);u.classGroupId=s;return}if(typeof l=="function"){if(yx(l)){Sc(l(a),t,s,a);return}t.validators.push({validator:l,classGroupId:s});return}Object.entries(l).forEach(([u,d])=>{Sc(d,gf(t,u),s,a)})})},gf=(r,t)=>{let s=r;return t.split(Yc).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},yx=r=>r.isThemeGetter,wx=(r,t)=>t?r.map(([s,a])=>{const l=a.map(u=>typeof u=="string"?t+u:typeof u=="object"?Object.fromEntries(Object.entries(u).map(([d,f])=>[t+d,f])):u);return[s,l]}):r,bx=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,s=new Map,a=new Map;const l=(u,d)=>{s.set(u,d),t++,t>r&&(t=0,a=s,s=new Map)};return{get(u){let d=s.get(u);if(d!==void 0)return d;if((d=a.get(u))!==void 0)return l(u,d),d},set(u,d){s.has(u)?s.set(u,d):l(u,d)}}},Rm="!",_x=r=>{const{separator:t,experimentalParseClassName:s}=r,a=t.length===1,l=t[0],u=t.length,d=f=>{const p=[];let g=0,v=0,y;for(let j=0;j<f.length;j++){let C=f[j];if(g===0){if(C===l&&(a||f.slice(j,j+u)===t)){p.push(f.slice(v,j)),v=j+u;continue}if(C==="/"){y=j;continue}}C==="["?g++:C==="]"&&g--}const _=p.length===0?f:f.substring(v),k=_.startsWith(Rm),b=k?_.substring(1):_,N=y&&y>v?y-v:void 0;return{modifiers:p,hasImportantModifier:k,baseClassName:b,maybePostfixModifierPosition:N}};return s?f=>s({className:f,parseClassName:d}):d},jx=r=>{if(r.length<=1)return r;const t=[];let s=[];return r.forEach(a=>{a[0]==="["?(t.push(...s.sort(),a),s=[]):s.push(a)}),t.push(...s.sort()),t},Nx=r=>({cache:bx(r.cacheSize),parseClassName:_x(r),...gx(r)}),kx=/\s+/,Sx=(r,t)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:l}=t,u=[],d=r.trim().split(kx);let f="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{modifiers:v,hasImportantModifier:y,baseClassName:_,maybePostfixModifierPosition:k}=s(g);let b=!!k,N=a(b?_.substring(0,k):_);if(!N){if(!b){f=g+(f.length>0?" "+f:f);continue}if(N=a(_),!N){f=g+(f.length>0?" "+f:f);continue}b=!1}const j=jx(v).join(":"),C=y?j+Rm:j,E=C+N;if(u.includes(E))continue;u.push(E);const P=l(N,b);for(let M=0;M<P.length;++M){const A=P[M];u.push(C+A)}f=g+(f.length>0?" "+f:f)}return f};function Ex(){let r=0,t,s,a="";for(;r<arguments.length;)(t=arguments[r++])&&(s=Pm(t))&&(a&&(a+=" "),a+=s);return a}const Pm=r=>{if(typeof r=="string")return r;let t,s="";for(let a=0;a<r.length;a++)r[a]&&(t=Pm(r[a]))&&(s&&(s+=" "),s+=t);return s};function Cx(r,...t){let s,a,l,u=d;function d(p){const g=t.reduce((v,y)=>y(v),r());return s=Nx(g),a=s.cache.get,l=s.cache.set,u=f,f(p)}function f(p){const g=a(p);if(g)return g;const v=Sx(p,s);return l(p,v),v}return function(){return u(Ex.apply(null,arguments))}}const Ke=r=>{const t=s=>s[r]||[];return t.isThemeGetter=!0,t},Om=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tx=/^\d+\/\d+$/,Rx=new Set(["px","full","screen"]),Px=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ox=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ax=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ix=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Lx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Lr=r=>js(r)||Rx.has(r)||Tx.test(r),on=r=>Rs(r,"length",Wx),js=r=>!!r&&!Number.isNaN(Number(r)),dc=r=>Rs(r,"number",js),pa=r=>!!r&&Number.isInteger(Number(r)),Dx=r=>r.endsWith("%")&&js(r.slice(0,-1)),Ne=r=>Om.test(r),ln=r=>Px.test(r),$x=new Set(["length","size","percentage"]),Mx=r=>Rs(r,$x,Am),Ux=r=>Rs(r,"position",Am),Fx=new Set(["image","url"]),zx=r=>Rs(r,Fx,Vx),Bx=r=>Rs(r,"",qx),ga=()=>!0,Rs=(r,t,s)=>{const a=Om.exec(r);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):s(a[2]):!1},Wx=r=>Ox.test(r)&&!Ax.test(r),Am=()=>!1,qx=r=>Ix.test(r),Vx=r=>Lx.test(r),Hx=()=>{const r=Ke("colors"),t=Ke("spacing"),s=Ke("blur"),a=Ke("brightness"),l=Ke("borderColor"),u=Ke("borderRadius"),d=Ke("borderSpacing"),f=Ke("borderWidth"),p=Ke("contrast"),g=Ke("grayscale"),v=Ke("hueRotate"),y=Ke("invert"),_=Ke("gap"),k=Ke("gradientColorStops"),b=Ke("gradientColorStopPositions"),N=Ke("inset"),j=Ke("margin"),C=Ke("opacity"),E=Ke("padding"),P=Ke("saturate"),M=Ke("scale"),A=Ke("sepia"),U=Ke("skew"),K=Ke("space"),ce=Ke("translate"),fe=()=>["auto","contain","none"],Ce=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Ne,t],oe=()=>[Ne,t],Ue=()=>["",Lr,on],We=()=>["auto",js,Ne],qe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ae=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Ne],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[js,Ne];return{cacheSize:500,separator:":",theme:{colors:[ga],spacing:[Lr,on],blur:["none","",ln,Ne],brightness:T(),borderColor:[r],borderRadius:["none","","full",ln,Ne],borderSpacing:oe(),borderWidth:Ue(),contrast:T(),grayscale:$(),hueRotate:T(),invert:$(),gap:oe(),gradientColorStops:[r],gradientColorStopPositions:[Dx,on],inset:ee(),margin:ee(),opacity:T(),padding:oe(),saturate:T(),scale:T(),sepia:$(),skew:T(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[ln]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...qe(),Ne]}],overflow:[{overflow:Ce()}],"overflow-x":[{"overflow-x":Ce()}],"overflow-y":[{"overflow-y":Ce()}],overscroll:[{overscroll:fe()}],"overscroll-x":[{"overscroll-x":fe()}],"overscroll-y":[{"overscroll-y":fe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pa,Ne]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",pa,Ne]}],"grid-cols":[{"grid-cols":[ga]}],"col-start-end":[{col:["auto",{span:["full",pa,Ne]},Ne]}],"col-start":[{"col-start":We()}],"col-end":[{"col-end":We()}],"grid-rows":[{"grid-rows":[ga]}],"row-start-end":[{row:["auto",{span:[pa,Ne]},Ne]}],"row-start":[{"row-start":We()}],"row-end":[{"row-end":We()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,t]}],"min-w":[{"min-w":[Ne,t,"min","max","fit"]}],"max-w":[{"max-w":[Ne,t,"none","full","min","max","fit","prose",{screen:[ln]},ln]}],h:[{h:[Ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ln,on]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",dc]}],"font-family":[{font:[ga]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",js,dc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Lr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[r]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[r]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Lr,on]}],"underline-offset":[{"underline-offset":["auto",Lr,Ne]}],"text-decoration-color":[{decoration:[r]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...qe(),Ux]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zx]}],"bg-color":[{bg:[r]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[u]}],"rounded-s":[{"rounded-s":[u]}],"rounded-e":[{"rounded-e":[u]}],"rounded-t":[{"rounded-t":[u]}],"rounded-r":[{"rounded-r":[u]}],"rounded-b":[{"rounded-b":[u]}],"rounded-l":[{"rounded-l":[u]}],"rounded-ss":[{"rounded-ss":[u]}],"rounded-se":[{"rounded-se":[u]}],"rounded-ee":[{"rounded-ee":[u]}],"rounded-es":[{"rounded-es":[u]}],"rounded-tl":[{"rounded-tl":[u]}],"rounded-tr":[{"rounded-tr":[u]}],"rounded-br":[{"rounded-br":[u]}],"rounded-bl":[{"rounded-bl":[u]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...Ae(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:Ae()}],"border-color":[{border:[l]}],"border-color-x":[{"border-x":[l]}],"border-color-y":[{"border-y":[l]}],"border-color-s":[{"border-s":[l]}],"border-color-e":[{"border-e":[l]}],"border-color-t":[{"border-t":[l]}],"border-color-r":[{"border-r":[l]}],"border-color-b":[{"border-b":[l]}],"border-color-l":[{"border-l":[l]}],"divide-color":[{divide:[l]}],"outline-style":[{outline:["",...Ae()]}],"outline-offset":[{"outline-offset":[Lr,Ne]}],"outline-w":[{outline:[Lr,on]}],"outline-color":[{outline:[r]}],"ring-w":[{ring:Ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[r]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Lr,on]}],"ring-offset-color":[{"ring-offset":[r]}],shadow:[{shadow:["","inner","none",ln,Bx]}],"shadow-color":[{shadow:[ga]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",ln,Ne]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[y]}],saturate:[{saturate:[P]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[P]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[pa,Ne]}],"translate-x":[{"translate-x":[ce]}],"translate-y":[{"translate-y":[ce]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",r]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[r]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[r,"none"]}],"stroke-w":[{stroke:[Lr,on,dc]}],stroke:[{stroke:[r,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Kx=Cx(Hx);function Ee(...r){return Kx(Cm(r))}async function Qc(r,t=1024,s=.7){return new Promise((a,l)=>{const u=new FileReader;u.readAsDataURL(r),u.onload=d=>{var p;const f=new Image;f.src=(p=d.target)==null?void 0:p.result,f.onload=()=>{const g=document.createElement("canvas");let v=f.width,y=f.height;v>t&&(y=Math.round(y*t/v),v=t),g.width=v,g.height=y;const _=g.getContext("2d");if(!_){l(new Error("Falha ao obter contexto do canvas"));return}_.drawImage(f,0,0,v,y),g.toBlob(k=>{k?a(k):l(new Error("Falha na compresso da imagem"))},"image/jpeg",s)},f.onerror=g=>l(g)},u.onerror=d=>l(d)})}function li(r,t){var s={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&t.indexOf(a)<0&&(s[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(r);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(r,a[l])&&(s[a[l]]=r[a[l]]);return s}function Gx(r,t,s,a){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(v){try{g(a.next(v))}catch(y){d(y)}}function p(v){try{g(a.throw(v))}catch(y){d(y)}}function g(v){v.done?u(v.value):l(v.value).then(f,p)}g((a=a.apply(r,t||[])).next())})}const Jx=r=>r?(...t)=>r(...t):(...t)=>fetch(...t);class Xc extends Error{constructor(t,s="FunctionsError",a){super(t),this.name=s,this.context=a}}class Yx extends Xc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vf extends Xc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xf extends Xc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ec;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(Ec||(Ec={}));class Qx{constructor(t,{headers:s={},customFetch:a,region:l=Ec.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=Jx(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Gx(this,arguments,void 0,function*(s,a={}){var l;let u,d;try{const{headers:f,method:p,body:g,signal:v,timeout:y}=a;let _={},{region:k}=a;k||(k=this.region);const b=new URL(`${this.url}/${s}`);k&&k!=="any"&&(_["x-region"]=k,b.searchParams.set("forceFunctionRegion",k));let N;g&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",N=g):typeof g=="string"?(_["Content-Type"]="text/plain",N=g):typeof FormData<"u"&&g instanceof FormData?N=g:(_["Content-Type"]="application/json",N=JSON.stringify(g)):N=g;let j=v;y&&(d=new AbortController,u=setTimeout(()=>d.abort(),y),v?(j=d.signal,v.addEventListener("abort",()=>d.abort())):j=d.signal);const C=yield this.fetch(b.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),f),body:N,signal:j}).catch(A=>{throw new Yx(A)}),E=C.headers.get("x-relay-error");if(E&&E==="true")throw new vf(C);if(!C.ok)throw new xf(C);let P=((l=C.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),M;return P==="application/json"?M=yield C.json():P==="application/octet-stream"||P==="application/pdf"?M=yield C.blob():P==="text/event-stream"?M=C:P==="multipart/form-data"?M=yield C.formData():M=yield C.text(),{data:M,error:null,response:C}}catch(f){return{data:null,error:f,response:f instanceof xf||f instanceof vf?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Xx=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},Zx=class{constructor(r){var t,s;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(t=r.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=r.signal,this.isMaybeSingle=(s=r.isMaybeSingle)!==null&&s!==void 0?s:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,t){return this.headers=new Headers(this.headers),this.headers.set(r,t),this}then(r,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,g=u.status,v=u.statusText;if(u.ok){var y,_;if(s.method!=="HEAD"){var k;const C=await u.text();C===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((k=s.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?f=C:f=JSON.parse(C))}const N=(y=s.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),j=(_=u.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");N&&j&&j.length>1&&(p=parseInt(j[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,g=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var b;const N=await u.text();try{d=JSON.parse(N),Array.isArray(d)&&u.status===404&&(f=[],d=null,g=200,v="OK")}catch{u.status===404&&N===""?(g=204,v="No Content"):d={message:N}}if(d&&s.isMaybeSingle&&(!(d==null||(b=d.details)===null||b===void 0)&&b.includes("0 rows"))&&(d=null,g=200,v="OK"),d&&s.shouldThrowOnError)throw new Xx(d)}return{error:d,data:f,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(l=l.catch(u=>{var d;let f="";const p=u==null?void 0:u.cause;if(p){var g,v,y,_;const b=(g=p==null?void 0:p.message)!==null&&g!==void 0?g:"",N=(v=p==null?void 0:p.code)!==null&&v!==void 0?v:"";f=`${(y=u==null?void 0:u.name)!==null&&y!==void 0?y:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(_=p==null?void 0:p.name)!==null&&_!==void 0?_:"Error"}: ${b}`,N&&(f+=` (${N})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var k;f=(k=u==null?void 0:u.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(r,t)}returns(){return this}overrideTypes(){return this}},ey=class extends Zx{select(r){let t=!1;const s=(r??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:t=!0,nullsFirst:s,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${r}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:t,referencedTable:s=t}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${r}`),this}range(r,t,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${r}`),this.url.searchParams.set(u,`${t-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:t=!1,settings:s=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const f=[r?"analyze":null,t?"verbose":null,s?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const yf=new RegExp("[,()]");var ys=class extends ey{eq(r,t){return this.url.searchParams.append(r,`eq.${t}`),this}neq(r,t){return this.url.searchParams.append(r,`neq.${t}`),this}gt(r,t){return this.url.searchParams.append(r,`gt.${t}`),this}gte(r,t){return this.url.searchParams.append(r,`gte.${t}`),this}lt(r,t){return this.url.searchParams.append(r,`lt.${t}`),this}lte(r,t){return this.url.searchParams.append(r,`lte.${t}`),this}like(r,t){return this.url.searchParams.append(r,`like.${t}`),this}likeAllOf(r,t){return this.url.searchParams.append(r,`like(all).{${t.join(",")}}`),this}likeAnyOf(r,t){return this.url.searchParams.append(r,`like(any).{${t.join(",")}}`),this}ilike(r,t){return this.url.searchParams.append(r,`ilike.${t}`),this}ilikeAllOf(r,t){return this.url.searchParams.append(r,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(r,t){return this.url.searchParams.append(r,`ilike(any).{${t.join(",")}}`),this}regexMatch(r,t){return this.url.searchParams.append(r,`match.${t}`),this}regexIMatch(r,t){return this.url.searchParams.append(r,`imatch.${t}`),this}is(r,t){return this.url.searchParams.append(r,`is.${t}`),this}isDistinct(r,t){return this.url.searchParams.append(r,`isdistinct.${t}`),this}in(r,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&yf.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`in.(${s})`),this}notIn(r,t){const s=Array.from(new Set(t)).map(a=>typeof a=="string"&&yf.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(r,`not.in.(${s})`),this}contains(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cs.{${t.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(t)}`),this}containedBy(r,t){return typeof t=="string"?this.url.searchParams.append(r,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(r,`cd.{${t.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(t)}`),this}rangeGt(r,t){return this.url.searchParams.append(r,`sr.${t}`),this}rangeGte(r,t){return this.url.searchParams.append(r,`nxl.${t}`),this}rangeLt(r,t){return this.url.searchParams.append(r,`sl.${t}`),this}rangeLte(r,t){return this.url.searchParams.append(r,`nxr.${t}`),this}rangeAdjacent(r,t){return this.url.searchParams.append(r,`adj.${t}`),this}overlaps(r,t){return typeof t=="string"?this.url.searchParams.append(r,`ov.${t}`):this.url.searchParams.append(r,`ov.{${t.join(",")}}`),this}textSearch(r,t,{config:s,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(r,`${l}fts${u}.${t}`),this}match(r){return Object.entries(r).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(r,t,s){return this.url.searchParams.append(r,`not.${t}.${s}`),this}or(r,{foreignTable:t,referencedTable:s=t}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${r})`),this}filter(r,t,s){return this.url.searchParams.append(r,`${t}.${s}`),this}},ty=class{constructor(r,{headers:t={},schema:s,fetch:a}){this.url=r,this.headers=new Headers(t),this.schema=s,this.fetch=a}select(r,t){const{head:s=!1,count:a}=t??{},l=s?"HEAD":"GET";let u=!1;const d=(r??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new ys({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:t,defaultToNull:s=!0}={}){var a;const l="POST";if(t&&this.headers.append("Prefer",`count=${t}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const u=r.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new ys({method:l,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(r,{onConflict:t,ignoreDuplicates:s=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const f=r.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(f.length>0){const p=[...new Set(f)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new ys({method:d,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(r,{count:t}={}){var s;const a="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ys({method:a,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:r}={}){var t;const s="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new ys({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},ry=class Im{constructor(t,{headers:s={},schema:a,fetch:l}={}){this.url=t,this.headers=new Headers(s),this.schemaName=a,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ty(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Im(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:a=!1,get:l=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${t}`);let g;a||l?(f=a?"HEAD":"GET",Object.entries(s).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{p.searchParams.append(y,_)})):(f="POST",g=s);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new ys({method:f,url:p,headers:v,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class ny{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const a=this.getWebSocketConstructor();return new a(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const sy="2.89.0",ay=`realtime-js/${sy}`,Lm="1.0.0",oy="2.0.0",wf=Lm,Cc=1e4,iy=1e3,ly=100;var dn;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(dn||(dn={}));var gt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(gt||(gt={}));var mr;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(mr||(mr={}));var Tc;(function(r){r.websocket="websocket"})(Tc||(Tc={}));var Ln;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Ln||(Ln={}));class cy{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,a;const l=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var s,a;const l=(a=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,a){var l,u;const d=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",g=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+g.length+y.length,k=new ArrayBuffer(this.HEADER_LENGTH+_);let b=new DataView(k),N=0;b.setUint8(N++,this.KINDS.userBroadcastPush),b.setUint8(N++,p.length),b.setUint8(N++,f.length),b.setUint8(N++,d.length),b.setUint8(N++,g.length),b.setUint8(N++,y.length),b.setUint8(N++,s),Array.from(p,C=>b.setUint8(N++,C.charCodeAt(0))),Array.from(f,C=>b.setUint8(N++,C.charCodeAt(0))),Array.from(d,C=>b.setUint8(N++,C.charCodeAt(0))),Array.from(g,C=>b.setUint8(N++,C.charCodeAt(0))),Array.from(y,C=>b.setUint8(N++,C.charCodeAt(0)));var j=new Uint8Array(k.byteLength+a.byteLength);return j.set(new Uint8Array(k),0),j.set(new Uint8Array(a),k.byteLength),j.buffer}decode(t,s){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return s(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,u,d,f,p]=a;return s({join_ref:l,ref:u,topic:d,event:f,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),a=s.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,a){const l=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=a.decode(t.slice(p,p+l));p=p+l;const v=a.decode(t.slice(p,p+u));p=p+u;const y=a.decode(t.slice(p,p+d));p=p+d;const _=t.slice(p,t.byteLength),k=f===this.JSON_ENCODING?JSON.parse(a.decode(_)):_,b={type:this.BROADCAST_EVENT,event:v,payload:k};return d>0&&(b.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>s.includes(a)))}}class Dm{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Be||(Be={}));const bf=(r,t,s={})=>{var a;const l=(a=s.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=uy(d,r,t,l),u),{}):{}},uy=(r,t,s,a)=>{const l=t.find(f=>f.name===r),u=l==null?void 0:l.type,d=s[r];return u&&!a.includes(u)?$m(u,d):Rc(d)},$m=(r,t)=>{if(r.charAt(0)==="_"){const s=r.slice(1,r.length);return my(t,s)}switch(r){case Be.bool:return dy(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return hy(t);case Be.json:case Be.jsonb:return fy(t);case Be.timestamp:return py(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Rc(t);default:return Rc(t)}},Rc=r=>r,dy=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},hy=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},fy=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},my=(r,t)=>{if(typeof r!="string")return r;const s=r.length-1,a=r[s];if(r[0]==="{"&&a==="}"){let u;const d=r.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>$m(t,f))}return r},py=r=>typeof r=="string"?r.replace(" ","T"):r,Mm=r=>{const t=new URL(r);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hc{constructor(t,s,a={},l=Cc){this.channel=t,this.event=s,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var a;return this._hasReceived(t)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _f;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(_f||(_f={}));class xa{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xa.syncState(this.state,l,u,d),this.pendingDiffs.forEach(p=>{this.state=xa.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=xa.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,a,l){const u=this.cloneDeep(t),d=this.transformState(s),f={},p={};return this.map(u,(g,v)=>{d[g]||(p[g]=v)}),this.map(d,(g,v)=>{const y=u[g];if(y){const _=v.map(j=>j.presence_ref),k=y.map(j=>j.presence_ref),b=v.filter(j=>k.indexOf(j.presence_ref)<0),N=y.filter(j=>_.indexOf(j.presence_ref)<0);b.length>0&&(f[g]=b),N.length>0&&(p[g]=N)}else f[g]=v}),this.syncDiff(u,{joins:f,leaves:p},a,l)}static syncDiff(t,s,a,l){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var g;const v=(g=t[f])!==null&&g!==void 0?g:[];if(t[f]=this.cloneDeep(p),v.length>0){const y=t[f].map(k=>k.presence_ref),_=v.filter(k=>y.indexOf(k.presence_ref)<0);t[f].unshift(..._)}a(f,v,p)}),this.map(d,(f,p)=>{let g=t[f];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),t[f]=g,l(f,g,p),g.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(a=>s(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,a)=>{const l=t[a];return"metas"in l?s[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jf;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(jf||(jf={}));var ya;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ya||(ya={}));var Dr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Dr||(Dr={}));class _s{constructor(t,s={config:{}},a){var l,u;if(this.topic=t,this.params=s,this.socket=a,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,mr.join,this.params,this.timeout),this.rejoinTimer=new Dm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new xa(this),this.broadcastEndpointURL=Mm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,g=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(k=>k.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[ya.PRESENCE]&&this.bindings[ya.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},_={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(k=>t==null?void 0:t(Dr.CHANNEL_ERROR,k)),this._onClose(()=>t==null?void 0:t(Dr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t==null||t(Dr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,j=(b=N==null?void 0:N.length)!==null&&b!==void 0?b:0,C=[];for(let E=0;E<j;E++){const P=N[E],{filter:{event:M,schema:A,table:U,filter:K}}=P,ce=k&&k[E];if(ce&&ce.event===M&&_s.isFilterValueEqual(ce.schema,A)&&_s.isFilterValueEqual(ce.table,U)&&_s.isFilterValueEqual(ce.filter,K))C.push(Object.assign(Object.assign({},P),{id:ce.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(Dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Dr.SUBSCRIBED);return}}).receive("error",k=>{this.state=gt.errored,t==null||t(Dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,a){return this.state===gt.joined&&t===ya.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,a)}async httpSend(t,s,a={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const g=await f.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new hc(this,mr.leave,{},t),a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,s,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),d}_push(t,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new hc(this,t,s,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ly){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,a){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,a){var l,u;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:g,join:v}=mr;if(a&&[f,p,g,v].indexOf(d)>=0&&a!==this._joinRef())return;let _=this._onMessage(d,s,a);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(k=>{var b,N,j;return((b=k.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(N=k.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(k=>k.callback(_,a)):(u=this.bindings[d])===null||u===void 0||u.filter(k=>{var b,N,j,C,E,P;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in k){const M=k.id,A=(b=k.filter)===null||b===void 0?void 0:b.event;return M&&((N=s.ids)===null||N===void 0?void 0:N.includes(M))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const M=(E=(C=k==null?void 0:k.filter)===null||C===void 0?void 0:C.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return M==="*"||M===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===d}).map(k=>{if(typeof _=="object"&&"ids"in _){const b=_.data,{schema:N,table:j,commit_timestamp:C,type:E,errors:P}=b;_=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:C,eventType:E,new:{},old:{},errors:P}),this._getPayloadRecords(b))}k.callback(_,a)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,a){const l=t.toLocaleLowerCase(),u={type:l,filter:s,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,s){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&_s.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const a in t)if(t[a]!==s[a])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mr.close,{},t)}_onError(t){this._on(mr.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=bf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=bf(t.columns,t.old_record)),s}}const fc=()=>{},Bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gy=[1e3,2e3,5e3,1e4],vy=1e4,xy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yy{constructor(t,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cc,this.transport=null,this.heartbeatIntervalMs=Bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.reconnectTimer=null,this.vsn=wf,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new cy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${Tc.websocket}`,this.httpEndpoint=Mm(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ny.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,a){this.logger(t,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case dn.connecting:return Ln.Connecting;case dn.open:return Ln.Open;case dn.closing:return Ln.Closing;default:return Ln.Closed}}isConnected(){return this.connectionState()===Ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new _s(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:a,payload:l,ref:u}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${a} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(iy,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:d}=s,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${l} ${f}`.trim(),u),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(l,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===dn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===dn.open||this.conn.readyState===dn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mr.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${a}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const a=new Blob([xy],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,a=!1;if(t)s=t,a=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:ay};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(mr.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Dm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,a,l,u,d,f,p,g,v,y,_,k;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Cc,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:Bo.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:fc,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:wf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t==null?void 0:t.reconnectAfterMs)!==null&&g!==void 0?g:(b=>gy[b-1]||vy),this.vsn){case Lm:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:((b,N)=>N(JSON.stringify(b))),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:((b,N)=>N(JSON.parse(b)));break;case oy:this.encode=(_=t==null?void 0:t.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(k=t==null?void 0:t.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var _a=class extends Error{constructor(r,t){var s;super(r),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wy(r,t,s){const a=new URL(t,r);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&a.searchParams.set(l,u);return a.toString()}async function by(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function _y(r){const t=r.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:l,body:u,headers:d}){const f=wy(r.baseUrl,a,l),p=await by(r.auth),g=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),_=y&&v?JSON.parse(v):v;if(!g.ok){const k=y?_:void 0,b=k==null?void 0:k.error;throw new _a((b==null?void 0:b.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:k})}return{status:g.status,headers:g.headers,data:_}}}}function Wo(r){return r.join("")}var jy=class{constructor(r,t=""){this.client=r,this.prefix=t}async listNamespaces(r){const t=r?{parent:Wo(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(r,t){const s={namespace:r.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wo(r.namespace)}`}),!0}catch(t){if(t instanceof _a&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(r,t){try{return await this.createNamespace(r,t)}catch(s){if(s instanceof _a&&s.status===409)return;throw s}}};function hs(r){return r.join("")}var Ny=class{constructor(r,t="",s){this.client=r,this.prefix=t,this.accessDelegation=s}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`})).data.identifiers}async createTable(r,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(r,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(r,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(r){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:t})).data.metadata}async tableExists(r){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(r.namespace)}/tables/${r.name}`,headers:t}),!0}catch(s){if(s instanceof _a&&s.status===404)return!1;throw s}}async createTableIfNotExists(r,t){try{return await this.createTable(r,t)}catch(s){if(s instanceof _a&&s.status===409)return await this.loadTable({namespace:r.namespace,name:t.name});throw s}}},ky=class{constructor(r){var a;let t="v1";r.catalogName&&(t+=`/${r.catalogName}`);const s=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=_y({baseUrl:s,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=(a=r.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new jy(this.client,t),this.tableOps=new Ny(this.client,t,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,t){return this.namespaceOps.createNamespace(r,t)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,t){return this.tableOps.createTable(r,t)}async updateTable(r,t){return this.tableOps.updateTable(r,t)}async dropTable(r,t){await this.tableOps.dropTable(r,t)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,t){return this.namespaceOps.createNamespaceIfNotExists(r,t)}async createTableIfNotExists(r,t){return this.tableOps.createTableIfNotExists(r,t)}},ci=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function Ze(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Sy=class extends ci{constructor(r,t,s){super(r),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pc=class extends ci{constructor(r,t){super(r),this.name="StorageUnknownError",this.originalError=t}};const Zc=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Ey=()=>Response,Oc=r=>{if(Array.isArray(r))return r.map(s=>Oc(s));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([s,a])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=Oc(a)}),t},Cy=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ty=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function ja(r){"@babel/helpers - typeof";return ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ja(r)}function Ry(r,t){if(ja(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,t);if(ja(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Py(r){var t=Ry(r,"string");return ja(t)=="symbol"?t:t+""}function Oy(r,t,s){return(t=Py(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Nf(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,a)}return s}function ve(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Nf(Object(s),!0).forEach(function(a){Oy(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Nf(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const mc=r=>{var t;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(t=r.error)===null||t===void 0?void 0:t.message)||JSON.stringify(r)},Ay=async(r,t,s)=>{r instanceof await Ey()&&!(s!=null&&s.noResolveJson)?r.json().then(a=>{const l=r.status||500,u=(a==null?void 0:a.statusCode)||l+"";t(new Sy(mc(a),l,u))}).catch(a=>{t(new Pc(mc(a),a))}):t(new Pc(mc(r),r))},Iy=(r,t,s,a)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"||!a?l:(Cy(a)?(l.headers=ve({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,t!=null&&t.duplex&&(l.duplex=t.duplex),ve(ve({},l),s))};async function Pa(r,t,s,a,l,u){return new Promise((d,f)=>{r(s,Iy(t,a,l,u)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>Ay(p,f,a))})}async function Na(r,t,s,a){return Pa(r,"GET",t,s,a)}async function fr(r,t,s,a,l){return Pa(r,"POST",t,a,l,s)}async function Ac(r,t,s,a,l){return Pa(r,"PUT",t,a,l,s)}async function Ly(r,t,s,a){return Pa(r,"HEAD",t,ve(ve({},s),{},{noResolveJson:!0}),a)}async function eu(r,t,s,a,l){return Pa(r,"DELETE",t,a,l,s)}var Dy=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t}then(r,t){return this.execute().then(r,t)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}};let Um;Um=Symbol.toStringTag;var $y=class{constructor(r,t){this.downloadFn=r,this.shouldThrowOnError=t,this[Um]="BlobDownloadBuilder",this.promise=null}asStream(){return new Dy(this.downloadFn,this.shouldThrowOnError)}then(r,t){return this.getPromise().then(r,t)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(t){if(r.shouldThrowOnError)throw t;if(Ze(t))return{data:null,error:t};throw t}}};const My={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Uy=class{constructor(r,t={},s,a){this.shouldThrowOnError=!1,this.url=r,this.headers=t,this.bucketId=s,this.fetch=Zc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,t,s,a){var l=this;try{let u;const d=ve(ve({},kf),a);let f=ve(ve({},l.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",l.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(p))):(u=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),a!=null&&a.headers&&(f=ve(ve({},f),a.headers));const g=l._removeEmptyFolders(t),v=l._getFinalPath(g),y=await(r=="PUT"?Ac:fr)(l.fetch,`${l.url}/object/${v}`,u,ve({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ze(u))return{data:null,error:u};throw u}}async upload(r,t,s){return this.uploadOrUpdate("POST",r,t,s)}async uploadToSignedUrl(r,t,s,a){var l=this;const u=l._removeEmptyFolders(r),d=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${d}`);f.searchParams.set("token",t);try{let p;const g=ve({upsert:kf.upsert},a),v=ve(ve({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{data:{path:u,fullPath:(await Ac(l.fetch,f.toString(),p,{headers:v})).Key},error:null}}catch(p){if(l.shouldThrowOnError)throw p;if(Ze(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(r,t){var s=this;try{let a=s._getFinalPath(r);const l=ve({},s.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const u=await fr(s.fetch,`${s.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(s.url+u.url),f=d.searchParams.get("token");if(!f)throw new ci("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:f},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async update(r,t,s){return this.uploadOrUpdate("PUT",r,t,s)}async move(r,t,s){var a=this;try{return{data:await fr(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers}),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async copy(r,t,s){var a=this;try{return{data:{path:(await fr(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:r,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:a.headers})).Key},error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async createSignedUrl(r,t,s){var a=this;try{let l=a._getFinalPath(r),u=await fr(a.fetch,`${a.url}/object/sign/${l}`,ve({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:a.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${a.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async createSignedUrls(r,t,s){var a=this;try{const l=await fr(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:r},{headers:a.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>ve(ve({},d),{},{signedUrl:d.signedURL?encodeURI(`${a.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}download(r,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=a?`?${a}`:"",u=this._getFinalPath(r),d=()=>Na(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new $y(d,this.shouldThrowOnError)}async info(r){var t=this;const s=t._getFinalPath(r);try{return{data:Oc(await Na(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async exists(r){var t=this;const s=t._getFinalPath(r);try{return await Ly(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Ze(a)&&a instanceof Pc){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}}getPublicUrl(r,t){const s=this._getFinalPath(r),a=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(r){var t=this;try{return{data:await eu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async list(r,t,s){var a=this;try{const l=ve(ve(ve({},My),t),{},{prefix:r||""});return{data:await fr(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},s),error:null}}catch(l){if(a.shouldThrowOnError)throw l;if(Ze(l))return{data:null,error:l};throw l}}async listV2(r,t){var s=this;try{const a=ve({},r);return{data:await fr(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,a,{headers:s.headers},t),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const t=[];return r.width&&t.push(`width=${r.width}`),r.height&&t.push(`height=${r.height}`),r.resize&&t.push(`resize=${r.resize}`),r.format&&t.push(`format=${r.format}`),r.quality&&t.push(`quality=${r.quality}`),t.join("&")}};const Fm="2.89.0",zm={"X-Client-Info":`storage-js/${Fm}`};var Fy=class{constructor(r,t={},s,a){this.shouldThrowOnError=!1;const l=new URL(r);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=ve(ve({},zm),t),this.fetch=Zc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var t=this;try{const s=t.listBucketOptionsToQueryString(r);return{data:await Na(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await Na(t.fetch,`${t.url}/bucket/${r}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async createBucket(r,t={public:!1}){var s=this;try{return{data:await fr(s.fetch,`${s.url}/bucket`,{id:r,name:r,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async updateBucket(r,t){var s=this;try{return{data:await Ac(s.fetch,`${s.url}/bucket/${r}`,{id:r,name:r,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Ze(a))return{data:null,error:a};throw a}}async emptyBucket(r){var t=this;try{return{data:await fr(t.fetch,`${t.url}/bucket/${r}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await eu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(r){const t={};return r&&("limit"in r&&(t.limit=String(r.limit)),"offset"in r&&(t.offset=String(r.offset)),r.search&&(t.search=r.search),r.sortColumn&&(t.sortColumn=r.sortColumn),r.sortOrder&&(t.sortOrder=r.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},zy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ve(ve({},zm),t),this.fetch=Zc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await fr(t.fetch,`${t.url}/bucket`,{name:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async listBuckets(r){var t=this;try{const s=new URLSearchParams;(r==null?void 0:r.limit)!==void 0&&s.set("limit",r.limit.toString()),(r==null?void 0:r.offset)!==void 0&&s.set("offset",r.offset.toString()),r!=null&&r.sortColumn&&s.set("sortColumn",r.sortColumn),r!=null&&r.sortOrder&&s.set("sortOrder",r.sortOrder),r!=null&&r.search&&s.set("search",r.search);const a=s.toString(),l=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Na(t.fetch,l,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await eu(t.fetch,`${t.url}/bucket/${r}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ze(s))return{data:null,error:s};throw s}}from(r){var t=this;if(!Ty(r))throw new ci("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new ky({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(s,{get(l,u){const d=l[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(l,f),error:null}}catch(p){if(a)throw p;return{data:null,error:p}}}}})}};const tu={"X-Client-Info":`storage-js/${Fm}`,"Content-Type":"application/json"};var Bm=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var pc=class extends Bm{constructor(r,t,s){super(r),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},By=class extends Bm{constructor(r,t){super(r),this.name="StorageVectorsUnknownError",this.originalError=t}};const ru=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),Wy=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Sf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),qy=async(r,t,s)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!(s!=null&&s.noResolveJson)){const a=r.status||500,l=r;if(typeof l.json=="function")l.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||a+"";t(new pc(Sf(u),a,d))}).catch(()=>{const u=a+"";t(new pc(l.statusText||`HTTP ${a} error`,a,u))});else{const u=a+"";t(new pc(l.statusText||`HTTP ${a} error`,a,u))}}else t(new By(Sf(r),r))},Vy=(r,t,s,a)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return a?(Wy(a)?(l.headers=ve({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(a)):l.body=a,ve(ve({},l),s)):l};async function Hy(r,t,s,a,l,u){return new Promise((d,f)=>{r(s,Vy(t,a,l,u)).then(p=>{if(!p.ok)throw p;if(a!=null&&a.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>qy(p,f,a))})}async function Gt(r,t,s,a,l){return Hy(r,"POST",t,a,l,s)}var Ky=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ve(ve({},tu),t),this.fetch=ru(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/CreateIndex`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getIndex(r,t){var s=this;try{return{data:await Gt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}}async listIndexes(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/ListIndexes`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteIndex(r,t){var s=this;try{return{data:await Gt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:r,indexName:t},{headers:s.headers})||{},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Kt(a))return{data:null,error:a};throw a}}},Gy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ve(ve({},tu),t),this.fetch=ru(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var t=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Gt(t.fetch,`${t.url}/PutVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getVectors(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/GetVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async listVectors(r){var t=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Gt(t.fetch,`${t.url}/ListVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async queryVectors(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/QueryVectors`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteVectors(r){var t=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Gt(t.fetch,`${t.url}/DeleteVectors`,r,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}},Jy=class{constructor(r,t={},s){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=ve(ve({},tu),t),this.fetch=ru(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async getBucket(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:r},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async listBuckets(r={}){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/ListVectorBuckets`,r,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}async deleteBucket(r){var t=this;try{return{data:await Gt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Kt(s))return{data:null,error:s};throw s}}},Yy=class extends Jy{constructor(r,t={}){super(r,t.headers||{},t.fetch)}from(r){return new Qy(this.url,this.headers,r,this.fetch)}async createBucket(r){var t=()=>super.createBucket,s=this;return t().call(s,r)}async getBucket(r){var t=()=>super.getBucket,s=this;return t().call(s,r)}async listBuckets(r={}){var t=()=>super.listBuckets,s=this;return t().call(s,r)}async deleteBucket(r){var t=()=>super.deleteBucket,s=this;return t().call(s,r)}},Qy=class extends Ky{constructor(r,t,s,a){super(r,t,a),this.vectorBucketName=s}async createIndex(r){var t=()=>super.createIndex,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(r={}){var t=()=>super.listIndexes,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(r){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,r)}async deleteIndex(r){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,r)}index(r){return new Xy(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},Xy=class extends Gy{constructor(r,t,s,a,l){super(r,t,l),this.vectorBucketName=s,this.indexName=a}async putVectors(r){var t=()=>super.putVectors,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(r){var t=()=>super.getVectors,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(r={}){var t=()=>super.listVectors,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(r){var t=()=>super.queryVectors,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(r){var t=()=>super.deleteVectors,s=this;return t().call(s,ve(ve({},r),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Zy=class extends Fy{constructor(r,t={},s,a){super(r,t,s,a)}from(r){return new Uy(this.url,this.headers,r,this.fetch)}get vectors(){return new Yy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new zy(this.url+"/iceberg",this.headers,this.fetch)}};const Wm="2.89.0",ws=30*1e3,Ic=3,gc=Ic*ws,ew="http://localhost:9999",tw="supabase.auth.token",rw={"X-Client-Info":`gotrue-js/${Wm}`},Lc="X-Supabase-Api-Version",qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},nw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sw=600*1e3;class ka extends Error{constructor(t,s,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function ie(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class aw extends ka{constructor(t,s,a){super(t,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function ow(r){return ie(r)&&r.name==="AuthApiError"}class Dn extends ka{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Fr extends ka{constructor(t,s,a,l){super(t,a,l),this.name=s,this.status=a}}class Ht extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iw(r){return ie(r)&&r.name==="AuthSessionMissingError"}class fs extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qo extends Fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vo extends Fr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function lw(r){return ie(r)&&r.name==="AuthImplicitGrantRedirectError"}class Ef extends Fr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cw extends Fr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Dc extends Fr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function vc(r){return ie(r)&&r.name==="AuthRetryableFetchError"}class Cf extends Fr{constructor(t,s,a){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class $c extends Fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tf=` 	
\r=`.split(""),uw=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<Tf.length;t+=1)r[Tf[t].charCodeAt(0)]=-2;for(let t=0;t<ei.length;t+=1)r[ei[t].charCodeAt(0)]=t;return r})();function Rf(r,t,s){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(ei[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;s(ei[a]),t.queuedBits-=6}}function Vm(r,t,s){const a=uw[r];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Pf(r){const t=[],s=d=>{t.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{fw(d,a,s)};for(let d=0;d<r.length;d+=1)Vm(r.charCodeAt(d),l,u);return t.join("")}function dw(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function hw(r,t){for(let s=0;s<r.length;s+=1){let a=r.charCodeAt(s);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(r.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}dw(a,t)}}function fw(r,t,s){if(t.utf8seq===0){if(r<=127){s(r);return}for(let a=1;a<6;a+=1)if((r>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Ns(r){const t=[],s={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<r.length;l+=1)Vm(r.charCodeAt(l),s,a);return new Uint8Array(t)}function mw(r){const t=[];return hw(r,s=>t.push(s)),new Uint8Array(t)}function $n(r){const t=[],s={queue:0,queuedBits:0},a=l=>{t.push(l)};return r.forEach(l=>Rf(l,s,a)),Rf(null,s,a),t.join("")}function pw(r){return Math.round(Date.now()/1e3)+r}function gw(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",Pn={tested:!1,writable:!1},Hm=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pn.tested)return Pn.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Pn.tested=!0,Pn.writable=!0}catch{Pn.tested=!0,Pn.writable=!1}return Pn.writable};function vw(r){const t={},s=new URL(r);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return s.searchParams.forEach((a,l)=>{t[l]=a}),t}const Km=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),xw=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",bs=async(r,t,s)=>{await r.setItem(t,JSON.stringify(s))},On=async(r,t)=>{const s=await r.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},jt=async(r,t)=>{await r.removeItem(t)};class ui{constructor(){this.promise=new ui.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}ui.promiseConstructor=Promise;function xc(r){const t=r.split(".");if(t.length!==3)throw new $c("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!nw.test(t[a]))throw new $c("JWT not in base64url format");return{header:JSON.parse(Pf(t[0])),payload:JSON.parse(Pf(t[1])),signature:Ns(t[2]),raw:{header:t[0],payload:t[1]}}}async function yw(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function ww(r,t){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await r(u);if(!t(u,null,d)){a(d);return}}catch(d){if(!t(u,d)){l(d);return}}})()})}function bw(r){return("0"+r.toString(16)).substr(-2)}function _w(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,bw).join("")}async function jw(r){const s=new TextEncoder().encode(r),a=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Nw(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const s=await jw(r);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ms(r,t,s=!1){const a=_w();let l=a;s&&(l+="/PASSWORD_RECOVERY"),await bs(r,`${t}-code-verifier`,l);const u=await Nw(a);return[u,a===u?"plain":"s256"]}const kw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sw(r){const t=r.headers.get(Lc);if(!t||!t.match(kw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ew(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function Cw(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Tw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(r){if(!Tw.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yc(){const r={};return new Proxy(r,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rw(r,t){return new Proxy(r,{get:(s,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,a,l)}})}function Of(r){return JSON.parse(JSON.stringify(r))}const An=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Pw=[502,503,504];async function Af(r){var t;if(!xw(r))throw new Dc(An(r),0);if(Pw.includes(r.status))throw new Dc(An(r),r.status);let s;try{s=await r.json()}catch(u){throw new Dn(An(u),u)}let a;const l=Sw(r);if(l&&l.getTime()>=qm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new Cf(An(s),r.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Ht}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new Cf(An(s),r.status,s.weak_password.reasons);throw new aw(An(s),r.status||500,a)}const Ow=(r,t,s,a)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),s))};async function ge(r,t,s,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[Lc]||(u[Lc]=qm["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Aw(r,t,s+f,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function Aw(r,t,s,a,l,u){const d=Ow(t,a,l,u);let f;try{f=await r(s,Object.assign({},d))}catch(p){throw console.error(p),new Dc(An(p),0)}if(f.ok||await Af(f),a!=null&&a.noResolveJson)return f;try{return await f.json()}catch(p){await Af(p)}}function hr(r){var t;let s=null;Dw(r)&&(s=Object.assign({},r),r.expires_at||(s.expires_at=pw(r.expires_in)));const a=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:s,user:a},error:null}}function If(r){const t=hr(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(t.data.weak_password=r.weak_password),t}function hn(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Iw(r){return{data:r,error:null}}function Lw(r){const{action_link:t,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u}=r,d=li(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function Lf(r){return r}function Dw(r){return r.access_token&&r.refresh_token&&r.expires_in}const wc=["global","local","others"];class $w{constructor({url:t="",headers:s={},fetch:a}){this.url=t,this.headers=s,this.fetch=Km(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=wc[0]){if(wc.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wc.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,s={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:hn})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:s}=t,a=li(t,["options"]),l=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Lw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ie(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hn})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,a,l,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Lf});if(v.error)throw v.error;const y=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ie(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){ps(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hn})}catch(s){if(ie(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){ps(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:hn})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,s=!1){ps(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:hn})}catch(a){if(ie(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ps(t.userId);try{const{data:s,error:a}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:a}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _deleteFactor(t){ps(t.userId),ps(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,a,l,u,d,f,p;try{const g={nextPage:null,lastPage:0,total:0},v=await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Lf});if(v.error)throw v.error;const y=await v.json(),_=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,k=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return k.length>0&&(k.forEach(b=>{const N=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);g[`${j}Page`]=N}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(ie(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ie(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ie(s))return{data:null,error:s};throw s}}}function Df(r={}){return{getItem:t=>r[t]||null,setItem:(t,s)=>{r[t]=s},removeItem:t=>{delete r[t]}}}const gs={debug:!!(globalThis&&Hm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gm extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Mw extends Gm{}async function Uw(r,t,s){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await s()}finally{gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(t===0)throw gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Mw(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(gs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Fw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Jm(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function zw(r){return parseInt(r,16)}function Bw(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function Ww(r){var t;const{chainId:s,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:g,scheme:v,uri:y,version:_}=r;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const k=Jm(r.address),b=v?`${v}://${a}`:a,N=r.statement?`${r.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${k}

${N}`;let C=`URI: ${y}
Version: ${_}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(C+=`
Expiration Time: ${l.toISOString()}`),f&&(C+=`
Not Before: ${f.toISOString()}`),p&&(C+=`
Request ID: ${p}`),g){let E=`
Resources:`;for(const P of g){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);E+=`
- ${P}`}C+=E}return`${j}
${C}`}class dt extends Error{constructor({message:t,code:s,cause:a,name:l}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=l??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class ti extends dt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function qw({error:r,options:t}){var s,a,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new dt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(Ym(d)){if(u.rp.id!==d)return new dt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Vw({error:r,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(t.signal instanceof AbortSignal)return new dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new dt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(Ym(a)){if(s.rpId!==a)return new dt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class Hw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Kw=new Hw;function Gw(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:t,user:s,excludeCredentials:a}=r,l=li(r,["challenge","user","excludeCredentials"]),u=Ns(t).buffer,d=Object.assign(Object.assign({},s),{id:Ns(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const g=a[p];f.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:Ns(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return f}function Jw(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:t,allowCredentials:s}=r,a=li(r,["challenge","allowCredentials"]),l=Ns(t).buffer,u=Object.assign(Object.assign({},a),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Ns(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Yw(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r;return{id:r.id,rawId:r.id,response:{attestationObject:$n(new Uint8Array(r.response.attestationObject)),clientDataJSON:$n(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qw(r){var t;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const s=r,a=r.getClientExtensionResults(),l=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:$n(new Uint8Array(l.authenticatorData)),clientDataJSON:$n(new Uint8Array(l.clientDataJSON)),signature:$n(new Uint8Array(l.signature)),userHandle:l.userHandle?$n(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ym(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function $f(){var r,t;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Xw(r){try{const t=await navigator.credentials.create(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",t)}:{data:null,error:new ti("Empty credential response",t)}}catch(t){return{data:null,error:qw({error:t,options:r})}}}async function Zw(r){try{const t=await navigator.credentials.get(r);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ti("Browser returned unexpected credential type",t)}:{data:null,error:new ti("Empty credential response",t)}}catch(t){return{data:null,error:Vw({error:t,options:r})}}}const eb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},tb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ri(...r){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of r)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(s(d))a[u]=d;else if(t(d)){const f=a[u];t(f)?a[u]=ri(f,d):a[u]=ri(d)}else a[u]=d}return a}function rb(r,t){return ri(eb,r,t||{})}function nb(r,t){return ri(tb,r,t||{})}class sb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:a,signal:l},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:f};const p=l??Kw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${a}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=rb(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:v,error:y}=await Xw({publicKey:g,signal:p});return v?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=nb(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:v,error:y}=await Zw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(d){return ie(d)?{data:null,error:d}:{data:null,error:new Dn("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new ka("rpId is required for WebAuthn authentication")};try{if(!$f())return{data:null,error:new Dn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:a},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:a,credential_response:p.credential_response}})}catch(d){return ie(d)?{data:null,error:d}:{data:null,error:new Dn("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new ka("rpId is required for WebAuthn registration")};try{if(!$f())return{data:null,error:new Dn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===t&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:f};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:l},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return ie(d)?{data:null,error:d}:{data:null,error:new Dn("Unexpected error in register",d)}}}}Fw();const ab={url:ew,storageKey:tw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mf(r,t,s){return await s()}const vs={};class Sa{get jwks(){var t,s;return(s=(t=vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:t})}constructor(t){var s,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},ab),t);if(this.storageKey=u.storageKey,this.instanceID=(s=Sa.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Sa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Nt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new $w({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Km(u.fetch),this.lock=u.lock||Mf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:this.persistSession&&Nt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=Uw:this.lock=Mf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new sb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Hm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Df(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Df(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wm}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},a="none";if(Nt()&&(s=vw(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),Nt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),lw(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ie(s)?this._returnResult({error:s}):this._returnResult({error:new Dn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,a,l;try{const u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:hr}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,a,l;try{let u;if("email"in t){const{email:v,password:y,options:_}=t;let k=null,b=null;this.flowType==="pkce"&&([k,b]=await ms(this.storage,this.storageKey)),u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:y,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:k,code_challenge_method:b},xform:hr})}else if("phone"in t){const{phone:v,password:y,options:_}=t;u=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:hr})}else throw new qo("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await jt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:f}=t;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:If})}else if("phone"in t){const{phone:u,password:d,options:f}=t;s=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:If})}else throw new qo("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const u=new fs;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,a,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,a,l,u,d,f,p,g,v,y,_;let k,b;if("message"in t)k=t.message,b=t.signature;else{const{chain:N,wallet:j,statement:C,options:E}=t;let P;if(Nt())if(typeof j=="object")P=j;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")P=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const M=new URL((s=E==null?void 0:E.url)!==null&&s!==void 0?s:window.location.href),A=await P.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Jm(A[0]);let K=(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!K){const fe=await P.request({method:"eth_chainId"});K=zw(fe)}const ce={domain:M.host,address:U,statement:C,uri:M.href,version:"1",chainId:K,nonce:(l=E==null?void 0:E.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=E==null?void 0:E.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=E==null?void 0:E.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=E==null?void 0:E.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=E==null?void 0:E.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=E==null?void 0:E.signInWithEthereum)===null||v===void 0?void 0:v.resources};k=Ww(ce),b=await P.request({method:"personal_sign",params:[Bw(k),U]})}try{const{data:N,error:j}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:b},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:hr});if(j)throw j;if(!N||!N.session||!N.user){const C=new fs;return this._returnResult({data:{user:null,session:null},error:C})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:j})}catch(N){if(ie(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(t){var s,a,l,u,d,f,p,g,v,y,_,k;let b,N;if("message"in t)b=t.message,N=t.signature;else{const{chain:j,wallet:C,statement:E,options:P}=t;let M;if(Nt())if(typeof C=="object")M=C;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))M=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=C}const A=new URL((s=P==null?void 0:P.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in M&&M.signIn){const U=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),E?{statement:E}:null));let K;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")K=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)K=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)b=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),N=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(l=(a=P==null?void 0:P.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((d=P==null?void 0:P.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((f=P==null?void 0:P.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((p=P==null?void 0:P.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((g=P==null?void 0:P.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((y=(v=P==null?void 0:P.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...P.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const U=await M.signMessage(new TextEncoder().encode(b),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=U}}try{const{data:j,error:C}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:$n(N)},!((_=t.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:hr});if(C)throw C;if(!j||!j.session||!j.user){const E=new fs;return this._returnResult({data:{user:null,session:null},error:E})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:C})}catch(j){if(ie(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const s=await On(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(s??"").split("/");try{if(!a&&this.flowType==="pkce")throw new cw;const{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:hr});if(await jt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:a,token:l,access_token:u,nonce:d}=t,f=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:hr}),{data:p,error:g}=f;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new fs;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,a,l,u,d;try{if("email"in t){const{email:f,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ms(this.storage,this.storageKey));const{error:y}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:p}=t,{data:g,error:v}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new qo("You must provide either an email or phone number.")}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,a;try{let l,u;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:hr});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,a,l,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await ms(this.storage,this.storageKey));const g=await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:Iw});return!((u=g.data)===null||u===void 0)&&u.url&&Nt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(f){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;if(a)throw a;if(!s)throw new Ht;const{error:l}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:u}=t,{error:d}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:a,type:l,options:u}=t,{data:d,error:f}=await ge(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new qo("You must provide either an email or phone number and a type")}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await On(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<gc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const d=await On(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=yc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=Rw(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:hn}):await this._useSession(async s=>{var a,l,u;const{data:d,error:f}=s;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ht}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:hn})})}catch(s){if(ie(s))return iw(s)&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new Ht;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await ms(this.storage,this.storageKey));const{data:g,error:v}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:hn});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ht;const s=Date.now()/1e3;let a=s,l=!0,u=null;const{payload:d}=xc(t.access_token);if(d.exp&&(a=d.exp,l=a<=s),l){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(ie(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var a;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(a=d.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new Ht;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Nt())throw new Vo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ef("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ef("No code detected.");const{data:E,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:g}=t;if(!u||!f||!d||!g)throw new Vo("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(f);let _=v+y;p&&(_=parseInt(p));const k=_-v;k*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${y}s`);const b=_-y;v-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,_,v):v-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,_,v);const{data:N,error:j}=await this._getUser(u);if(j)throw j;const C={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:y,expires_at:_,refresh_token:d,token_type:g,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(ie(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await On(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({error:u});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(ow(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await jt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=gw(),a={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async s=>{var a,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ms(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:a,error:l}=await this._useSession(async u=>{var d,f,p,g,v;const{data:y,error:_}=u;if(_)throw _;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",k,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return Nt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(ie(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var a;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:d,provider:f,token:p,access_token:g,nonce:v}=t,y=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u==null?void 0:u.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:hr}),{data:_,error:k}=y;return k?this._returnResult({data:{user:null,session:null},error:k}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new fs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:k}))}catch(l){if(await jt(this.storage,`${this.storageKey}-code-verifier`),ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var a,l;const{data:u,error:d}=s;if(d)throw d;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await ww(async l=>(l>0&&await yw(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hr})),(l,u)=>{const d=200*Math.pow(2,l);return u&&vc(u)&&Date.now()+d-a<ws})}catch(a){if(this._debug(s,"error",a),ie(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",a),Nt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await On(this.storage,this.storageKey);if(l&&this.userStorage){let d=await On(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await bs(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:yc()}else if(l&&!l.user&&!l.user){const d=await On(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await jt(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,l)):l.user=yc()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<gc;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${gc}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),vc(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var s,a;if(!t)throw new Ht;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new ui;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new Ht;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),ie(u)){const d={data:null,error:u};return vc(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await bs(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=Of(l);await bs(this.storage,this.storageKey,u)}else{const l=Of(s);await bs(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await jt(this.storage,this.storageKey),await jt(this.storage,this.storageKey+"-code-verifier"),await jt(this.storage,this.storageKey+"-user"),this.userStorage&&await jt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ws}ms, refresh threshold is ${Ic} ticks`),l<=Ic&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Gm)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,a){const l=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await ms(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var a,l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Yw(t.webauthn.credential_response):Qw(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Gw(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Jw(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=xc(a.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(v=>v.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;return l?this._returnResult({data:null,error:l}):a?await ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Ht});const d=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Nt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,s){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new Ht});const d=await ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Nt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:a}=t;return a?this._returnResult({data:null,error:a}):s?await ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ht})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;return l?this._returnResult({data:null,error:l}):a?(await ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ht})})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let a=s.keys.find(f=>f.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+sw>l)return a;const{data:u,error:d}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,s={}){try{let a=t;if(!a){const{data:k,error:b}=await this.getSession();if(b||!k.session)return this._returnResult({data:null,error:b});a=k.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:p}}=xc(a);s!=null&&s.allowExpired||Ew(u.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:k}=await this.getUser(a);if(k)throw k;return{data:{claims:u,header:l,signature:d},error:null}}const v=Cw(l.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,d,mw(`${f}.${p}`)))throw new $c("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(a){if(ie(a))return this._returnResult({data:null,error:a});throw a}}}Sa.nextInstanceID={};const ob=Sa,ib="2.89.0";let va="";typeof Deno<"u"?va="deno":typeof document<"u"?va="web":typeof navigator<"u"&&navigator.product==="ReactNative"?va="react-native":va="node";const lb={"X-Client-Info":`supabase-js-${va}/${ib}`},cb={headers:lb},ub={schema:"public"},db={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hb={};function Ea(r){"@babel/helpers - typeof";return Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(r)}function fb(r,t){if(Ea(r)!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var a=s.call(r,t);if(Ea(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function mb(r){var t=fb(r,"string");return Ea(t)=="symbol"?t:t+""}function pb(r,t,s){return(t=mb(t))in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function Uf(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),s.push.apply(s,a)}return s}function rt(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Uf(Object(s),!0).forEach(function(a){pb(r,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):Uf(Object(s)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(s,a))})}return r}const gb=r=>r?(...t)=>r(...t):(...t)=>fetch(...t),vb=()=>Headers,xb=(r,t,s)=>{const a=gb(s),l=vb();return async(u,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:r;let g=new l(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",r),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),a(u,rt(rt({},d),{},{headers:g}))}};function yb(r){return r.endsWith("/")?r:r+"/"}function wb(r,t){var s,a;const{db:l,auth:u,realtime:d,global:f}=r,{db:p,auth:g,realtime:v,global:y}=t,_={db:rt(rt({},p),l),auth:rt(rt({},g),u),realtime:rt(rt({},v),d),storage:{},global:rt(rt(rt({},y),f),{},{headers:rt(rt({},(s=y==null?void 0:y.headers)!==null&&s!==void 0?s:{}),(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return r.accessToken?_.accessToken=r.accessToken:delete _.accessToken,_}function bb(r){const t=r==null?void 0:r.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _b=class extends ob{constructor(r){super(r)}},jb=class{constructor(r,t,s){var a,l;this.supabaseUrl=r,this.supabaseKey=t;const u=bb(r);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:ub,realtime:hb,auth:rt(rt({},db),{},{storageKey:d}),global:cb},p=wb(s??{},f);if(this.storageKey=(a=p.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=xb(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new ry(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Zy(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Qx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,t,s)}channel(r,t={config:{}}){return this.realtime.channel(r,t)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,t,s;if(r.accessToken)return await r.accessToken();const{data:a}=await r.auth.getSession();return(t=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:l,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:g},v,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _b({url:this.authUrl.href,headers:rt(rt({},_),v),storageKey:u,autoRefreshToken:r,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:l,flowType:d,lock:f,debug:p,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new yy(this.realtimeUrl.href,rt(rt({},r),{},{params:rt(rt({},{apikey:this.supabaseKey}),r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,t)=>{this._handleTokenChanged(r,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(r,t,s){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Nb=(r,t,s)=>new jb(r,t,s);function kb(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}kb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sb="https://dltqxfyrltgbudtzxzot.supabase.co",Eb="sb_publishable__BxAiNOgqk_mZs6epZxoyg_juUcuv7r",Y=Nb(Sb,Eb),Vt={EMPRESA_ID:"flowdrain_empresa_id",USER_DATA:"flowdrain_user_data",USER_ROLE:"flowdrain_user_role"},Ho={setEmpresaId:r=>{localStorage.setItem(Vt.EMPRESA_ID,r)},getEmpresaId:()=>localStorage.getItem(Vt.EMPRESA_ID),setUserData:r=>{localStorage.setItem(Vt.USER_DATA,JSON.stringify(r)),r.empresa_id?localStorage.setItem(Vt.EMPRESA_ID,r.empresa_id):localStorage.removeItem(Vt.EMPRESA_ID),r.cargo?localStorage.setItem(Vt.USER_ROLE,r.cargo):localStorage.removeItem(Vt.USER_ROLE)},getUserData:()=>{const r=localStorage.getItem(Vt.USER_DATA);if(!r)return null;try{return JSON.parse(r)}catch{return null}},getUserRole:()=>localStorage.getItem(Vt.USER_ROLE),clearAll:()=>{localStorage.removeItem(Vt.EMPRESA_ID),localStorage.removeItem(Vt.USER_DATA),localStorage.removeItem(Vt.USER_ROLE)},isAuthenticated:()=>!!localStorage.getItem(Vt.EMPRESA_ID)},Qm=w.createContext(void 0);function Cb({children:r}){const[t,s]=w.useState(null),[a,l]=w.useState(null),[u,d]=w.useState(null),[f,p]=w.useState(!0);w.useEffect(()=>{Y.auth.getSession().then(({data:{session:k}})=>{s((k==null?void 0:k.user)??null),k!=null&&k.user?g(k.user.id):p(!1)});const{data:{subscription:_}}=Y.auth.onAuthStateChange((k,b)=>{s((b==null?void 0:b.user)??null),b!=null&&b.user?g(b.user.id):(l(null),d(null),Ho.clearAll())});return()=>_.unsubscribe()},[]);const g=async _=>{try{const{data:k,error:b}=await Y.from("usuarios").select("*").eq("id",_).maybeSingle();if(b){console.error("Erro ao buscar perfil do usurio:",b.message);return}if(k){const N=k,j={id:N.id,empresa_id:N.empresa_id||null,cargo:N.cargo||"tecnico",nome:N.nome_completo||N.nome||"",email:N.email||""};l(j),d(N.empresa_id),Ho.setUserData(j)}else console.warn("Usurio logado mas sem perfil na tabela usuarios.")}catch(k){console.error("Error loading user data:",k)}finally{p(!1)}},v=async(_,k)=>{try{const{data:b,error:N}=await Y.auth.signInWithPassword({email:_,password:k});if(N)return{success:!1,error:"E-mail ou senha incorretos"};if(!b.user)return{success:!1,error:"Erro ao fazer login"};const{data:j,error:C}=await Y.from("usuarios").select("*").eq("id",b.user.id).single();if(console.log("Dados do usurio (Login):",j),b.user){if(s(b.user),j){const E=j,P={id:E.id,empresa_id:E.empresa_id||null,cargo:E.cargo||"tecnico",nome:E.nome_completo||E.nome||"",email:E.email||""};l(P),d(E.empresa_id),Ho.setUserData(P)}return{success:!0}}return{success:!1,error:"Erro inesperado"}}catch(b){return console.error("Sign in error:",b),{success:!1,error:"Erro de conexo. Tente novamente"}}},y=async()=>{await Y.auth.signOut(),s(null),l(null),d(null),Ho.clearAll()};return o.jsx(Qm.Provider,{value:{user:t,userData:a,empresaId:u,loading:f,signIn:v,signOut:y},children:r})}function At(){const r=w.useContext(Qm);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}function Tb(){var b,N,j,C;const r=kr(),t=Ot(),{signOut:s,userData:a}=At(),[l,u]=w.useState(!1),d=async()=>{await s(),t("/login")},f=((b=a==null?void 0:a.cargo)==null?void 0:b.toLowerCase())==="tecnico"||((N=a==null?void 0:a.cargo)==null?void 0:N.toLowerCase())==="tcnico",p=f?[{icon:cf,label:"Incio",path:"/tecnico/dashboard"},{icon:Ss,label:"OS",path:"/service-orders"},{icon:Zo,label:"Financeiro",path:"/tecnico/financeiro"},{icon:Jo,label:"Clientes",path:"/clients"}]:[{icon:cf,label:"Incio",path:"/"},{icon:Ss,label:"OS",path:"/service-orders"},{icon:km,label:"Servios",path:"/services"},{icon:Jo,label:"Equipe",path:"/technicians"},{icon:Zo,label:"Financeiro",path:"/financial"}],g=()=>{var E;switch(r.pathname){case"/":return`Ol, ${((E=a==null?void 0:a.nome)==null?void 0:E.split(" ")[0])||"Visitante"}`;case"/service-orders":return"Ordens de Servio";case"/services":return"Catlogo de Servios";case"/clients":return"Carteira de Clientes";case"/technicians":return"Equipe Tcnica";case"/settings":return"Configuraes";case"/tech-dashboard":return"Painel do Tcnico";default:return"FlowDrain"}},[v,y]=w.useState(null),_=w.useCallback(E=>{y(()=>E)},[]),k=()=>{console.log("FAB Clicked. Action:",v),v&&v()};return o.jsxs("div",{className:"min-h-screen bg-background text-foreground flex flex-col md:flex-row font-sans",children:[o.jsxs("aside",{className:"hidden md:flex w-72 flex-col border-r border-border bg-white shadow-xl z-20",children:[o.jsx("div",{className:"h-20 flex items-center px-8 border-b border-gray-100",children:o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-500 to-sky-500 bg-clip-text text-transparent transform hover:scale-105 transition-transform",children:"FlowDrain"})}),o.jsx("nav",{className:"flex-1 p-6 space-y-3",children:[...p,...f?[]:[{icon:ff,label:"Configuraes",path:"/settings"}]].map(E=>o.jsxs(un,{to:E.path,className:Ee("flex items-center gap-4 px-6 py-4 rounded-2xl transition-all duration-300 group",r.pathname===E.path?"bg-slate-900 text-white shadow-lg shadow-slate-900/20 translate-x-1":"hover:bg-gray-50 text-gray-500 hover:text-slate-900"),children:[o.jsx(E.icon,{className:Ee("h-5 w-5 transition-transform group-hover:scale-110",r.pathname===E.path?"text-emerald-400":"")}),o.jsx("span",{className:"font-medium",children:E.label})]},E.path))}),o.jsx("div",{className:"p-6 border-t border-gray-100",children:o.jsxs("button",{onClick:d,className:"flex w-full items-center gap-3 px-6 py-4 text-sm font-medium text-red-500 hover:bg-red-50 rounded-2xl transition-colors",children:[o.jsx(uf,{className:"h-5 w-5"}),"Sair do Sistema"]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden relative",children:[o.jsxs("header",{className:"md:hidden min-h-[130px] banking-gradient rounded-b-[30px] px-6 pt-6 pb-8 flex flex-col justify-between shadow-2xl relative z-0 shrink-0",children:[o.jsxs("div",{className:"flex items-center justify-between text-white",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30",children:o.jsx("span",{className:"font-bold text-lg",children:((j=a==null?void 0:a.nome)==null?void 0:j[0])||"F"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-emerald-100 font-medium opacity-90",children:r.pathname==="/"?"Bem-vindo de volta,":"Gerenciamento"}),o.jsx("h1",{className:"text-xl font-bold leading-tight",children:g()})]})]}),o.jsx("button",{onClick:()=>u(!0),className:"p-2 bg-white/10 rounded-full hover:bg-white/20 backdrop-blur-sm transition-colors",children:o.jsx(cx,{className:"h-5 w-5 text-white"})})]}),o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/5 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-emerald-400/20 rounded-full blur-2xl -ml-10 -mb-5 pointer-events-none"})]}),l&&o.jsxs("div",{className:"md:hidden fixed inset-0 z-[100]",children:[o.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>u(!1)}),o.jsxs("aside",{className:"absolute right-0 top-0 h-full w-72 bg-white shadow-2xl flex flex-col animate-in slide-in-from-right duration-300",children:[o.jsxs("div",{className:"h-20 flex items-center justify-between px-6 border-b border-gray-100",children:[o.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-emerald-500 to-sky-500 bg-clip-text text-transparent",children:"FlowDrain"}),o.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx("svg",{className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[p.map(E=>o.jsxs(un,{to:E.path,onClick:()=>u(!1),className:Ee("flex items-center gap-4 px-5 py-4 rounded-2xl text-base font-medium transition-all",r.pathname===E.path?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"),children:[o.jsx(E.icon,{className:"h-5 w-5"}),E.label]},E.path)),!f&&o.jsxs(o.Fragment,{children:[o.jsxs(un,{to:"/clients",onClick:()=>u(!1),className:Ee("flex items-center gap-4 px-5 py-4 rounded-2xl text-base font-medium transition-all",r.pathname==="/clients"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"),children:[o.jsx(Jo,{className:"h-5 w-5"}),"Clientes"]}),o.jsxs(un,{to:"/settings",onClick:()=>u(!1),className:Ee("flex items-center gap-4 px-5 py-4 rounded-2xl text-base font-medium transition-all",r.pathname==="/settings"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-100"),children:[o.jsx(ff,{className:"h-5 w-5"}),"Configuraes"]})]})]}),o.jsx("div",{className:"p-4 border-t border-gray-100",children:o.jsxs("button",{onClick:()=>{u(!1),d()},className:"flex w-full items-center gap-4 px-5 py-4 text-base font-medium text-red-500 hover:bg-red-50 rounded-2xl transition-colors",children:[o.jsx(uf,{className:"h-5 w-5"}),"Sair do Sistema"]})})]})]}),o.jsxs("main",{className:"flex-1 overflow-y-auto overflow-x-hidden bg-transparent z-10 -mt-8 md:mt-0 md:p-8 px-4 pb-28 pt-4 md:bg-[#f3f4f6]",children:[o.jsxs("header",{className:"hidden md:flex h-20 items-center justify-between mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:g()}),o.jsx("p",{className:"text-slate-500 mt-1",children:"Gerencie sua empresa com eficincia."})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col items-end",children:[o.jsx("span",{className:"font-bold text-slate-700",children:a==null?void 0:a.nome}),o.jsx("span",{className:"text-xs text-slate-400",children:a==null?void 0:a.email})]}),o.jsx("div",{className:"w-12 h-12 bg-slate-200 rounded-full overflow-hidden border-2 border-white shadow-sm",children:o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-emerald-500 text-white font-bold text-xl",children:(C=a==null?void 0:a.nome)==null?void 0:C[0]})})]})]}),o.jsx("div",{className:"md:max-w-7xl md:mx-auto",children:o.jsx(gv,{context:{setFabAction:_}})})]}),o.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 h-20 bg-white border-t border-gray-100 rounded-t-[30px] shadow-[0_-5px_20px_-5px_rgba(0,0,0,0.1)] flex items-center justify-around px-4 z-50",children:[p.slice(0,2).map(E=>o.jsx(un,{to:E.path,className:Ee("flex flex-col items-center gap-1 transition-colors p-2",r.pathname===E.path?"text-emerald-600":"text-gray-400"),children:o.jsx(E.icon,{className:"h-6 w-6",strokeWidth:r.pathname===E.path?2.5:2})},E.path)),o.jsx("div",{className:"relative -top-8",children:o.jsx("button",{onClick:k,className:Ee("w-16 h-16 bg-gradient-to-tr from-emerald-500 to-sky-500 rounded-full flex items-center justify-center text-white shadow-lg shadow-emerald-500/40 hover:scale-110 active:scale-95 transition-all duration-300 border-4 border-[#f3f4f6]",!v&&"opacity-0 scale-50 pointer-events-none"),children:o.jsx(Ur,{className:"h-8 w-8",strokeWidth:3})})}),p.slice(2,4).map(E=>o.jsx(un,{to:E.path,className:Ee("flex flex-col items-center gap-1 transition-colors p-2",r.pathname===E.path?"text-emerald-600":"text-gray-400"),children:o.jsx(E.icon,{className:"h-6 w-6",strokeWidth:r.pathname===E.path?2.5:2})},E.path))]})]})]})}function Rb(){const r=Ot(),{setFabAction:t}=gn()??{setFabAction:()=>{}};return w.useEffect(()=>(t(()=>r("/service-orders/new")),()=>t(null)),[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-slate-200/50 p-6 flex flex-col justify-between h-40 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-emerald-50 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150 duration-500"}),o.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[o.jsx("div",{className:"p-3 bg-emerald-100/50 rounded-2xl text-emerald-600",children:o.jsx(Zo,{className:"h-6 w-6"})}),o.jsxs("span",{className:"flex items-center text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full",children:[o.jsx(lf,{className:"h-3 w-3 mr-1"}),"+20.1%"]})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Receita Total"}),o.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"R$ 45.231,89"})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-slate-200/50 p-6 flex flex-col justify-between h-40 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-sky-50 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150 duration-500"}),o.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[o.jsx("div",{className:"p-3 bg-sky-100/50 rounded-2xl text-sky-600",children:o.jsx(Ss,{className:"h-6 w-6"})}),o.jsxs("span",{className:"flex items-center text-xs font-bold text-sky-600 bg-sky-50 px-2 py-1 rounded-full",children:[o.jsx(lf,{className:"h-3 w-3 mr-1"}),"+12%"]})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Servios Ativos"}),o.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"12 O.S."})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-lg shadow-slate-200/50 p-6 flex flex-col justify-between h-40 relative overflow-hidden group",children:[o.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-indigo-50 rounded-full -mr-8 -mt-8 transition-transform group-hover:scale-150 duration-500"}),o.jsxs("div",{className:"relative z-10 flex justify-between items-start",children:[o.jsx("div",{className:"p-3 bg-indigo-100/50 rounded-2xl text-indigo-600",children:o.jsx(Jo,{className:"h-6 w-6"})}),o.jsxs("span",{className:"flex items-center text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-full",children:[o.jsx(Jc,{className:"h-3 w-3 mr-1"}),"+5"]})]}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Novos Clientes"}),o.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"48"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl shadow-xl shadow-slate-200/40 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Atividades Recentes"}),o.jsx("button",{className:"text-sm font-medium text-emerald-600 hover:text-emerald-700",children:"Ver tudo"})]}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(s=>o.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-50 rounded-2xl transition-colors cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-sky-100 text-sky-600 flex items-center justify-center group-hover:scale-110 transition-transform",children:o.jsx(Ss,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-slate-800",children:"Limpeza de Fossa"}),o.jsx("p",{className:"text-xs text-slate-400",children:"Cliente: Restaurante Sabor & Arte"})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-bold text-slate-800",children:"R$ 1.250,00"}),o.jsx("p",{className:"text-xs text-emerald-500 font-medium",children:"Concludo"})]})]},s))})]})]})}function Ff(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function Pb(...r){return t=>{let s=!1;const a=r.map(l=>{const u=Ff(l,t);return!s&&typeof u=="function"&&(s=!0),u});if(s)return()=>{for(let l=0;l<a.length;l++){const u=a[l];typeof u=="function"?u():Ff(r[l],null)}}}}var Ob=Symbol.for("react.lazy"),ni=f0[" use ".trim().toString()];function Ab(r){return typeof r=="object"&&r!==null&&"then"in r}function Xm(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===Ob&&"_payload"in r&&Ab(r._payload)}function Ib(r){const t=Db(r),s=w.forwardRef((a,l)=>{let{children:u,...d}=a;Xm(u)&&typeof ni=="function"&&(u=ni(u._payload));const f=w.Children.toArray(u),p=f.find(Mb);if(p){const g=p.props.children,v=f.map(y=>y===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:y);return o.jsx(t,{...d,ref:l,children:w.isValidElement(g)?w.cloneElement(g,void 0,v):null})}return o.jsx(t,{...d,ref:l,children:u})});return s.displayName=`${r}.Slot`,s}var Lb=Ib("Slot");function Db(r){const t=w.forwardRef((s,a)=>{let{children:l,...u}=s;if(Xm(l)&&typeof ni=="function"&&(l=ni(l._payload)),w.isValidElement(l)){const d=Fb(l),f=Ub(u,l.props);return l.type!==w.Fragment&&(f.ref=a?Pb(a,d):d),w.cloneElement(l,f)}return w.Children.count(l)>1?w.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var $b=Symbol("radix.slottable");function Mb(r){return w.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===$b}function Ub(r,t){const s={...t};for(const a in t){const l=r[a],u=t[a];/^on[A-Z]/.test(a)?l&&u?s[a]=(...f)=>{const p=u(...f);return l(...f),p}:l&&(s[a]=l):a==="style"?s[a]={...l,...u}:a==="className"&&(s[a]=[l,u].filter(Boolean).join(" "))}return{...r,...s}}function Fb(r){var a,l;let t=(a=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:a.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?r.ref:(t=(l=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:l.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?r.props.ref:r.props.ref||r.ref)}const zf=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Bf=Cm,zb=(r,t)=>s=>{var a;if((t==null?void 0:t.variants)==null)return Bf(r,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:l,defaultVariants:u}=t,d=Object.keys(l).map(g=>{const v=s==null?void 0:s[g],y=u==null?void 0:u[g];if(v===null)return null;const _=zf(v)||zf(y);return l[g][_]}),f=s&&Object.entries(s).reduce((g,v)=>{let[y,_]=v;return _===void 0||(g[y]=_),g},{}),p=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((g,v)=>{let{class:y,className:_,...k}=v;return Object.entries(k).every(b=>{let[N,j]=b;return Array.isArray(j)?j.includes({...u,...f}[N]):{...u,...f}[N]===j})?[...g,y,_]:g},[]);return Bf(r,d,p,s==null?void 0:s.class,s==null?void 0:s.className)},Bb=zb("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-md px-8",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),he=w.forwardRef(({className:r,variant:t,size:s,asChild:a=!1,...l},u)=>{const d=a?Lb:"button";return o.jsx(d,{className:Ee(Bb({variant:t,size:s,className:r})),ref:u,...l})});he.displayName="Button";const le=w.forwardRef(({className:r,type:t,icon:s,...a},l)=>o.jsxs("div",{className:"relative w-full",children:[s&&o.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:s}),o.jsx("input",{type:t,className:Ee("flex h-11 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s&&"pl-10",r),ref:l,...a})]}));le.displayName="Input";const Wb="/assets/logo-flowdrain-Bc0nkBx3.jpg";function qb(){const[r,t]=w.useState("admin"),[s,a]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(!1),[p,g]=w.useState(!1),[v,y]=w.useState(""),[_,k]=w.useState(null),{signIn:b}=At(),N=Ot();w.useEffect(()=>{r==="tecnico"&&s.includes("@")},[r,s]);const j=async C=>{var E;if(C.preventDefault(),y(""),!s||!l){y("Preencha todos os campos");return}if(!s.includes("@")){y("E-mail invlido");return}g(!0);try{const P=await b(s,l);if(P.success){const{data:{user:M}}=await Y.auth.getUser();if(!M){y("Erro: Usurio autenticado no encontrado."),g(!1);return}const{data:A,error:U}=await Y.from("usuarios").select("cargo, empresa_id, empresas(nome)").eq("id",M.id).single();if(U||!A){console.error("Erro ao buscar perfil:",U),y("Perfil de usurio no encontrado. Contate o suporte."),await Y.auth.signOut(),g(!1);return}console.log("Login Info:",{authId:M.id,profileId:A==null?void 0:A.id,role:A.cargo,empresaId:A.empresa_id});const K=(E=A.cargo)==null?void 0:E.toLowerCase();if(r==="tecnico"&&K!=="tecnico"){y('Esta conta no  de tcnico. Use a aba "Sou Dono / Admin".'),await Y.auth.signOut(),g(!1);return}if(r==="admin"&&K==="tecnico"){y('Tcnicos devem usar a aba "Sou Tcnico".'),await Y.auth.signOut(),g(!1);return}N(K==="tecnico"?"/tecnico/dashboard":"/")}else console.error("Login Error:",P.error),y(P.error||"Erro ao fazer login (Detalhes no Console)")}catch(P){console.error("Erro geral no login:",P),y(`Erro de conexo: ${P.message||"Desconhecido"}`)}finally{g(!1)}};return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-slate-900 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-card/95 backdrop-blur-sm border border-border/50 rounded-2xl shadow-2xl overflow-hidden",children:[o.jsxs("div",{className:"pt-8 pb-6 flex flex-col items-center justify-center bg-gradient-to-b from-primary/10 to-transparent",children:[o.jsx("div",{className:"mb-4",children:o.jsx("img",{src:Wb,alt:"FlowDrain Logo",className:"h-40 w-auto object-contain drop-shadow-xl rounded-lg"})}),o.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Gerencie sua desentupidora com facilidade"})]}),o.jsxs("div",{className:"p-8 pt-2",children:[o.jsxs("div",{className:"bg-muted/50 p-1 rounded-lg grid grid-cols-2 gap-1 mb-8",children:[o.jsxs("button",{type:"button",onClick:()=>{t("admin"),y("")},className:Ee("flex items-center justify-center gap-2 py-2.5 text-sm font-medium rounded-md transition-all duration-200",r==="admin"?"bg-background text-foreground shadow-sm ring-1 ring-border":"text-muted-foreground hover:bg-background/50 hover:text-foreground"),children:[o.jsx(Qo,{className:"w-4 h-4"}),"Sou Dono / Admin"]}),o.jsxs("button",{type:"button",onClick:()=>{t("tecnico"),y("")},className:Ee("flex items-center justify-center gap-2 py-2.5 text-sm font-medium rounded-md transition-all duration-200",r==="tecnico"?"bg-background text-foreground shadow-sm ring-1 ring-border":"text-muted-foreground hover:bg-background/50 hover:text-foreground"),children:[o.jsx(km,{className:"w-4 h-4"}),"Sou Tcnico"]})]}),v&&o.jsx("div",{className:"mb-6 p-3 bg-destructive/10 border border-destructive/20 rounded-md flex items-center justify-center text-center animate-in fade-in slide-in-from-top-2",children:o.jsx("p",{className:"text-sm text-destructive font-medium",children:v})}),o.jsxs("form",{onSubmit:j,className:"space-y-5",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"E-MAIL"}),o.jsxs("div",{className:"relative group",children:[o.jsx(zn,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),o.jsx(le,{id:"email",type:"email",placeholder:r==="admin"?"admin@empresa.com":"tecnico@empresa.com",value:s,onChange:C=>a(C.target.value),disabled:p,autoComplete:"email",className:"pl-10 h-12 bg-background/50 border-input group-hover:border-primary/50 transition-colors"})]})]}),o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("label",{htmlFor:"password",className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground ml-1",children:"SENHA"}),o.jsxs("div",{className:"relative group",children:[o.jsx(kc,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground group-focus-within:text-primary transition-colors"}),o.jsx(le,{id:"password",type:"password",placeholder:"",value:l,onChange:C=>u(C.target.value),disabled:p,autoComplete:"current-password",className:"pl-10 h-12 bg-background/50 border-input group-hover:border-primary/50 transition-colors"})]})]}),o.jsx(he,{type:"submit",size:"lg",className:"w-full h-12 text-base font-semibold mt-2 shadow-lg shadow-primary/20 hover:shadow-primary/40 transition-all duration-300",disabled:p,children:p?o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"mr-2 h-5 w-5 animate-spin"}),"Entrando..."]}):o.jsx(o.Fragment,{children:"Entrar na Conta"})}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-muted"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Ou"})})]}),o.jsxs(he,{variant:"outline",type:"button",className:"w-full h-12 font-medium",disabled:p,children:[o.jsx("svg",{className:"mr-2 h-5 w-5","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:o.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"})}),"Entrar com Google"]}),o.jsxs("div",{className:"text-center pt-2",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Ainda no tem conta? "}),o.jsx("a",{href:"/signup",className:"text-sm text-primary hover:underline font-bold transition-colors",children:"Criar nova conta"})]})]})]})]})})})}const Vb={theme:"system",setTheme:()=>null},Zm=w.createContext(Vb);function Hb({children:r,defaultTheme:t="system",storageKey:s="vite-ui-theme"}){const[a,l]=w.useState(()=>localStorage.getItem(s)||t);w.useEffect(()=>{const d=window.document.documentElement;if(d.classList.remove("light","dark"),a==="system"){const f=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";d.classList.add(f);return}d.classList.add(a)},[a]);const u={theme:a,setTheme:d=>{localStorage.setItem(s,d),l(d)}};return o.jsx(Zm.Provider,{value:u,...Gb,children:r})}const Kb=()=>{const r=w.useContext(Zm);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},Gb={};function Jb(){const{setTheme:r,theme:t}=Kb();return o.jsxs(he,{variant:"outline",size:"icon",onClick:()=>r(t==="light"?"dark":"light"),title:"Alternar Tema",children:[o.jsx(mx,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),o.jsx(ux,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),o.jsx("span",{className:"sr-only",children:"Alternar tema"})]})}function Yb(){const[r,t]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(""),[d,f]=w.useState(""),[p,g]=w.useState(""),[v,y]=w.useState(!1),[_,k]=w.useState(""),[b,N]=w.useState(!1),j=Ot(),C=async E=>{if(E.preventDefault(),k(""),!r||!s||!l||!d||!p){k("Preencha todos os campos");return}if(!s.includes("@")){k("E-mail invlido");return}if(l.length<6){k("A senha deve ter pelo menos 6 caracteres");return}if(l!==d){k("As senhas no coincidem");return}y(!0);try{const{data:P,error:M}=await Y.auth.signUp({email:s,password:l,options:{data:{full_name:r,nome_empresa:p}}});if(M)throw M;if(!P.user)throw new Error("Erro ao criar usurio");N(!0),setTimeout(()=>{j("/")},2e3)}catch(P){console.error("Sign up error:",P),k(P.message||"Erro ao criar conta. Tente novamente")}finally{y(!1)}};return b?o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-700 to-teal-500 p-4",children:o.jsx("div",{className:"w-full max-w-md",children:o.jsxs("div",{className:"bg-card/95 backdrop-blur-sm border border-border rounded-2xl shadow-2xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Conta Criada!"}),o.jsx("p",{className:"text-muted-foreground mb-4",children:"Sua conta foi criada com sucesso. Entrando no sistema..."})]})})}):o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-900 via-blue-700 to-teal-500 p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"bg-card/95 backdrop-blur-sm border border-border rounded-2xl shadow-2xl p-8",children:[o.jsx("div",{className:"flex justify-center mb-6",children:o.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-cyan-400 to-blue-600 flex items-center justify-center shadow-lg",children:o.jsx("div",{className:"text-white text-3xl font-bold",children:"FD"})})}),o.jsx("h1",{className:"text-2xl font-bold text-center mb-2 text-foreground",children:"Criar Conta"}),o.jsx("p",{className:"text-center text-muted-foreground mb-6",children:"Cadastre sua empresa no FlowDrain"}),_&&o.jsx("div",{className:"mb-6 p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:o.jsx("p",{className:"text-sm text-destructive text-center",children:_})}),o.jsxs("form",{onSubmit:C,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"empresa",className:"text-sm font-medium text-foreground",children:"Nome da Empresa"}),o.jsx(le,{id:"empresa",type:"text",placeholder:"Sua Empresa Ltda",value:p,onChange:E=>g(E.target.value),icon:o.jsx(Qo,{className:"h-5 w-5"}),disabled:v,className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"nome",className:"text-sm font-medium text-foreground",children:"Seu Nome"}),o.jsx(le,{id:"nome",type:"text",placeholder:"Joo Silva",value:r,onChange:E=>t(E.target.value),icon:o.jsx(zn,{className:"h-5 w-5"}),disabled:v,className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-foreground",children:"E-mail"}),o.jsx(le,{id:"email",type:"email",placeholder:"seu@email.com",value:s,onChange:E=>a(E.target.value),icon:o.jsx(jm,{className:"h-5 w-5"}),disabled:v,autoComplete:"email",className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-foreground",children:"Senha"}),o.jsx(le,{id:"password",type:"password",placeholder:"Mnimo 6 caracteres",value:l,onChange:E=>u(E.target.value),icon:o.jsx(kc,{className:"h-5 w-5"}),disabled:v,autoComplete:"new-password",className:"h-12"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium text-foreground",children:"Confirmar Senha"}),o.jsx(le,{id:"confirmPassword",type:"password",placeholder:"Digite a senha novamente",value:d,onChange:E=>f(E.target.value),icon:o.jsx(kc,{className:"h-5 w-5"}),disabled:v,autoComplete:"new-password",className:"h-12"})]}),o.jsx(he,{type:"submit",size:"lg",className:"w-full h-14 text-base font-semibold mt-6",disabled:v,children:v?o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"mr-2 h-5 w-5 animate-spin"}),"Criando conta..."]}):"CRIAR CONTA"}),o.jsxs("div",{className:"text-center mt-4",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"J tem uma conta? "}),o.jsx("a",{href:"/login",className:"text-sm text-primary hover:underline font-medium",children:"Entrar"})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t border-border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-muted-foreground",children:"Tema"}),o.jsx(Jb,{})]})})]}),o.jsx("p",{className:"text-center text-white/70 text-sm mt-6",children:"FlowDrain SaaS  2024"})]})})}const di=w.createContext({open:!1,onOpenChange:()=>{}}),ep=({children:r,open:t,onOpenChange:s})=>{const[a,l]=w.useState(!1),u=t!==void 0,d=u?t:a,f=u?s:l;return o.jsx(di.Provider,{value:{open:!!d,onOpenChange:f||(()=>{})},children:r})},tp=({asChild:r,children:t})=>{const{onOpenChange:s}=w.useContext(di);return w.cloneElement(t,{onClick:a=>{var l,u;(u=(l=t.props).onClick)==null||u.call(l,a),s(!0)}})},Qb=({children:r})=>o.jsx(o.Fragment,{children:r}),rp=w.forwardRef(({className:r,...t},s)=>{const{open:a,onOpenChange:l}=w.useContext(di);return a?o.jsx("div",{ref:s,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),onClick:()=>l(!1),...t}):null});rp.displayName="DialogOverlay";const nu=w.forwardRef(({className:r,children:t,...s},a)=>{const{open:l,onOpenChange:u}=w.useContext(di);return l?o.jsxs(Qb,{children:[o.jsx(rp,{}),o.jsxs("div",{ref:a,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s,children:[t,o.jsxs("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",onClick:()=>u(!1),children:[o.jsx(Sm,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}):null});nu.displayName="DialogContent";const su=({className:r,...t})=>o.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",r),...t});su.displayName="DialogHeader";const au=w.forwardRef(({className:r,...t},s)=>o.jsx("h2",{ref:s,className:Ee("text-lg font-semibold leading-none tracking-tight",r),...t}));au.displayName="DialogTitle";const ou=w.forwardRef(({className:r,...t},s)=>o.jsx("p",{ref:s,className:Ee("text-sm text-muted-foreground",r),...t}));ou.displayName="DialogDescription";const Xb=w.forwardRef(({className:r,...t},s)=>o.jsx("button",{ref:s,className:r,...t}));Xb.displayName="DialogClose";const xe=w.forwardRef(({className:r,...t},s)=>o.jsx("label",{ref:s,className:Ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...t}));xe.displayName="Label";function np({onSignatureChange:r,initialImage:t}){const s=w.useRef(null),[a,l]=w.useState(!1),[u,d]=w.useState(!1);w.useEffect(()=>{const k=s.current;if(!k)return;const b=()=>{const N=k.parentElement;N&&(k.width=N.clientWidth,k.height=200)};if(b(),window.addEventListener("resize",b),t){const N=k.getContext("2d"),j=new Image;j.crossOrigin="Anonymous",j.src=t,j.onload=()=>{N&&N.drawImage(j,0,0,k.width,k.height),d(!0)}}return()=>window.removeEventListener("resize",b)},[t]);const f=k=>{l(!0),d(!0);const b=s.current;if(!b)return;const N=b.getContext("2d");if(!N)return;const{x:j,y:C}=v(k,b);N.beginPath(),N.moveTo(j,C),N.lineWidth=2,N.lineCap="round",N.strokeStyle="#000"},p=k=>{if(!a)return;const b=s.current;if(!b)return;const N=b.getContext("2d");if(!N)return;const{x:j,y:C}=v(k,b);N.lineTo(j,C),N.stroke()},g=()=>{l(!1),_()},v=(k,b)=>{const N=b.getBoundingClientRect();let j,C;return"touches"in k?(j=k.touches[0].clientX,C=k.touches[0].clientY):(j=k.clientX,C=k.clientY),{x:j-N.left,y:C-N.top}},y=()=>{const k=s.current;if(!k)return;const b=k.getContext("2d");b&&(b.clearRect(0,0,k.width,k.height),d(!1),r(null))},_=()=>{const k=s.current;k&&k.toBlob(b=>{r(b)})};return o.jsxs("div",{className:"w-full space-y-2",children:[o.jsxs("div",{className:"border-2 border-dashed border-input rounded-md bg-white touch-none relative overflow-hidden",children:[o.jsx("canvas",{ref:s,onMouseDown:f,onMouseMove:p,onMouseUp:g,onMouseLeave:g,onTouchStart:f,onTouchMove:p,onTouchEnd:g,className:"w-full h-[200px] touch-none cursor-crosshair"}),!u&&o.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none text-muted-foreground/50",children:"Assine aqui"})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(he,{type:"button",variant:"outline",size:"sm",onClick:y,children:[o.jsx(lx,{className:"w-4 h-4 mr-2"}),"Limpar Assinatura"]})})]})}function Zb(){var J;const{userData:r}=At(),[t,s]=w.useState([]),[a,l]=w.useState(!0),u=Ot();w.useEffect(()=>{var $;!a&&r&&(($=r.cargo)==null?void 0:$.toLowerCase())!=="admin"&&u("/dashboard")},[r,a,u]);const[d,f]=w.useState(""),[p,g]=w.useState(!1),[v,y]=w.useState(!1),[_,k]=w.useState(null),b={name:"",email:"",password:"",phone:"",commission_rate:"0",base_salary:"0",pix_key:"",placa_carro:""},[N,j]=w.useState(b),[C,E]=w.useState(null),[P,M]=w.useState(null),[A,U]=w.useState(null),[K,ce]=w.useState(null);w.useEffect(()=>{r!=null&&r.empresa_id&&oe()},[r==null?void 0:r.empresa_id]);const fe=w.useCallback(()=>{k(null),ee(),g(!0)},[]),{setFabAction:Ce}=gn()??{setFabAction:()=>{}};w.useEffect(()=>(Ce(fe),()=>Ce(null)),[fe,Ce]),w.useEffect(()=>{p&&!_&&ee()},[p,_]);const ee=()=>{j(b),E(null),M(null),U(null),ce(null)},oe=async()=>{if(r!=null&&r.empresa_id)try{const{data:$,error:V}=await Y.from("usuarios").select("*").eq("empresa_id",r.empresa_id);if(V)throw V;s($||[])}catch($){console.error("Erro ao buscar tcnicos:",$)}finally{l(!1)}},Ue=$=>{var V,T;k($.id),j({name:$.nome_completo||"",email:$.email||"",password:"",phone:$.telefone||"",commission_rate:((V=$.percentual_comissao)==null?void 0:V.toString())||"0",base_salary:((T=$.salario_base)==null?void 0:T.toString())||"0",pix_key:$.pix_key||"",placa_carro:$.placa_carro||""}),M($.avatar||null),ce($.signature_url||null),g(!0)},We=async($,V)=>{if(confirm(`Tem certeza que deseja excluir o tcnico ${V}?`))try{const{data:T,error:F}=await Y.rpc("delete_technician",{target_user_id:$});if(F)throw F;if(T&&!T.success)throw new Error(T.error);alert("Tcnico excludo com sucesso."),oe()}catch(T){alert("Erro ao excluir: "+T.message)}},qe=async($,V)=>{const T=($ instanceof File?$.name.split(".").pop():"png")||"png",X=`${`${V}_${Date.now()}.${T}`}`,{error:se}=await Y.storage.from("avatars").upload(X,$);if(se&&(console.error(se),se))throw console.error("Erro detalhado do upload:",se),alert(`Erro no upload: ${se.message}`),se;const{data:de}=Y.storage.from("avatars").getPublicUrl(X);return de.publicUrl},Ae=async $=>{$.preventDefault(),y(!0);try{const V=parseFloat(N.commission_rate)||0,T=parseFloat(N.base_salary)||0;let F=P,X=K;if(C){const se=await Qc(C);F=await qe(se,"tech-avatar")}if(A&&(X=await qe(A,"tech-sig")),_){const{error:se}=await Y.from("usuarios").update({nome_completo:N.name,telefone:N.phone,percentual_comissao:V,salario_base:T,pix_key:N.pix_key,avatar:F,signature_url:X,placa_carro:N.placa_carro}).eq("id",_);if(se)throw se;if(N.password){const{error:de}=await Y.auth.admin.updateUserById(_,{password:N.password});de&&console.warn("Erro ao atualizar senha:",de)}alert("Tcnico atualizado!")}else{const{data:se,error:de}=await Y.auth.signUp({email:N.email,password:N.password,options:{data:{full_name:N.name}}});if(de)throw de;if(!se.user)throw new Error("Erro ao criar usurio");const{error:je}=await Y.from("usuarios").upsert({id:se.user.id,empresa_id:r.empresa_id,cargo:"tecnico",nome_completo:N.name,email:N.email,telefone:N.phone,percentual_comissao:V,salario_base:T,pix_key:N.pix_key,avatar:F,signature_url:X,placa_carro:N.placa_carro,status:!0},{onConflict:"id"});if(je)throw je;alert("Tcnico criado com sucesso!")}g(!1),oe()}catch(V){alert("Erro: "+V.message)}finally{y(!1)}},Te=t.filter($=>{var V,T;return((V=$.nome_completo)==null?void 0:V.toLowerCase().includes(d.toLowerCase()))||((T=$.telefone)==null?void 0:T.toLowerCase().includes(d.toLowerCase()))});return o.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(ep,{open:p,onOpenChange:g,children:[((J=r==null?void 0:r.cargo)==null?void 0:J.toLowerCase())==="admin"&&o.jsx(tp,{asChild:!0,children:o.jsxs(he,{className:"hidden md:flex h-14 text-base md:w-auto w-full shadow-lg",onClick:fe,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Novo Tcnico"]})}),o.jsxs(nu,{className:"w-[95%] max-w-[600px] h-[90vh] overflow-y-auto rounded-xl",children:[o.jsxs(su,{children:[o.jsx(au,{children:_?"Editar Tcnico":"Novo Tcnico"}),o.jsx(ou,{children:"Preencha os dados e assine na tela."})]}),o.jsxs("form",{onSubmit:Ae,className:"space-y-6 py-4",autoComplete:"off",children:[o.jsx("input",{autoComplete:"false",name:"hidden",type:"text",style:{display:"none"}}),o.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"h-24 w-24 rounded-full bg-muted flex items-center justify-center overflow-hidden border-2 border-border",children:P?o.jsx("img",{src:P,alt:"Avatar",className:"h-full w-full object-cover"}):o.jsx(zn,{className:"h-10 w-10 text-muted-foreground opacity-50"})}),o.jsxs(xe,{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-primary text-primary-foreground p-2 rounded-full cursor-pointer shadow-md hover:bg-primary/90",children:[o.jsx(Xo,{className:"h-4 w-4"}),o.jsx(le,{id:"avatar-upload",type:"file",accept:"image/*",className:"hidden",onChange:$=>{var T;const V=(T=$.target.files)==null?void 0:T[0];V&&(E(V),M(URL.createObjectURL(V)))}})]})]}),o.jsx("p",{className:"text-sm text-muted-foreground",children:"Foto de Perfil"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"name",children:"Nome Completo"}),o.jsx(le,{id:"name",required:!0,className:"h-12 text-lg",placeholder:"Ex: Joo da Silva",value:N.name,onChange:$=>j({...N,name:$.target.value}),autoComplete:"off"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"phone",children:"Celular (WhatsApp)"}),o.jsx(le,{id:"phone",className:"h-12 text-lg",placeholder:"(11) 99999-9999",value:N.phone,onChange:$=>j({...N,phone:$.target.value}),autoComplete:"off"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"placa",children:"Placa do Carro (Opcional)"}),o.jsx(le,{id:"placa",className:"h-12 text-lg",value:N.placa_carro,onChange:$=>j({...N,placa_carro:$.target.value}),placeholder:"ABC-1234"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"E-mail de Acesso"}),o.jsx(le,{id:"email",type:"email",required:!_,disabled:!!_,className:"h-12",placeholder:"joao@empresa.com",value:N.email,onChange:$=>j({...N,email:$.target.value}),autoComplete:"new-password"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"password",children:_?"Nova Senha (Opcional)":"Senha Inicial"}),o.jsx(le,{id:"password",type:"password",required:!_,className:"h-12",placeholder:_?"Em branco para manter":"Min. 6 caracteres",value:N.password,onChange:$=>j({...N,password:$.target.value}),autoComplete:"new-password"})]})]}),o.jsxs("div",{className:"border-t pt-4 mt-4",children:[o.jsx("h3",{className:"text-sm font-medium mb-3 text-muted-foreground",children:"Dados Financeiros"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"salary",children:"Salrio Base (R$)"}),o.jsx(le,{id:"salary",type:"number",step:"0.01",className:"h-12",value:N.base_salary,onChange:$=>j({...N,base_salary:$.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"commission",children:"Comisso (%)"}),o.jsx(le,{id:"commission",type:"number",step:"0.1",className:"h-12",value:N.commission_rate,onChange:$=>j({...N,commission_rate:$.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"pix",children:"Chave PIX"}),o.jsx(le,{id:"pix",className:"h-12",value:N.pix_key,onChange:$=>j({...N,pix_key:$.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-2 pt-2",children:[o.jsx(xe,{className:"text-base font-semibold",children:"Assinatura Digital (Desenhe na tela)"}),o.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Use o dedo ou mouse para assinar abaixo."}),o.jsx(np,{onSignatureChange:U,initialImage:K})]}),o.jsx(he,{type:"submit",className:"w-full h-14 text-lg font-semibold mt-4 shadow-md",disabled:v,children:v?"Salvando...":_?"Atualizar Tcnico":"Cadastrar Tcnico"})]})]})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(ba,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),o.jsx(le,{placeholder:"Buscar por nome ou telefone...",className:"pl-10 h-14 text-lg shadow-sm",value:d,onChange:$=>f($.target.value)})]}),a?o.jsx("div",{className:"text-center py-10",children:"Carregando equipe..."}):Te.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum tcnico encontrado. Cadastre o primeiro!"}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Te.map($=>{var V;return o.jsxs("div",{className:"group relative flex flex-col justify-between rounded-[24px] bg-white/80 backdrop-blur-md border border-white/20 p-6 shadow-sm hover:shadow-xl transition-all duration-300",children:[o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-50 flex-shrink-0 border border-gray-100 flex items-center justify-center overflow-hidden",children:$.avatar?o.jsx("img",{src:$.avatar,alt:$.nome_completo,className:"h-full w-full object-cover"}):o.jsx(zn,{className:"h-8 w-8 text-gray-400"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg truncate text-gray-900",children:$.nome_completo||"Sem Nome"}),o.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 truncate",children:[o.jsx(jm,{className:"h-3 w-3"})," ",$.email]}),$.telefone&&o.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1 mt-1 truncate",children:[o.jsx(Nm,{className:"h-3 w-3"})," ",$.telefone]})]})]})}),$.signature_url&&o.jsxs("div",{className:"mt-4 p-2 bg-gray-50/50 rounded-lg border border-dashed border-gray-200 flex flex-col items-center",children:[o.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mb-1",children:"Assinatura Digital"}),o.jsx("img",{src:$.signature_url,className:"h-8 object-contain opacity-60",alt:"Assinatura"})]}),((V=r==null?void 0:r.cargo)==null?void 0:V.toLowerCase())==="admin"&&o.jsxs("div",{className:"mt-6 flex items-center gap-3 pt-4 border-t border-gray-100",children:[o.jsxs(he,{variant:"outline",className:"flex-1 h-10 text-sm font-medium rounded-xl border-gray-200 hover:bg-gray-50 hover:text-primary transition-colors",onClick:()=>Ue($),children:[o.jsx(Xo,{className:"mr-2 h-3 w-3"}),"Editar"]}),o.jsxs(he,{variant:"destructive",className:"flex-1 h-10 text-sm font-medium rounded-xl bg-red-50 text-red-600 hover:bg-red-100 hover:text-red-700 border border-red-100 shadow-none transition-colors",onClick:()=>We($.id,$.nome_completo),children:[o.jsx(Fn,{className:"mr-2 h-3 w-3"}),"Excluir"]})]})]},$.id)})})]})}async function Wf(r){const t=r.replace(/\D/g,"");if(t.length!==8)return null;try{const s=await fetch(`https://brasilapi.com.br/api/cep/v1/${t}`);return s.ok?await s.json():(console.warn("CEP no encontrado:",t),null)}catch(s){return console.error("Erro ao buscar CEP:",s),null}}const e_="e398041403a845a18f2948f7a9d347f4";async function t_(r){if(!r||r.length<3)return[];try{const t=await fetch(`https://api.geoapify.com/v1/geocode/autocomplete?text=${encodeURIComponent(r)}&filter=countrycode:br&lang=pt&limit=5&apiKey=${e_}`);if(!t.ok)return console.warn("Erro na busca de endereo:",t.status),[];const s=await t.json();return!s.features||s.features.length===0?[]:s.features.map(a=>({formatted:a.properties.formatted,street:a.properties.street,housenumber:a.properties.housenumber,postcode:a.properties.postcode,city:a.properties.city,state:a.properties.state,state_code:a.properties.state_code,neighbourhood:a.properties.suburb||a.properties.neighbourhood,lat:a.properties.lat,lon:a.properties.lon}))}catch(t){return console.error("Erro ao buscar endereo:",t),[]}}async function r_(r){const t=r.replace(/\D/g,"");if(t.length!==14)return null;try{const s=await fetch(`https://brasilapi.com.br/api/cnpj/v1/${t}`);return s.ok?await s.json():(console.warn("CNPJ no encontrado:",t),null)}catch(s){return console.error("Erro ao buscar CNPJ:",s),null}}function n_(r,t){return t?r?`${r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()} ${t}`:t:""}function s_(r){if(!r)return"";const t=r.replace(/\D/g,"");return t.length===10?`(${t.slice(0,2)}) ${t.slice(2,6)}-${t.slice(6)}`:t.length===11?`(${t.slice(0,2)}) ${t.slice(2,7)}-${t.slice(7)}`:r}function a_(){const{userData:r}=At(),[t,s]=w.useState([]),[a,l]=w.useState(!0),[u,d]=w.useState(""),[f,p]=w.useState(!1),[g,v]=w.useState(!1),[y,_]=w.useState(null),k={nome_razao:"",cpf_cnpj:"",whatsapp:"",email:"",cep:"",logradouro:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",referencia:""},[b,N]=w.useState(k),[j,C]=w.useState(!1),[E,P]=w.useState(""),[M,A]=w.useState([]),[U,K]=w.useState(!1),[ce,fe]=w.useState(!1);w.useRef(null);const Ce=w.useRef(null),[ee,oe]=w.useState(!1),[Ue,We]=w.useState(null),[qe,Ae]=w.useState(null),[Te,J]=w.useState(null),[$,V]=w.useState(null);w.useEffect(()=>{r!=null&&r.empresa_id&&je()},[r==null?void 0:r.empresa_id]);const T=w.useCallback(()=>{_(null),X(),p(!0)},[]),{setFabAction:F}=gn()??{setFabAction:()=>{}};w.useEffect(()=>(F(T),()=>F(null)),[T,F]),w.useEffect(()=>{f&&!y&&X()},[f,y]);const X=()=>{N(k),We(null),Ae(null),J(null),V(null),P(""),A([])},se=z=>{if(P(z),K(!0),Ce.current&&clearTimeout(Ce.current),z.length<3){A([]);return}Ce.current=setTimeout(async()=>{fe(!0);const ue=await t_(z);A(ue),fe(!1)},300)},de=async z=>{let ue=z.street||"",ke=z.neighbourhood||"",Fe=z.city||"",ot=z.state_code||"";if(!z.street&&z.postcode){const Le=await Wf(z.postcode);Le&&(ue=Le.street||"",ke=Le.neighborhood||ke,Fe=Le.city||Fe,ot=Le.state||ot)}if(!ue&&z.formatted){const Le=z.formatted.split(",");Le.length>0&&(ue=Le[0].trim())}N(Le=>{var ft;return{...Le,logradouro:ue,numero:z.housenumber||"",bairro:ke,cidade:Fe,uf:ot,cep:((ft=z.postcode)==null?void 0:ft.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2"))||""}}),P(""),K(!1),A([])},je=async()=>{try{const{data:z,error:ue}=await Y.from("clientes").select("*").eq("empresa_id",r.empresa_id).order("nome_razao");if(ue)throw ue;s(z)}catch(z){console.error("Erro ao buscar clientes:",z)}finally{l(!1)}},Ie=z=>{var ot,Le,ft,gr;_(z.id);const ue=(z.endereco||"").split(" - "),ke=((ot=ue[0])==null?void 0:ot.split(", "))||[],Fe=((Le=ue[1])==null?void 0:Le.split(", "))||[];N({nome_razao:z.nome_razao||"",cpf_cnpj:z.cpf_cnpj||"",whatsapp:z.whatsapp||"",email:z.email||"",cep:"",logradouro:ke[0]||"",numero:ke[1]||"",complemento:"",bairro:Fe[0]||"",cidade:((ft=Fe[1])==null?void 0:ft.split("/")[0])||"",uf:((gr=Fe[1])==null?void 0:gr.split("/")[1])||"",referencia:z.referencia||""}),Ae(z.avatar_url||null),V(z.signature_url||null),p(!0)},Re=async(z,ue)=>{if(confirm(`Tem certeza que deseja excluir o cliente ${ue}?`))try{const{error:ke}=await Y.from("clientes").delete().eq("id",z).eq("empresa_id",r.empresa_id);if(ke)throw ke;alert("Cliente excludo com sucesso."),je()}catch(ke){alert("Erro ao excluir: "+ke.message)}},De=async(z,ue)=>{const ke=z instanceof File?z.name.split(".").pop():"png",ot=`${`${ue}_${Date.now()}.${ke}`}`,{error:Le}=await Y.storage.from("avatars").upload(ot,z);if(Le)throw console.error("Erro detalhado do upload:",Le),alert(`Erro no upload: ${Le.message}`),Le;const{data:ft}=Y.storage.from("avatars").getPublicUrl(ot);return ft.publicUrl},wt=async z=>{if(z.preventDefault(),v(!0),!(r!=null&&r.empresa_id)){alert("Erro: Empresa no identificada. Faa login novamente.");return}try{let ue=qe,ke=$;if(Ue){const ft=await Qc(Ue);ue=await De(ft,"client-avatar")}Te&&(ke=await De(Te,"client-sig"));const Fe=[b.logradouro,b.numero,b.complemento?`(${b.complemento})`:"","-",b.bairro,b.cidade?`${b.cidade}/${b.uf}`:""].filter(Boolean).join(", ").replace(", -,"," -"),ot={nome_razao:b.nome_razao,cpf_cnpj:b.cpf_cnpj,whatsapp:b.whatsapp,email:b.email,endereco:Fe,referencia:b.referencia,avatar_url:ue,signature_url:ke,empresa_id:r.empresa_id};let Le;if(y){const{error:ft}=await Y.from("clientes").update(ot).eq("id",y).eq("empresa_id",r.empresa_id);Le=ft}else{const{error:ft}=await Y.from("clientes").insert([ot]);Le=ft}if(Le)throw Le;alert(y?"Cliente atualizado!":"Cliente cadastrado com sucesso!"),p(!1),je()}catch(ue){console.error(ue),alert("Erro: "+ue.message)}finally{v(!1)}},Sr=t.filter(z=>{var ue,ke,Fe,ot;return((ue=z.nome_razao)==null?void 0:ue.toLowerCase().includes(u.toLowerCase()))||((ke=z.whatsapp)==null?void 0:ke.toLowerCase().includes(u.toLowerCase()))||((Fe=z.endereco)==null?void 0:Fe.toLowerCase().includes(u.toLowerCase()))||((ot=z.telefone)==null?void 0:ot.toLowerCase().includes(u.toLowerCase()))});return o.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(ep,{open:f,onOpenChange:p,children:[o.jsx(tp,{asChild:!0,children:o.jsxs(he,{className:"hidden md:flex h-14 text-base md:w-auto w-full shadow-lg",onClick:T,children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Novo Cliente"]})}),o.jsxs(nu,{className:"w-[95%] max-w-[600px] h-[90vh] overflow-y-auto rounded-xl",children:[o.jsxs(su,{children:[o.jsx(au,{children:y?"Editar Cliente":"Novo Cliente"}),o.jsx(ou,{children:"Preencha os dados do cliente."})]}),o.jsxs("form",{onSubmit:wt,className:"space-y-6 py-4",autoComplete:"off",children:[o.jsxs("div",{className:"border-2 border-dashed border-border rounded-lg p-6 flex flex-col items-center justify-center bg-muted/20 relative min-h-[160px]",children:[qe?o.jsxs(o.Fragment,{children:[o.jsx("img",{src:qe,alt:"Fachada",className:"absolute inset-0 w-full h-full object-cover rounded-lg opacity-50"}),o.jsx("div",{className:"z-10 bg-background/80 p-2 rounded-full shadow-sm",children:o.jsx(Xo,{className:"h-6 w-6 text-foreground"})})]}):o.jsxs("div",{className:"flex flex-col items-center text-muted-foreground",children:[o.jsxs("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-2",children:[o.jsx("div",{className:"h-6 w-6 border-2 border-current rounded-sm"})," "]}),o.jsx("span",{className:"font-semibold text-sm",children:"ADICIONAR FOTO DA FACHADA / AVATAR"}),o.jsx("span",{className:"text-xs",children:"Toque para selecionar"})]}),o.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-50",onChange:z=>{var ke;const ue=(ke=z.target.files)==null?void 0:ke[0];ue&&(We(ue),Ae(URL.createObjectURL(ue)))}})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Informaes Bsicas"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"name",children:"Nome Completo / Razo Social"}),o.jsx(le,{id:"name",required:!0,className:"h-12 text-lg",placeholder:"Ex: Joo da Silva",value:b.nome_razao,onChange:z=>N({...b,nome_razao:z.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"document",children:"CPF / CNPJ"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(le,{id:"document",className:"h-12 text-lg flex-1",placeholder:"000.000.000-00",value:b.cpf_cnpj,onChange:z=>N({...b,cpf_cnpj:z.target.value})}),o.jsxs(he,{type:"button",variant:"outline",className:"h-12 px-4 text-emerald-600 border-emerald-200 hover:bg-emerald-50 whitespace-nowrap",disabled:ee||b.cpf_cnpj.replace(/\D/g,"").length!==14,onClick:async()=>{oe(!0);const z=await r_(b.cpf_cnpj);oe(!1),z?(N(ue=>{var ke;return{...ue,nome_razao:z.razao_social||ue.nome_razao,logradouro:n_(z.descricao_tipo_de_logradouro,z.logradouro)||ue.logradouro,numero:z.numero||ue.numero,bairro:z.bairro||ue.bairro,cidade:z.municipio||ue.cidade,uf:z.uf||ue.uf,cep:((ke=z.cep)==null?void 0:ke.replace(/(\d{5})(\d)/,"$1-$2"))||ue.cep,whatsapp:s_(z.ddd_telefone_1)||ue.whatsapp}}),alert(`CNPJ encontrado! Dados de "${z.razao_social}" preenchidos.`)):alert("CNPJ no encontrado ou invlido.")},children:[ee?o.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"}):o.jsx(ba,{className:"h-4 w-4"}),o.jsx("span",{className:"ml-1 hidden sm:inline",children:"Buscar"})]})]}),o.jsx("p",{className:"text-xs text-slate-400",children:'Para CNPJ, clique em "Buscar" para preencher automaticamente'})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"phone",children:"WhatsApp"}),o.jsx(le,{id:"phone",className:"h-12 text-lg",placeholder:"(11) 99999-9999",value:b.whatsapp,onChange:z=>N({...b,whatsapp:z.target.value})})]})]})]}),o.jsxs("div",{className:"space-y-4 pt-2",children:[o.jsx("h3",{className:"text-xs font-bold uppercase tracking-wider text-muted-foreground",children:"Endereo de Atendimento"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"cep",children:"CEP"}),o.jsxs("div",{className:"relative",children:[o.jsx(le,{id:"cep",className:"h-12 text-lg",placeholder:"00000-000",maxLength:9,value:b.cep,onChange:async z=>{const ue=z.target.value.replace(/\D/g,"").replace(/(\d{5})(\d)/,"$1-$2").slice(0,9);if(N({...b,cep:ue}),ue.replace(/\D/g,"").length===8){C(!0);const ke=await Wf(ue);C(!1),ke&&N(Fe=>({...Fe,logradouro:ke.street||Fe.logradouro,bairro:ke.neighborhood||Fe.bairro,cidade:ke.city||Fe.cidade,uf:ke.state||Fe.uf}))}}}),j&&o.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:o.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"})})]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Digite o CEP ou preencha o endereo manualmente"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"numero",children:"Nmero"}),o.jsx(le,{id:"numero",className:"h-12 text-lg",placeholder:"123",value:b.numero,onChange:z=>N({...b,numero:z.target.value})})]})]}),o.jsxs("div",{className:"space-y-2 relative",children:[o.jsx(xe,{htmlFor:"logradouro",children:"Logradouro (Rua/Av.)"}),o.jsx(le,{id:"logradouro",className:"h-12 text-lg",placeholder:"Digite a rua ou avenida...",value:b.logradouro||E,onChange:z=>{const ue=z.target.value;b.logradouro?N({...b,logradouro:ue}):se(ue)},onFocus:()=>{b.logradouro||K(!0)},onBlur:()=>setTimeout(()=>K(!1),200)}),ce&&o.jsx("div",{className:"absolute right-3 top-[calc(50%+4px)] -translate-y-1/2",children:o.jsx("div",{className:"h-5 w-5 animate-spin rounded-full border-2 border-emerald-500 border-t-transparent"})}),U&&M.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl max-h-60 overflow-y-auto",children:M.map((z,ue)=>{var ke;return o.jsxs("button",{type:"button",className:"w-full text-left px-4 py-3 hover:bg-emerald-50 transition-colors flex items-start gap-3 border-b border-slate-50 last:border-b-0",onClick:()=>de(z),children:[o.jsx(df,{className:"h-5 w-5 text-emerald-500 shrink-0 mt-0.5"}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-slate-700 truncate",children:z.street?`${z.street}${z.housenumber?`, ${z.housenumber}`:""}`:((ke=z.formatted)==null?void 0:ke.split(",")[0])||"Endereo"}),o.jsxs("p",{className:"text-xs text-slate-400 truncate",children:[z.neighbourhood?`${z.neighbourhood}, `:"",z.city,"/",z.state_code]})]})]},ue)})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"bairro",children:"Bairro"}),o.jsx(le,{id:"bairro",className:"h-12 text-lg bg-muted/50",placeholder:"Preenchido automaticamente",value:b.bairro,onChange:z=>N({...b,bairro:z.target.value}),readOnly:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"cidade",children:"Cidade/UF"}),o.jsx(le,{id:"cidade",className:"h-12 text-lg bg-muted/50",placeholder:"Preenchido automaticamente",value:b.cidade?`${b.cidade}/${b.uf}`:"",readOnly:!0})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"complemento",children:"Complemento"}),o.jsx(le,{id:"complemento",className:"h-12 text-lg",placeholder:"Apto, Bloco, Casa, etc.",value:b.complemento,onChange:z=>N({...b,complemento:z.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"reference",children:"Ponto de Referncia"}),o.jsx(le,{id:"reference",className:"h-12 text-lg",placeholder:"Ex: Prximo  padaria...",value:b.referencia,onChange:z=>N({...b,referencia:z.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"email",children:"E-mail (Opcional)"}),o.jsx(le,{id:"email",type:"email",className:"h-12 text-lg",placeholder:"cliente@email.com",value:b.email,onChange:z=>N({...b,email:z.target.value})})]})]}),o.jsx(he,{type:"submit",className:"w-full h-14 text-lg font-semibold mt-4 shadow-md",disabled:g,children:g?"Salvando...":y?"Atualizar Cliente":"Cadastrar Cliente"})]})]})]})}),o.jsxs("div",{className:"relative",children:[o.jsx(ba,{className:"absolute left-3 top-3 h-5 w-5 text-muted-foreground"}),o.jsx(le,{placeholder:"Buscar por nome ou telefone...",className:"pl-10 h-14 text-lg shadow-sm",value:u,onChange:z=>d(z.target.value)})]}),a?o.jsx("div",{className:"text-center py-10",children:"Carregando clientes..."}):Sr.length===0?o.jsx("div",{className:"text-center py-10 text-muted-foreground",children:"Nenhum cliente encontrado."}):o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Sr.map(z=>o.jsxs("div",{className:"group relative flex flex-col justify-between rounded-xl border border-border bg-card p-6 shadow-md hover:shadow-lg transition-all active:scale-[0.98]",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"h-14 w-14 rounded-lg bg-muted overflow-hidden flex-shrink-0 border border-border",children:z.avatar_url?o.jsx("img",{src:z.avatar_url,alt:z.nome_razao,className:"h-full w-full object-cover"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center bg-primary/10",children:o.jsx(zn,{className:"h-6 w-6 text-primary"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"font-bold text-lg truncate",children:z.nome_razao}),z.whatsapp&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[o.jsx(Nm,{className:"h-3 w-3"})," ",z.whatsapp]}),z.endereco&&o.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1 truncate",children:[o.jsx(df,{className:"h-3 w-3"})," ",z.endereco]})]})]}),o.jsxs("div",{className:"mt-6 flex items-center gap-3 pt-4 border-t border-border",children:[o.jsxs(he,{variant:"outline",className:"flex-1 h-12 text-base font-medium",onClick:()=>Ie(z),children:[o.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Editar"]}),o.jsxs(he,{variant:"destructive",className:"flex-1 h-12 text-base font-medium",onClick:()=>Re(z.id,z.nome_razao),children:[o.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Excluir"]})]})]},z.id))})]})}function o_(){const r=Ot(),{userData:t}=At(),[s,a]=w.useState([]),[l,u]=w.useState(!0),[d,f]=w.useState(""),{setFabAction:p}=gn()??{setFabAction:()=>{}};w.useEffect(()=>(p(()=>r("/service-orders/new")),()=>p(null)),[p]),w.useEffect(()=>{t!=null&&t.empresa_id&&g()},[t==null?void 0:t.empresa_id]);const g=async()=>{var b;try{let N=Y.from("ordens_servico").select("*").eq("empresa_id",t.empresa_id);((b=t==null?void 0:t.cargo)==null?void 0:b.toLowerCase())==="tecnico"&&(N=N.eq("tecnico_id",t.id));const{data:j,error:C}=await N.order("created_at",{ascending:!1});if(C)throw C;const E=Array.from(new Set(j.map(A=>A.tecnico_id).filter(Boolean)));let P={};if(E.length>0){const{data:A,error:U}=await Y.from("usuarios").select("id, nome_completo").in("id",E);!U&&A&&A.forEach(K=>{P[K.id]=K.nome_completo})}const M=j.map(A=>({...A,tecnicos:{nome_completo:P[A.tecnico_id]||"Tcnico ex-funcionrio"}}));a(M)}catch(N){console.error("Erro ao buscar OS:",N)}finally{u(!1)}},v=s.filter(b=>(b.cliente_nome||"").toLowerCase().includes(d.toLowerCase())||b.id.toLowerCase().includes(d.toLowerCase())),y=b=>b?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b):"R$ 0,00",_=async b=>{try{const{error:N}=await Y.from("ordens_servico").delete().eq("id",b);if(N)throw N;a(s.filter(j=>j.id!==b))}catch(N){console.error("Erro ao excluir:",N),alert("Erro ao excluir OS")}},k=b=>{switch(b==null?void 0:b.toLowerCase()){case"aprovado":return"bg-emerald-500/10 text-emerald-600 border-emerald-500/20 shadow-[0_0_10px_rgba(16,185,129,0.2)]";case"em andamento":return"bg-blue-500/10 text-blue-600 border-blue-500/20";case"pendente":return"bg-amber-500/10 text-amber-600 border-amber-500/20";case"concludo":return"bg-emerald-600 text-white border-emerald-600 shadow-md shadow-emerald-200";default:return"bg-slate-100 text-slate-500 border-slate-200"}};return o.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(he,{className:"h-14 text-base md:w-auto w-full shadow-lg bg-emerald-600 hover:bg-emerald-700 text-white rounded-2xl font-bold",onClick:()=>r("/service-orders/new"),children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Nova OS"]})}),o.jsxs("div",{className:"relative",children:[o.jsx(ba,{className:"absolute left-4 top-4 h-6 w-6 text-emerald-500/50"}),o.jsx(le,{placeholder:"Buscar por cliente ou ID...",className:"pl-14 h-14 text-lg shadow-xl shadow-emerald-500/5 border-0 bg-white/80 backdrop-blur-xl rounded-2xl focus:ring-2 focus:ring-emerald-500/20",value:d,onChange:b=>f(b.target.value)})]}),l?o.jsx("div",{className:"text-center py-20 text-emerald-600 font-medium animate-pulse",children:"Carregando ordens de servio..."}):v.length===0?o.jsx("div",{className:"text-center py-20 text-slate-400 bg-white/50 rounded-3xl border-2 border-dashed border-slate-200 mx-4",children:"Nenhuma ordem de servio encontrada."}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.map(b=>o.jsxs("div",{onClick:()=>r(`/service-orders/${b.id}`),className:"group relative flex flex-col justify-between rounded-[24px] border border-white bg-white/90 backdrop-blur-xl p-6 shadow-xl shadow-emerald-900/5 hover:shadow-2xl hover:shadow-emerald-900/10 hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden",children:[o.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl group-hover:bg-emerald-500/20 transition-all pointer-events-none"}),o.jsxs("div",{className:"flex justify-between items-start mb-5 relative z-10",children:[o.jsxs("div",{className:`px-4 py-1.5 rounded-full text-xs font-bold border flex items-center gap-1.5 ${k(b.status||"pendente")}`,children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-current"}),(b.status||"Pendente").toUpperCase()]}),o.jsxs("span",{className:"text-xs text-slate-400 font-mono tracking-wider",children:["#",b.id.slice(0,8)]})]}),o.jsxs("div",{className:"space-y-4 mb-8 relative z-10",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wide mb-1",children:"Cliente"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"p-2 rounded-xl bg-slate-100 text-slate-600 group-hover:bg-emerald-100 group-hover:text-emerald-600 transition-colors",children:o.jsx(zn,{className:"h-5 w-5"})}),o.jsx("span",{className:"font-bold text-slate-700 text-lg truncate flex-1",children:b.cliente_nome||"Cliente Desconhecido"})]})]}),b.tecnicos&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wide mb-1",children:"Tcnico Responsvel"}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 bg-slate-50 p-2 rounded-xl border border-slate-100",children:[o.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),o.jsx("span",{className:"font-medium",children:b.tecnicos.nome_completo})]})]})]}),o.jsxs("div",{className:"pt-4 border-t border-slate-100 flex items-center justify-between relative z-10",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs text-slate-400 font-bold uppercase",children:"Valor Total"}),o.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tight",children:y(b.valor_total)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(he,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all",onClick:N=>{N.stopPropagation(),confirm("Tem certeza que deseja excluir esta Ordem de Servio?")&&_(b.id)},children:o.jsx(Fn,{className:"h-5 w-5"})}),o.jsx(he,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-xl text-emerald-600 bg-emerald-50 hover:bg-emerald-100 hover:scale-105 transition-all",children:o.jsx(Gc,{className:"h-5 w-5"})})]})]})]},b.id))})]})}function qf(){const r=Ot(),{id:t}=hm(),{userData:s}=At(),[a,l]=w.useState(!1),[u,d]=w.useState(!1),[f,p]=w.useState([]),[g,v]=w.useState([]),[y,_]=w.useState({cliente_id:"",tecnico_id:"",tipo:"ORCAMENTO",data_agendamento:new Date().toISOString().split("T")[0],hora_agendamento:"09:00",validade:"",descricao_servico:"",observacoes:"",desconto:"",status:"PENDENTE"}),[k,b]=w.useState([]),[N,j]=w.useState({antes:[],depois:[]}),[C,E]=w.useState(null),[P,M]=w.useState(null),A=k.reduce((B,re)=>B+re.total,0),[U,K]=w.useState(""),[ce,fe]=w.useState(""),{setFabAction:Ce}=gn()??{setFabAction:()=>{}};w.useEffect(()=>(Ce(()=>gr()),()=>Ce(null)),[y,k,N,C,Ce]),w.useEffect(()=>{if(y.desconto&&!ce){fe(y.desconto);const B=A*parseFloat(y.desconto)/100;K(B.toFixed(2))}},[y.desconto,A]);const ee=parseFloat(y.desconto)||0,oe=A*ee/100,Ue=A-oe,We=B=>{E(B)},[qe,Ae]=w.useState([]),[Te,J]=w.useState(""),[$,V]=w.useState(!1),[T,F]=w.useState("rectangular"),[X,se]=w.useState({largura:"",comprimento:"",profundidade:"",diametro:"",preco_litro:""}),[de,je]=w.useState(null);w.useEffect(()=>{Ie()},[X,T]);const Ie=()=>{const{largura:B,comprimento:re,profundidade:we,diametro:Ge,preco_litro:_e}=X;let it=0;if(T==="rectangular"){const lt=parseFloat(B)||0,nt=parseFloat(re)||0,sr=parseFloat(we)||0;lt&&nt&&sr&&(it=lt*nt*sr/1e3)}else{const lt=parseFloat(Ge)||0,nt=parseFloat(we)||0;if(lt&&nt){const sr=lt/2;it=Math.PI*(sr*sr)*nt/1e3}}const et=parseFloat(_e.replace(",","."))||0,It=it*et;je({litros:Math.round(it*100)/100,total:Math.round(It*100)/100})},Re=B=>{fe(B);const re=parseFloat(B)||0,we=A*re/100;K(we.toFixed(2)),_(Ge=>({...Ge,desconto:B}))},De=B=>{K(B);const re=parseFloat(B)||0;if(A===0)return;const we=re/A*100;fe(we.toFixed(2)),_(Ge=>({...Ge,desconto:we.toFixed(4)}))};w.useEffect(()=>{s&&!s.empresa_id&&console.warn("Usuario sem empresa_id",s)},[s]),w.useEffect(()=>{s!=null&&s.empresa_id&&wt().then(()=>{t&&Sr(t)})},[s==null?void 0:s.empresa_id,t]);const wt=async()=>{var It,lt;const{data:B,error:re}=await Y.from("clientes").select("id, nome_razao, whatsapp").eq("empresa_id",s.empresa_id).order("nome_razao");re&&console.error("Erro buscando clientes:",re),B&&p(B);const{data:we,error:Ge}=await Y.from("usuarios").select("id, nome_completo, cargo").eq("empresa_id",s.empresa_id).eq("cargo","tecnico");Ge&&console.error("Erro buscando tecnicos:",Ge);const{data:_e,error:it}=await Y.from("servicos").select("*").eq("empresa_id",s.empresa_id).eq("ativo",!0).order("nome");it&&console.error("Erro buscando servicos:",it);let et=(we||[]).map(nt=>({...nt,nome:nt.nome_completo||nt.nome||"Tcnico"}));((It=s==null?void 0:s.cargo)==null?void 0:It.toLowerCase())==="admin"&&(et=et.filter(nt=>nt.id!==s.id)),((lt=s==null?void 0:s.cargo)==null?void 0:lt.toLowerCase())==="tecnico"&&(et=et.filter(nt=>nt.id===s.id),!t&&et.length>0&&_(nt=>({...nt,tecnico_id:s.id}))),B&&p(B),v(et),_e&&Ae(_e)},Sr=async B=>{var re;d(!0);try{const{data:we,error:Ge}=await Y.from("ordens_servico").select("*").eq("id",B).single();if(Ge)throw Ge;if(we){const _e=we,[it,et]=_e.data_agendamento?_e.data_agendamento.split("T"):["",""];let It=_e.tecnico_id;((re=s==null?void 0:s.cargo)==null?void 0:re.toLowerCase())==="tecnico"&&(It=s.id),_({cliente_id:_e.cliente_id,tecnico_id:It,tipo:_e.tipo,data_agendamento:it,hora_agendamento:et?et.slice(0,5):"09:00",validade:_e.validade||"",descricao_servico:_e.descricao_servico||"",observacoes:_e.observacoes||"",desconto:_e.desconto?_e.desconto.toString():"",status:_e.status||"PENDENTE"}),b(_e.itens||[]);const lt=_e.fotos||{antes:[],depois:[]};j({antes:Array.isArray(lt.antes)?lt.antes:lt.antes?[lt.antes]:[],depois:Array.isArray(lt.depois)?lt.depois:lt.depois?[lt.depois]:[]}),_e.assinatura_cliente_url&&M(_e.assinatura_cliente_url),_e.desconto&&fe(_e.desconto.toString())}}catch(we){console.error("Erro ao carregar OS:",we),alert("Erro ao carregar dados da OS."),r("/service-orders")}finally{d(!1)}},z=()=>{b([...k,{descricao:"",qtd:1,valor_unitario:0,total:0}])},ue=B=>{const re=qe.find(we=>we.id===B);re&&(b([...k,{descricao:re.nome,qtd:1,valor_unitario:re.valor_padrao,total:re.valor_padrao}]),J(""))},ke=()=>{if(!de||de.total<=0)return;const B=T==="rectangular"?`Limpeza Fossa Retangular (${X.largura}x${X.comprimento}x${X.profundidade}cm) - ${de.litros}L`:`Limpeza Fossa Cilndrica (${X.diametro}x${X.profundidade}cm) - ${de.litros}L`;b([...k,{descricao:B,qtd:1,valor_unitario:de.total,total:de.total}])},Fe=(B,re,we)=>{const Ge=[...k],_e=Ge[B];re==="qtd"||re==="valor_unitario"?(_e[re]=Number(we),_e.total=_e.qtd*_e.valor_unitario):re==="descricao"&&(_e.descricao=we),b(Ge)},ot=B=>{b(k.filter((re,we)=>we!==B))},Le=async(B,re)=>{try{const we=`os-evidence-${Date.now()}-${re}-${Math.random().toString(36).substring(7)}`,{error:Ge}=await Y.storage.from("avatars").upload(we,B);if(Ge)throw Ge;const{data:{publicUrl:_e}}=Y.storage.from("avatars").getPublicUrl(we);j(it=>({...it,[re]:[...it[re]||[],_e]}))}catch(we){alert("Erro ao enviar foto: "+we)}},ft=(B,re)=>{j(we=>({...we,[B]:we[B].filter((Ge,_e)=>_e!==re)}))},gr=async B=>{if(!y.cliente_id||!y.tecnico_id){alert("Selecione um cliente e um tcnico.");return}l(!0);try{let re=P;if(C){const et=`os-sig-${Date.now()}`;await Y.storage.from("avatars").upload(et,C);const{data:It}=Y.storage.from("avatars").getPublicUrl(et);re=It.publicUrl}const we=f.find(et=>et.id===y.cliente_id),Ge=B||(t?void 0:"PENDENTE"),_e={empresa_id:s.empresa_id,cliente_id:y.cliente_id,cliente_nome:(we==null?void 0:we.nome_razao)||"Cliente no identificado",cliente_whatsapp:(we==null?void 0:we.whatsapp)||null,descricao_servico:y.descricao_servico,tecnico_id:y.tecnico_id,tipo:y.tipo,data_agendamento:`${y.data_agendamento}T${y.hora_agendamento}:00`,validade:y.validade||null,observacoes:y.observacoes,desconto:ee,itens:k,fotos:{antes:N.antes,depois:N.depois},valor_total:Ue};Ge&&(_e.status=Ge),re&&(_e.assinatura_cliente_url=re);let it;if(t?it=(await Y.from("ordens_servico").update(_e).eq("id",t)).error:(_e.status||(_e.status="PENDENTE"),it=(await Y.from("ordens_servico").insert(_e)).error),it)throw it;alert(t?"OS atualizada com sucesso!":"OS criada com sucesso!"),r("/service-orders")}catch(re){console.error(re),alert("Erro ao salvar: "+re.message)}finally{l(!1)}},vn=async()=>{confirm("Deseja realmente concluir esta OS? Isso ir gerar a comisso e o lanamento financeiro.")&&await gr("CONCLUIDO")};return u?o.jsx("div",{className:"p-8 text-center",children:"Carregando dados da OS..."}):o.jsxs("div",{className:"pb-20 md:pb-10 max-w-4xl mx-auto space-y-6 pt-6 md:pt-0",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx(he,{variant:"ghost",size:"icon",onClick:()=>r("/service-orders"),children:o.jsx(ii,{className:"h-6 w-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold",children:t?"Editar Ordem de Servio":"Nova Ordem de Servio"}),o.jsx("p",{className:"text-muted-foreground text-sm",children:"Preencha os dados abaixo"})]}),t&&o.jsxs(he,{variant:"outline",className:"gap-2",onClick:()=>window.open(`/print/service-orders/${t}?type=${y.tipo}`,"_blank"),children:[o.jsx(fx,{className:"h-4 w-4"}),"Imprimir / PDF"]}),t&&y.status!=="CONCLUIDO"&&o.jsx(he,{className:"gap-2 bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-500/20",onClick:vn,children:" Concluir OS"})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-8 shadow-xl shadow-slate-200/50 space-y-8 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-sky-400"}),o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:o.jsx(zn,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Informaes Gerais"}),o.jsx("p",{className:"text-xs text-slate-400",children:"Dados do cliente e responsvel"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-slate-600 font-medium ml-1",children:"Cliente"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:"w-full h-14 pl-4 pr-10 bg-slate-50 border-0 rounded-2xl text-slate-700 font-medium focus:ring-2 focus:ring-emerald-500/20 transition-all appearance-none",value:y.cliente_id,onChange:B=>_({...y,cliente_id:B.target.value}),children:[o.jsx("option",{value:"",children:"Selecione o Cliente"}),f.map(B=>o.jsx("option",{value:B.id,children:B.nome_razao},B.id))]}),o.jsx(uc,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 pointer-events-none"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{className:"text-slate-600 font-medium ml-1",children:"Tipo de Documento"}),o.jsx("div",{className:"flex bg-slate-100 p-1.5 rounded-full",children:["ORCAMENTO","RECIBO","CONTRATO"].map(B=>o.jsx("button",{type:"button",onClick:()=>_({...y,tipo:B}),className:`flex-1 py-3 text-xs font-bold rounded-full transition-all duration-300 ${y.tipo===B?"bg-white text-emerald-600 shadow-md transform scale-100":"text-slate-400 hover:text-slate-600"}`,children:B},B))})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-slate-600 font-medium ml-1",children:"Tcnico"}),o.jsxs("div",{className:"relative",children:[o.jsxs("select",{className:"w-full h-14 pl-4 pr-10 bg-slate-50 border-0 rounded-2xl text-slate-700 font-medium focus:ring-2 focus:ring-emerald-500/20 appearance-none",value:y.tecnico_id,onChange:B=>_({...y,tecnico_id:B.target.value}),children:[o.jsx("option",{value:"",children:"Selecione..."}),g.map(B=>o.jsx("option",{value:B.id,children:B.nome},B.id))]}),o.jsx(uc,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 h-5 w-5 pointer-events-none"})]}),f.length===0&&!u&&o.jsxs("p",{className:"text-red-500 text-xs mt-1 ml-1",children:["Nenhum cliente encontrado. ",o.jsx("span",{className:"font-bold cursor-pointer underline",onClick:()=>r("/clients"),children:"Cadastre um novo cliente."})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{className:"text-slate-600 font-medium ml-1",children:"Agendamento"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"date",className:"flex-1 h-14 px-4 bg-slate-50 border-0 rounded-2xl text-slate-700 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:y.data_agendamento,onChange:B=>_({...y,data_agendamento:B.target.value})}),o.jsx("input",{type:"time",className:"w-32 h-14 px-4 bg-slate-50 border-0 rounded-2xl text-slate-700 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:y.hora_agendamento,onChange:B=>_({...y,hora_agendamento:B.target.value})})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-8 shadow-xl shadow-slate-200/50 space-y-6 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-sky-400 to-indigo-400"}),o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-sky-100 rounded-lg text-sky-600",children:o.jsx(Ss,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Servios"}),o.jsx("p",{className:"text-xs text-slate-400",children:"Itens e valores"})]})]})}),o.jsxs("div",{className:"flex gap-3 p-2 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("select",{className:"w-full h-12 bg-transparent border-0 text-sm font-medium text-slate-700 focus:ring-0",value:Te,onChange:B=>{J(B.target.value),ue(B.target.value)},children:[o.jsx("option",{value:"",children:"+ Adicionar servio do catlogo..."}),qe.map(B=>o.jsxs("option",{value:B.id,children:[B.nome," - ",new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(B.valor_padrao)]},B.id))]})}),o.jsxs(he,{size:"sm",className:"bg-white text-slate-700 hover:bg-slate-100 shadow-sm rounded-xl h-12 px-6 font-bold",onClick:z,children:[o.jsx(Ur,{className:"h-4 w-4 mr-1 text-slate-400"})," Manual"]})]}),o.jsxs("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:[o.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex items-center justify-between cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>V(!$),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:o.jsx("span",{className:"text-lg",children:""})}),o.jsx("span",{className:"font-bold text-sm text-slate-600",children:"Calculadora de Volume"})]}),$?o.jsx(uc,{className:"h-4 w-4 text-slate-400"}):o.jsx(nx,{className:"h-4 w-4 text-slate-400"})]}),$&&o.jsxs("div",{className:"p-6 bg-white space-y-6",children:[o.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[o.jsx("button",{type:"button",onClick:()=>F("rectangular"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${T==="rectangular"?"bg-white text-sky-600 shadow-sm":"text-slate-400"}`,children:"RETANGULAR"}),o.jsx("button",{type:"button",onClick:()=>F("cilindrico"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${T==="cilindrico"?"bg-white text-sky-600 shadow-sm":"text-slate-400"}`,children:"CILNDRICO"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T==="rectangular"?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(xe,{className:"text-xs ml-1 text-slate-500",children:"Largura (cm)"}),o.jsx(le,{className:"bg-slate-50 border-0 rounded-xl h-10",type:"number",value:X.largura,onChange:B=>se({...X,largura:B.target.value})})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(xe,{className:"text-xs ml-1 text-slate-500",children:"Comprimento (cm)"}),o.jsx(le,{className:"bg-slate-50 border-0 rounded-xl h-10",type:"number",value:X.comprimento,onChange:B=>se({...X,comprimento:B.target.value})})]})]}):o.jsxs("div",{className:"space-y-1 col-span-2",children:[o.jsx(xe,{className:"text-xs ml-1 text-slate-500",children:"Dimetro (cm)"}),o.jsx(le,{className:"bg-slate-50 border-0 rounded-xl h-10",type:"number",value:X.diametro,onChange:B=>se({...X,diametro:B.target.value})})]}),o.jsxs("div",{className:"space-y-1 col-span-2",children:[o.jsx(xe,{className:"text-xs ml-1 text-slate-500",children:"Profundidade (cm)"}),o.jsx(le,{className:"bg-slate-50 border-0 rounded-xl h-10",type:"number",value:X.profundidade,onChange:B=>se({...X,profundidade:B.target.value})})]}),o.jsxs("div",{className:"space-y-1 col-span-2 pt-2",children:[o.jsx(xe,{className:"text-xs ml-1 font-bold text-emerald-600",children:"Preo por Litro (R$/L)"}),o.jsx(le,{className:"bg-emerald-50 border-emerald-100 rounded-xl h-10 text-emerald-700 font-bold",type:"number",step:"0.01",value:X.preco_litro,onChange:B=>se({...X,preco_litro:B.target.value})})]})]}),de&&o.jsxs("div",{className:"p-4 bg-gradient-to-r from-sky-500 to-indigo-500 rounded-2xl flex justify-between items-center text-white shadow-lg shadow-sky-200",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs opacity-80",children:"Volume Estimado"}),o.jsxs("p",{className:"font-bold text-xl",children:[de.litros," L"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs opacity-80",children:"Valor Sugerido"}),o.jsx("p",{className:"font-bold text-2xl",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(de.total)})]})]}),o.jsx(he,{type:"button",className:"w-full bg-slate-900 text-white rounded-xl h-12 font-bold",onClick:ke,disabled:!de||de.total<=0,children:"Adicionar ao Pedido"})]})]}),o.jsxs("div",{className:"space-y-3",children:[k.map((B,re)=>o.jsxs("div",{className:"grid grid-cols-12 gap-3 items-center bg-slate-50 p-3 rounded-2xl border border-slate-100 group hover:border-emerald-200 transition-colors",children:[o.jsx("div",{className:"col-span-12 md:col-span-6",children:o.jsx(le,{value:B.descricao,onChange:we=>Fe(re,"descricao",we.target.value),className:"bg-transparent border-0 h-auto p-0 font-medium text-slate-700 placeholder:text-slate-400 focus-visible:ring-0",placeholder:"Descrio do item"})}),o.jsx("div",{className:"col-span-3 md:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-lg px-2 py-1 border border-slate-200 flex items-center",children:[o.jsx("span",{className:"text-[10px] text-slate-400 mr-2",children:"Qtd"}),o.jsx("input",{type:"number",min:"1",value:B.qtd,onChange:we=>Fe(re,"qtd",we.target.value),className:"w-full bg-transparent outline-none text-sm font-bold text-slate-700"})]})}),o.jsx("div",{className:"col-span-4 md:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-lg px-2 py-1 border border-slate-200 flex items-center",children:[o.jsx("span",{className:"text-[10px] text-slate-400 mr-1",children:"R$"}),o.jsx("input",{type:"number",step:"0.01",value:B.valor_unitario,onChange:we=>Fe(re,"valor_unitario",we.target.value),className:"w-full bg-transparent outline-none text-sm font-bold text-slate-700"})]})}),o.jsx("div",{className:"col-span-5 md:col-span-1 flex justify-end",children:o.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",onClick:()=>ot(re),children:o.jsx(Fn,{className:"h-5 w-5"})})})]},re)),k.length===0&&o.jsx("div",{className:"text-center py-8 text-slate-400 text-sm bg-slate-50/50 rounded-2xl border border-dashed border-slate-200",children:"Nenhum item adicionado ainda."})]}),o.jsxs("div",{className:"bg-slate-900 rounded-3xl p-6 text-white shadow-2xl shadow-slate-900/20 mt-4 overflow-hidden relative",children:[o.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/10 rounded-full blur-2xl pointer-events-none"}),o.jsx("div",{className:"absolute bottom-[-20px] left-[-20px] w-24 h-24 bg-emerald-500/20 rounded-full blur-2xl pointer-events-none"}),o.jsxs("div",{className:"relative z-10 space-y-4",children:[o.jsxs("div",{className:"flex justify-between text-sm text-slate-400",children:[o.jsx("span",{children:"Subtotal"}),o.jsx("span",{children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A)})]}),o.jsxs("div",{className:"flex bg-white/10 rounded-xl p-1 gap-2",children:[o.jsxs("div",{className:"flex-1 flex items-center px-3 gap-2",children:[o.jsx("span",{className:"text-xs text-slate-400",children:"Desc %"}),o.jsx("input",{type:"number",value:ce,onChange:B=>Re(B.target.value),className:"w-full bg-transparent border-0 text-white font-bold text-right focus:ring-0 placeholder:text-slate-600",placeholder:"0"})]}),o.jsx("div",{className:"w-px bg-white/10"}),o.jsxs("div",{className:"flex-1 flex items-center px-3 gap-2",children:[o.jsx("span",{className:"text-xs text-slate-400",children:"Desc R$"}),o.jsx("input",{type:"number",value:U,onChange:B=>De(B.target.value),className:"w-full bg-transparent border-0 text-white font-bold text-right focus:ring-0 placeholder:text-slate-600",placeholder:"0,00"})]})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"flex justify-between items-end",children:[o.jsx("span",{className:"text-lg font-medium text-slate-300",children:"Total Final"}),o.jsx("span",{className:"text-3xl font-bold text-emerald-400",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Ue)})]})]})]}),o.jsxs("div",{className:"space-y-3 pt-2",children:[o.jsx(xe,{className:"text-slate-600 font-bold ml-1",children:"Observaes"}),o.jsx("textarea",{placeholder:"Informaes adicionais...",value:y.observacoes,onChange:B=>_({...y,observacoes:B.target.value}),onInput:B=>{const re=B.target;re.style.height="auto",re.style.height=`${re.scrollHeight}px`},className:"w-full bg-slate-50 min-h-[60px] resize-none border-0 rounded-2xl p-4 focus:ring-2 focus:ring-slate-200 transition-all text-slate-600 outline-none",rows:2})]})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-4 md:p-8 shadow-xl shadow-slate-200/50 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-600",children:o.jsx(dx,{className:"h-5 w-5"})}),o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Assinatura"})]}),o.jsx("div",{className:"border-0 rounded-2xl overflow-hidden bg-slate-50",children:o.jsx(np,{onSignatureChange:We,initialImage:P})})]}),o.jsxs("div",{className:"bg-white rounded-3xl p-8 shadow-xl shadow-slate-200/50 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-rose-100 rounded-lg text-rose-600",children:o.jsx(cc,{className:"h-5 w-5"})}),o.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Fotos do Servio"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{className:"font-bold text-slate-600 ml-1",children:"ANTES (Evidncias)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.antes.map((B,re)=>o.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden group shadow-sm",children:[o.jsx("img",{src:B,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>ft("antes",re),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Fn,{className:"h-3 w-3"})})]},re)),o.jsxs("div",{className:"border-2 border-dashed border-slate-200 hover:border-emerald-400 rounded-2xl bg-slate-50 aspect-square relative flex flex-col items-center justify-center overflow-hidden transition-colors cursor-pointer",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center mb-1 text-slate-400",children:o.jsx(cc,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"ADICIONAR"}),o.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:B=>{var re;return((re=B.target.files)==null?void 0:re[0])&&Le(B.target.files[0],"antes")}})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(xe,{className:"font-bold text-slate-600 ml-1",children:"DEPOIS (Evidncias)"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[N.depois.map((B,re)=>o.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden group shadow-sm",children:[o.jsx("img",{src:B,className:"w-full h-full object-cover"}),o.jsx("button",{onClick:()=>ft("depois",re),className:"absolute top-1 right-1 bg-red-500 text-white p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o.jsx(Fn,{className:"h-3 w-3"})})]},re)),o.jsxs("div",{className:"border-2 border-dashed border-slate-200 hover:border-emerald-400 rounded-2xl bg-slate-50 aspect-square relative flex flex-col items-center justify-center overflow-hidden transition-colors cursor-pointer",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full shadow-sm flex items-center justify-center mb-1 text-slate-400",children:o.jsx(cc,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"ADICIONAR"}),o.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:B=>{var re;return((re=B.target.files)==null?void 0:re[0])&&Le(B.target.files[0],"depois")}})]})]})]})]})]}),o.jsxs("div",{className:"fixed bottom-24 left-4 right-4 md:left-0 md:right-0 md:bottom-0 p-0 md:p-0 flex gap-4 md:static z-[100] md:z-0",children:[o.jsx(he,{variant:"outline",className:"flex-1 h-12",onClick:()=>r(-1),disabled:a,children:"Cancelar"}),o.jsx(he,{className:"flex-1 h-12 font-bold shadow-lg",onClick:()=>gr(),disabled:a,children:a?"Salvando...":"Salvar OS"})]})]})}function i_(){const{userData:r}=At(),[t,s]=w.useState([]),[a,l]=w.useState(!0),[u,d]=w.useState(""),[f,p]=w.useState(!1),[g,v]=w.useState(null),[y,_]=w.useState({nome:"",descricao:"",valor_padrao:""}),[k,b]=w.useState(!1),{setFabAction:N}=gn()??{setFabAction:()=>{}};w.useEffect(()=>(N(()=>P()),()=>N(null)),[N]),w.useEffect(()=>{r!=null&&r.empresa_id&&j()},[r==null?void 0:r.empresa_id]);const j=async()=>{try{const{data:U,error:K}=await Y.from("servicos").select("*").eq("empresa_id",r.empresa_id).order("nome");if(K)throw K;s(U||[])}catch(U){console.error("Erro ao buscar servios:",U)}finally{l(!1)}},C=async U=>{U.preventDefault(),b(!0);try{const K={empresa_id:r.empresa_id,nome:y.nome,descricao:y.descricao,valor_padrao:parseFloat(y.valor_padrao.replace(",","."))||0};if(g){const{error:ce}=await Y.from("servicos").update(K).eq("id",g.id);if(ce)throw ce}else{const{error:ce}=await Y.from("servicos").insert(K);if(ce)throw ce}await j(),M()}catch(K){console.error("Erro ao salvar:",K),alert("Erro ao salvar servio")}finally{b(!1)}},E=async U=>{if(confirm("Tem certeza que deseja excluir este servio?"))try{const{error:K}=await Y.from("servicos").delete().eq("id",U);if(K)throw K;s(t.filter(ce=>ce.id!==U))}catch(K){console.error("Erro ao deletar:",K),alert("Erro ao deletar servio")}},P=U=>{U?(v(U),_({nome:U.nome,descricao:U.descricao||"",valor_padrao:U.valor_padrao.toString()})):(v(null),_({nome:"",descricao:"",valor_padrao:""})),p(!0)},M=()=>{p(!1),v(null)},A=t.filter(U=>{var K;return U.nome.toLowerCase().includes(u.toLowerCase())||((K=U.descricao)==null?void 0:K.toLowerCase().includes(u.toLowerCase()))});return o.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[o.jsx("div",{className:"flex justify-end mb-4",children:o.jsxs(he,{onClick:()=>P(),className:"hidden md:flex font-bold shadow-lg shadow-primary/20",children:[o.jsx(Ur,{className:"mr-2 h-4 w-4"})," Novo Servio"]})}),o.jsxs("div",{className:"flex items-center space-x-2 bg-card p-2 rounded-lg border border-border shadow-sm",children:[o.jsx(ba,{className:"h-5 w-5 text-muted-foreground ml-2"}),o.jsx(le,{placeholder:"Buscar servios...",className:"border-0 focus-visible:ring-0",value:u,onChange:U=>d(U.target.value)})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a?o.jsx("div",{className:"col-span-full text-center py-10",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):A.length===0?o.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground bg-muted/20 rounded-xl border border-dashed border-muted",children:["Nenhum servio encontrado.",o.jsx("br",{}),'Clique em "Novo Servio" para comear.']}):A.map(U=>o.jsxs("div",{className:"bg-card border border-border rounded-xl p-4 shadow-sm hover:shadow-md transition-all group relative",children:[o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:U.nome}),o.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 min-h-[2.5em]",children:U.descricao||"Sem descrio"})]}),o.jsxs("div",{className:"flex gap-1 opacity-100 md:opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(he,{variant:"ghost",size:"icon",onClick:()=>P(U),children:o.jsx(hx,{className:"h-4 w-4 text-blue-500"})}),o.jsx(he,{variant:"ghost",size:"icon",onClick:()=>E(U.id),children:o.jsx(Fn,{className:"h-4 w-4 text-destructive"})})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex justify-between items-center",children:[o.jsx("span",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:"Valor Padro"}),o.jsx("span",{className:"font-bold text-primary text-lg",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(U.valor_padrao)})]})]},U.id))}),f&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in",children:o.jsxs("div",{className:"bg-card w-full max-w-md rounded-xl border border-border shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-border flex justify-between items-center bg-muted/30",children:[o.jsx("h2",{className:"text-lg font-bold",children:g?"Editar Servio":"Novo Servio"}),o.jsx(he,{variant:"ghost",size:"icon",onClick:M,className:"h-8 w-8 rounded-full",children:o.jsx(Sm,{className:"h-4 w-4"})})]}),o.jsxs("form",{onSubmit:C,className:"p-6 space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"nome",children:"Nome do Servio"}),o.jsx(le,{id:"nome",placeholder:"Ex: Limpeza de Caixa de Gordura",value:y.nome,onChange:U=>_({...y,nome:U.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"valor",children:"Valor Padro (R$)"}),o.jsx(le,{id:"valor",type:"number",step:"0.01",min:"0",placeholder:"0,00",value:y.valor_padrao,onChange:U=>_({...y,valor_padrao:U.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{htmlFor:"descricao",children:"Descrio (Opcional)"}),o.jsx(le,{id:"descricao",placeholder:"Detalhes sobre o servio...",value:y.descricao,onChange:U=>_({...y,descricao:U.target.value})})]}),o.jsxs("div",{className:"pt-4 flex gap-3",children:[o.jsx(he,{type:"button",variant:"outline",className:"flex-1",onClick:M,children:"Cancelar"}),o.jsx(he,{type:"submit",className:"flex-1 font-bold",disabled:k,children:k?"Salvando...":"Salvar"})]})]})]})})]})}const l_=({os:r,company:t,title:s})=>{var g,v,y,_,k;const a=b=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b),l=b=>b?new Date(b).toLocaleDateString("pt-BR"):"",d=r.itens&&Array.isArray(r.itens)?r.itens.reduce((b,N)=>b+(N.total||0),0):0,f=r.desconto?d*r.desconto/100:0,p=r.valor_total||d-f;return o.jsx("div",{className:"p-8 bg-white text-black font-sans max-w-[210mm] mx-auto print:p-0 print:max-w-none h-full min-h-[900px] relative text-xs md:text-sm",children:o.jsxs("div",{className:"border-2 border-black h-full min-h-[900px] relative flex flex-col",children:[o.jsxs("div",{className:"border-b-2 border-black flex",children:[o.jsx("div",{className:"w-1/3 border-r-2 border-black p-4 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-24 h-24 mx-auto mb-2 flex items-center justify-center",children:o.jsx("img",{src:(t==null?void 0:t.logo_url)||"/flowdrain-logo.png",alt:"Logo",className:"max-w-full max-h-full object-contain",onError:b=>{b.currentTarget.style.display="none",b.currentTarget.parentElement.innerHTML='<span class="text-4xl"></span>'}})}),o.jsx("div",{className:"text-xs font-bold uppercase text-blue-600",children:(t==null?void 0:t.nome)||"Desentupidora"})]})}),o.jsxs("div",{className:"w-2/3 p-4 flex flex-col justify-center text-center",children:[o.jsx("h1",{className:"text-2xl font-bold uppercase mb-2",children:(t==null?void 0:t.nome)||"NOME DA EMPRESA"}),o.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-gray-600",children:"QUALIDADE E SATISFAO"})]})]}),o.jsxs("div",{className:"border-b-2 border-black flex text-sm",children:[o.jsx("div",{className:"w-1/2 p-2 px-4 border-r-2 border-black",children:(t==null?void 0:t.endereco)||"Endereo da Empresa aqui"}),o.jsxs("div",{className:"w-1/2 p-2 px-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-bold",children:"CNPJ:"})," ",(t==null?void 0:t.cnpj)||"00.000.000/0000-00"]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-bold",children:"Telefone:"})," ",(t==null?void 0:t.telefone)||"(00) 0000-0000"]})]})]}),o.jsxs("div",{className:"bg-gray-200 border-b-2 border-black p-2 text-center font-bold text-lg uppercase",children:["ID N ",(g=r.id)==null?void 0:g.slice(0,8)," - ",s]}),o.jsxs("div",{className:"border-b-2 border-black text-sm",children:[o.jsxs("div",{className:"flex border-b border-black",children:[o.jsx("div",{className:"w-32 bg-gray-100 p-1 px-2 font-bold border-r border-black flex items-center",children:"Nome Cliente"}),o.jsx("div",{className:"flex-1 p-1 px-2 uppercase",children:r.cliente_nome||((v=r.clientes)==null?void 0:v.nome_razao)||"Cliente no informado"})]}),o.jsxs("div",{className:"flex border-b border-black",children:[o.jsx("div",{className:"w-32 bg-gray-100 p-1 px-2 font-bold border-r border-black flex items-center",children:"CPF/CNPJ"}),o.jsx("div",{className:"flex-1 p-1 px-2",children:((y=r.clientes)==null?void 0:y.cpf_cnpj)||""})]}),o.jsxs("div",{className:"flex border-b border-black",children:[o.jsx("div",{className:"w-32 bg-gray-100 p-1 px-2 font-bold border-r border-black flex items-center",children:"Endereo"}),o.jsx("div",{className:"flex-1 p-1 px-2 uppercase",children:((_=r.clientes)==null?void 0:_.endereco)||""})]}),o.jsxs("div",{className:"flex",children:[o.jsx("div",{className:"w-32 bg-gray-100 p-1 px-2 font-bold border-r border-black flex items-center",children:"Telefone"}),o.jsx("div",{className:"flex-1 p-1 px-2",children:r.cliente_whatsapp||((k=r.clientes)==null?void 0:k.whatsapp)||""})]})]}),o.jsxs("div",{className:"flex bg-gray-200 border-b-2 border-black text-sm font-bold",children:[o.jsx("div",{className:"flex-1 p-2 border-r-2 border-black",children:"Servio que foi Feito / Descrio"}),o.jsx("div",{className:"w-32 p-2 text-right",children:"Valor"})]}),o.jsx("div",{className:"flex-1 min-h-[300px]",children:r.itens&&r.itens.map((b,N)=>o.jsxs("div",{className:"flex border-b border-gray-300 text-sm",children:[o.jsxs("div",{className:"flex-1 p-2 border-r border-black uppercase",children:[b.descricao,b.qtd>1&&o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(x",b.qtd,")"]})]}),o.jsx("div",{className:"w-32 p-2 text-right border-l-2 border-black -ml-[2px]",children:a(b.total)})]},N))}),o.jsxs("div",{className:"border-t-2 border-black flex font-bold border-b-2",children:[o.jsxs("div",{className:"flex-1 flex border-r-2 border-black",children:[o.jsx("div",{className:"bg-gray-200 p-2 px-4 border-r-2 border-black flex items-center",children:"Data que foi feito"}),o.jsx("div",{className:"p-2 px-4 flex items-center",children:l(r.data_agendamento)})]}),o.jsxs("div",{className:"w-auto flex flex-col min-w-[300px]",children:[r.desconto>0&&o.jsxs("div",{className:"flex border-b border-black",children:[o.jsxs("div",{className:"bg-gray-200 p-1 px-4 border-r-2 border-black flex-1 flex items-center text-xs justify-end",children:["Desconto (",r.desconto,"%)"]}),o.jsxs("div",{className:"p-1 px-4 text-sm flex items-center w-32 justify-end text-red-600",children:["- ",a(f)]})]}),o.jsxs("div",{className:"flex flex-1",children:[o.jsx("div",{className:"bg-gray-200 p-2 px-4 border-r-2 border-black flex-1 flex items-center justify-end",children:"Valor do Servio - Total"}),o.jsx("div",{className:"p-2 px-4 text-xl flex items-center w-32 justify-end",children:a(p)})]})]})]}),r.observacoes&&o.jsxs("div",{className:"p-2 border-b-2 border-black text-sm bg-yellow-50/50",children:[o.jsx("span",{className:"font-bold block text-xs uppercase mb-1",children:"Observaes:"}),o.jsx("span",{className:"uppercase whitespace-pre-wrap",children:r.observacoes})]}),o.jsxs("div",{className:"mt-4 border-2 border-black flex h-48 mx-4 mb-4",children:[o.jsx("div",{className:"w-1/3 flex items-center justify-center border-r-2 border-black p-4 font-bold text-sm",children:"Assinatura do responsvel"}),o.jsxs("div",{className:"w-2/3 flex flex-col items-center justify-center relative p-2",children:[r.assinatura_cliente_url&&o.jsx("img",{src:r.assinatura_cliente_url,alt:"Assinatura",className:"max-h-32 object-contain"}),o.jsx("div",{className:"mt-auto text-xs font-bold uppercase pt-2",children:(t==null?void 0:t.nome)||"Desentupidora"})]})]}),o.jsxs("div",{className:"text-center p-2 text-[10px] text-gray-500 border-t border-black mt-auto",children:["Todos os servios tm uma garantia de 30 dias exceto vaso sanitrio e limpeza de caixa de gordura.",r.tipo==="ORCAMENTO"&&r.validade&&o.jsxs("span",{className:"block font-bold mt-1 text-black",children:["ESTE ORAMENTO  VLIDO AT ",l(r.validade)]})]})]})})},c_=({os:r,company:t})=>{var f,p,g;const s=v=>v?new Date(v).toLocaleDateString("pt-BR"):"____/____/____",a=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),l=r.itens?r.itens.reduce((v,y)=>v+(y.total||0),0):0,u=r.desconto?l*r.desconto/100:0,d=r.valor_total||l-u;return o.jsxs("div",{className:"p-12 bg-white text-black font-serif max-w-[210mm] mx-auto print:p-8 leading-relaxed text-justify text-sm",children:[o.jsx("h1",{className:"text-2xl font-bold text-center mb-8 uppercase border-b-2 border-black pb-4",children:"Contrato de Prestao de Servios"}),o.jsxs("p",{className:"mb-4",children:["Pelo presente instrumento particular, de um lado ",o.jsx("strong",{children:(t==null?void 0:t.nome)||"CONTRATADA"}),", inscrita no CNPJ sob o n ",o.jsx("strong",{children:(t==null?void 0:t.cnpj)||"______________"}),", situada em ",(t==null?void 0:t.endereco)||"_________________________",", doravante denominada ",o.jsx("strong",{children:"CONTRATADA"}),"."]}),o.jsxs("p",{className:"mb-6",children:["E de outro lado ",o.jsx("strong",{children:r.cliente_nome||((f=r.clientes)==null?void 0:f.nome_razao)||"CLIENTE"}),", CPF/CNPJ n ",o.jsx("strong",{children:((p=r.clientes)==null?void 0:p.cpf_cnpj)||"__________________"}),", residente/sediado em ",((g=r.clientes)==null?void 0:g.endereco)||"___________________________",", doravante denominado ",o.jsx("strong",{children:"CONTRATANTE"}),"."]}),o.jsx("h2",{className:"font-bold text-lg mb-2 mt-6",children:"CLUSULA PRIMEIRA - DO OBJETO"}),o.jsx("p",{className:"mb-4",children:"O presente contrato tem por objeto a prestao de servios de desentupimento e/ou limpeza conforme descritos abaixo:"}),o.jsx("ul",{className:"list-disc pl-8 mb-4 bg-gray-50 p-4 border rounded",children:r.itens&&r.itens.map((v,y)=>o.jsxs("li",{children:[o.jsx("span",{className:"font-bold",children:v.descricao}),v.qtd>1?` (Qtd: ${v.qtd})`:""," - ",a(v.total)]},y))}),o.jsx("h2",{className:"font-bold text-lg mb-2 mt-6",children:"CLUSULA SEGUNDA - DO VALOR E PAGAMENTO"}),o.jsxs("p",{className:"mb-4",children:["Pelos servios prestados, o CONTRATANTE pagar  CONTRATADA o valor total de ",o.jsx("strong",{children:a(d)}),".",r.desconto>0&&` (J incluso desconto de ${r.desconto}%).`,"O pagamento ser realizado conforme acordado entre as partes na data de execuo do servio."]}),o.jsx("h2",{className:"font-bold text-lg mb-2 mt-6",children:"CLUSULA TERCEIRA - DA GARANTIA"}),o.jsx("p",{className:"mb-4",children:"A CONTRATADA oferece garantia de 30 (trinta) dias para os servios executados, exceto para desentupimento de vasos sanitrios e limpeza de caixas de gordura, que possuem condies especficas de garantia ou iseno da mesma dependendo das condies de uso. A garantia cobre apenas o ressurgimento do problema no mesmo local e sob as mesmas condies, no cobrindo mau uso posterior."}),o.jsx("h2",{className:"font-bold text-lg mb-2 mt-6",children:"CLUSULA QUARTA - DAS OBRIGAES"}),o.jsx("p",{className:"mb-4",children:"Compromete-se a CONTRATADA a realizar os servios com zelo e eficincia. O CONTRATANTE compromete-se a fornecer as condies necessrias para a execuo do servio."}),r.observacoes&&o.jsxs(o.Fragment,{children:[o.jsx("h2",{className:"font-bold text-lg mb-2 mt-6",children:"OBSERVAES ADICIONAIS"}),o.jsx("p",{className:"mb-4 bg-yellow-50 p-2 rounded border border-yellow-100",children:r.observacoes})]}),o.jsxs("div",{className:"mt-16 text-center",children:[o.jsxs("p",{className:"mb-8",children:[(t==null?void 0:t.cidade)||"Cidade",", ",s(r.data_agendamento||new Date().toISOString())]}),o.jsxs("div",{className:"flex justify-between gap-8 mt-12",children:[o.jsxs("div",{className:"flex-1 border-t border-black pt-2",children:[o.jsx("p",{className:"font-bold",children:(t==null?void 0:t.nome)||"CONTRATADA"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Assinatura da Contratada"})]}),o.jsxs("div",{className:"flex-1 border-t border-black pt-2 flex flex-col items-center",children:[r.assinatura_cliente_url&&o.jsx("img",{src:r.assinatura_cliente_url,alt:"Assinatura Cliente",className:"h-12 -mt-16 mb-2 object-contain"}),o.jsx("p",{className:"font-bold",children:r.cliente_nome||"CONTRATANTE"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Assinatura do Contratante"})]})]})]})]})},sp=Zf.forwardRef((r,t)=>{const{os:s,company:a}=r,l=s.tipo||"RECIBO";if(l==="CONTRATO")return o.jsx("div",{ref:t,children:o.jsx(c_,{os:s,company:a})});let u="RECIBO DE PRESTAO DE SERVIOS";return l==="ORCAMENTO"&&(u="ORAMENTO DE PRESTAO DE SERVIOS"),o.jsx("div",{ref:t,children:o.jsx(l_,{os:s,company:a,title:u})})});sp.displayName="ServiceOrderPrint";function u_(){const{id:r}=hm(),[t,s]=w.useState(null),[a,l]=w.useState(null),[u,d]=w.useState(!0),[f]=Gv(),p=f.get("type");w.useEffect(()=>{r&&g()},[r]);const g=async()=>{try{const{data:v,error:y}=await Y.from("ordens_servico").select("*").eq("id",r).single(),_=v;if(y)throw y;p&&(_.tipo=p);let k=null;if(_.cliente_id){const{data:N,error:j}=await Y.from("clientes").select("*").eq("id",_.cliente_id).single();j?console.warn("Error fetching client:",j):k=N}const b={..._,clientes:k};if(s(b),_.empresa_id){const{data:N,error:j}=await Y.from("empresas").select("*").eq("id",_.empresa_id).single();j?(console.warn("Error fetching company:",j),l({nome:"FlowDrain Services"})):l(N)}}catch(v){console.error("Error fetching print data:",v),alert("Erro ao carregar dados para impresso. Verifique o console para mais detalhes.")}finally{d(!1)}};return u?o.jsx("div",{className:"flex items-center justify-center h-screen",children:"Carregando visualizao..."}):!t||!a?o.jsx("div",{className:"flex items-center justify-center h-screen text-red-500",children:"Erro ao carregar dados."}):o.jsxs("div",{className:"bg-white min-h-screen",children:[o.jsxs("div",{className:"print:hidden bg-slate-900 text-white p-4 flex justify-between items-center shadow-md sticky top-0 z-50",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>window.close(),className:"text-sm hover:text-gray-300 flex items-center gap-1",children:" Voltar"}),o.jsxs("span",{className:"font-bold",children:["Visualizao de Impresso (",t.tipo,")"]})]}),o.jsxs("button",{onClick:()=>window.print(),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-bold shadow-lg transition-colors flex items-center gap-2",children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"7 10 12 15 17 10"}),o.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),"Salvar PDF / Imprimir"]})]}),o.jsx("div",{className:"print:p-0",children:o.jsx(sp,{os:t,company:a})}),o.jsx("style",{children:`
                @page {
                    size: auto;
                    margin: 0mm;
                }
                @media print {
                    body {
                        background-color: white;
                    }
                }
            `})]})}function d_(){const{userData:r}=At(),[t,s]=w.useState(!0),[a,l]=w.useState(!1),[u,d]=w.useState(null),[f,p]=w.useState(null),[g,v]=w.useState({nome:"",razao_social:"",cnpj:"",telefone:"",email_contato:"",site:"",cep:"",endereco:"",numero:"",complemento:"",bairro:"",cidade:"",estado:""}),{setFabAction:y}=gn()??{setFabAction:()=>{}},_=w.useCallback(async()=>{l(!0);try{let j=f;if(u){const E=await Qc(u,500,.8),P=u.name.split(".").pop(),M=`company_logo_${r.empresa_id}_${Date.now()}.${P}`,{error:A}=await Y.storage.from("avatars").upload(M,E);if(A)throw A;const{data:U}=Y.storage.from("avatars").getPublicUrl(M);j=U.publicUrl}const{error:C}=await Y.from("empresas").update({...g,logo_url:j}).eq("id",r.empresa_id);if(C)throw C;alert("Configuraes salvas com sucesso!")}catch(j){console.error("Erro ao salvar:",j),alert("Erro ao salvar: "+j.message)}finally{l(!1)}},[g,u,f,r]);w.useEffect(()=>(y(_),()=>y(null)),[_,y]),w.useEffect(()=>{r!=null&&r.empresa_id&&k()},[r==null?void 0:r.empresa_id]);const k=async()=>{try{const{data:j,error:C}=await Y.from("empresas").select("*").eq("id",r.empresa_id).single();if(C)throw C;if(j){const E=j;v({nome:E.nome||"",razao_social:E.razao_social||"",cnpj:E.cnpj||"",telefone:E.telefone||"",email_contato:E.email_contato||"",site:E.site||"",cep:E.cep||"",endereco:E.endereco||"",numero:E.numero||"",complemento:E.complemento||"",bairro:E.bairro||"",cidade:E.cidade||"",estado:E.estado||""}),E.logo_url&&p(E.logo_url)}}catch(j){console.error("Erro ao buscar dados:",j)}finally{s(!1)}},b=async j=>{if(j.target.files&&j.target.files[0]){const C=j.target.files[0];d(C),p(URL.createObjectURL(C))}},N=async()=>{const j=g.cep.replace(/\D/g,"");if(j.length===8)try{const E=await(await fetch(`https://viacep.com.br/ws/${j}/json/`)).json();E.erro||v(P=>({...P,endereco:E.logradouro,bairro:E.bairro,cidade:E.localidade,estado:E.uf}))}catch(C){console.error("Erro ao buscar CEP:",C)}};return t?o.jsx("div",{className:"p-8 text-center",children:"Carregando..."}):o.jsxs("div",{className:"space-y-6 pb-20 md:pb-0",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Configuraes da Empresa"}),o.jsx("p",{className:"text-muted-foreground",children:"Gerencie os dados da sua desentupidora"})]}),o.jsxs(he,{onClick:_,disabled:a,className:"hidden md:flex",children:[a?o.jsx(mn,{className:"mr-2 h-4 w-4 animate-spin"}):o.jsx(hf,{className:"mr-2 h-4 w-4"}),"Salvar Alteraes"]})]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-6 bg-card p-6 rounded-xl border border-border shadow-sm",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-primary"}),"Identidade Visual"]}),o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsxs("div",{className:"w-32 h-32 rounded-lg border-2 border-dashed border-muted-foreground/30 flex items-center justify-center overflow-hidden bg-muted/10 relative group",children:[f?o.jsx("img",{src:f,alt:"Logo",className:"w-full h-full object-contain"}):o.jsx("span",{className:"text-muted-foreground text-sm text-center px-2",children:"Sem Logo"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:o.jsx(px,{className:"text-white h-8 w-8"})}),o.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:b})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Clique para alterar o logo"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Nome Fantasia"}),o.jsx(le,{value:g.nome,onChange:j=>v({...g,nome:j.target.value}),placeholder:"Nome da sua empresa"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Razo Social"}),o.jsx(le,{value:g.razao_social,onChange:j=>v({...g,razao_social:j.target.value}),placeholder:"Razo Social Ltda"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"CNPJ"}),o.jsx(le,{value:g.cnpj,onChange:j=>v({...g,cnpj:j.target.value}),placeholder:"00.000.000/0001-00"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Telefone / WhatsApp"}),o.jsx(le,{value:g.telefone,onChange:j=>v({...g,telefone:j.target.value}),placeholder:"(00) 00000-0000"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"E-mail de Contato"}),o.jsx(le,{value:g.email_contato,onChange:j=>v({...g,email_contato:j.target.value}),placeholder:"contato@empresa.com"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Site / Redes Sociais"}),o.jsx(le,{value:g.site,onChange:j=>v({...g,site:j.target.value}),placeholder:"instagram.com/suaempresa"})]})]})]}),o.jsxs("div",{className:"space-y-6 bg-card p-6 rounded-xl border border-border shadow-sm h-fit",children:[o.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[o.jsx(Qo,{className:"h-5 w-5 text-primary"}),"Endereo e Localizao"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"CEP"}),o.jsx(le,{value:g.cep,onChange:j=>v({...g,cep:j.target.value}),onBlur:N,placeholder:"00000-000"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Endereo"}),o.jsx(le,{value:g.endereco,onChange:j=>v({...g,endereco:j.target.value}),placeholder:"Rua, Avenida..."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2 col-span-1",children:[o.jsx(xe,{children:"Nmero"}),o.jsx(le,{value:g.numero,onChange:j=>v({...g,numero:j.target.value})})]}),o.jsxs("div",{className:"space-y-2 col-span-2",children:[o.jsx(xe,{children:"Complemento"}),o.jsx(le,{value:g.complemento,onChange:j=>v({...g,complemento:j.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Bairro"}),o.jsx(le,{value:g.bairro,onChange:j=>v({...g,bairro:j.target.value})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Cidade"}),o.jsx(le,{value:g.cidade,onChange:j=>v({...g,cidade:j.target.value})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(xe,{children:"Estado (UF)"}),o.jsx(le,{value:g.estado,onChange:j=>v({...g,estado:j.target.value}),maxLength:2})]})]})]})]})]}),o.jsx("div",{className:"md:hidden",children:o.jsxs(he,{onClick:_,disabled:a,className:"w-full h-12 text-lg",children:[a?o.jsx(mn,{className:"mr-2 h-5 w-5 animate-spin"}):o.jsx(hf,{className:"mr-2 h-5 w-5"}),"Salvar Alteraes"]})})]})}const ht=w.forwardRef(({className:r,...t},s)=>o.jsx("div",{ref:s,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t}));ht.displayName="Card";const Mn=w.forwardRef(({className:r,...t},s)=>o.jsx("div",{ref:s,className:Ee("flex flex-col space-y-1.5 p-6",r),...t}));Mn.displayName="CardHeader";const Un=w.forwardRef(({className:r,...t},s)=>o.jsx("h3",{ref:s,className:Ee("text-2xl font-semibold leading-none tracking-tight",r),...t}));Un.displayName="CardTitle";const h_=w.forwardRef(({className:r,...t},s)=>o.jsx("p",{ref:s,className:Ee("text-sm text-muted-foreground",r),...t}));h_.displayName="CardDescription";const Tt=w.forwardRef(({className:r,...t},s)=>o.jsx("div",{ref:s,className:Ee("p-6 pt-0",r),...t}));Tt.displayName="CardContent";const f_=w.forwardRef(({className:r,...t},s)=>o.jsx("div",{ref:s,className:Ee("flex items-center p-6 pt-0",r),...t}));f_.displayName="CardFooter";const _r={getTechnicianBalance:async r=>{try{const{data:t,error:s}=await Y.from("usuarios").select("*").eq("id",r).single();if(s)throw s;const a=(t.percentual_comissao||t.commission_rate||0)/100;let l=0;const u=[],d=[];let f=0,p=0;const g=[];let v=[];try{const{data:j,error:C}=await Y.from("historico_comissoes").select("*").eq("tecnico_id",r).eq("status_pagamento","a_pagar");!C&&j&&(v=j,v.forEach(E=>{const P=Number(E.valor_comissao)||0;l+=P,E.ordem_servico_id&&u.push(E.ordem_servico_id),d.push(E.id)}))}catch(j){console.warn("Tabela historico_comissoes no acessvel:",j)}try{const{data:j,error:C}=await Y.from("financeiro_fluxo").select("*").eq("tecnico_id",r).eq("status","PENDENTE");!C&&j&&j.forEach(E=>{E.tipo==="ADIANTAMENTO"?f+=E.valor:E.tipo==="BONUS"&&(p+=E.valor),g.push(E.id)})}catch(j){console.warn("Tabela financeiro_fluxo no acessvel:",j)}let y=0;const _=[];let k=[];try{const{data:j,error:C}=await Y.from("despesas_tecnicos").select("*").eq("tecnico_id",r).eq("status","aprovado");!C&&j&&(k=j,k.forEach(E=>{y+=Number(E.valor)||0,_.push(E.id)}))}catch(j){console.warn("Tabela despesas_tecnicos no acessvel:",j)}let b=[];if(u.length>0){const{data:j}=await Y.from("ordens_servico").select("id, cliente_nome, descricao_servico, data_agendamento, valor_total, status").in("id",u);j&&(b=j.map(C=>{const E=v==null?void 0:v.find(P=>P.ordem_servico_id===C.id);return{...C,commissionValue:(E==null?void 0:E.valor_comissao)||0}}))}const N=l+p+y-f;return{technicianId:r,technicianName:t.nome||t.nome_completo||"Tcnico",technicianAvatar:t.avatar_url,totalCommission:l,totalAdvances:f,totalBonus:p,totalReimbursements:y,finalBalance:N,osCount:u.length,osIds:u,osDetails:b,advancesIds:g,commissionIds:d,expenseIds:_,expenseDetails:k||[]}}catch(t){throw console.error("Error calculating balance:",t),t}},closeMonth:async(r,t)=>{try{if(r.commissionIds.length>0){const{error:a}=await Y.from("historico_comissoes").update({status_pagamento:"pago"}).in("id",r.commissionIds);if(a)throw a}if(r.osIds.length>0&&await Y.from("ordens_servico").update({paga_ao_tecnico:!0}).in("id",r.osIds),r.advancesIds.length>0){const{error:a}=await Y.from("financeiro_fluxo").update({status:"PROCESSADO"}).in("id",r.advancesIds);if(a)throw a}if(r.expenseIds&&r.expenseIds.length>0){const{error:a}=await Y.from("despesas_tecnicos").update({status:"pago"}).in("id",r.expenseIds);if(a)throw a}const{error:s}=await Y.from("financeiro_fluxo").insert({empresa_id:t,tecnico_id:r.technicianId,tipo:"FECHAMENTO",valor:r.finalBalance,descricao:`Fechamento de comisses (${r.osCount} OSs)`,status:"PROCESSADO"});if(s)throw s;return!0}catch(s){throw console.error("Error closing month:",s),s}},getPendingExpenses:async r=>{const{data:t,error:s}=await Y.from("despesas_tecnicos").select("*").eq("tecnico_id",r).eq("status_aprovacao","pendente").order("created_at",{ascending:!0});if(s)throw s;return t||[]},getApprovedExpenses:async r=>{const{data:t,error:s}=await Y.from("despesas_tecnicos").select("*").eq("tecnico_id",r).eq("status_aprovacao","aprovado").eq("status","pendente").eq("origem_pagamento","proprio").order("created_at",{ascending:!0});if(s)throw s;return t||[]},approveRejectExpense:async(r,t)=>{const s={status_aprovacao:t};t==="rejeitado"&&(s.status="rejeitado");const{error:a}=await Y.from("despesas_tecnicos").update(s).eq("id",r);if(a)throw a;return!0},authorizeExpense:async r=>{const{error:t}=await Y.from("despesas_tecnicos").update({status:"aprovado"}).eq("id",r);if(t)throw t;return!0}};function m_(){const{userData:r}=At();Ot();const[t,s]=w.useState(!0),[a,l]=w.useState(!1),[u,d]=w.useState([]),[f,p]=w.useState(null),[g,v]=w.useState(null),[y,_]=w.useState([]),[k,b]=w.useState([]);w.useEffect(()=>{r!=null&&r.empresa_id&&N()},[r==null?void 0:r.empresa_id]),w.useEffect(()=>{f?j(f):(v(null),_([]),b([]))},[f]);const N=async()=>{var A,U;try{const{data:K,error:ce}=await Y.from("usuarios").select("*").eq("empresa_id",r.empresa_id).eq("cargo","tecnico").order("nome_completo");if(ce)throw ce;console.log("Technicians loaded:",K);let fe=K||[];((A=r==null?void 0:r.cargo)==null?void 0:A.toLowerCase())==="tecnico"&&(fe=fe.filter(Ce=>Ce.id===r.id)),d(fe),fe.length>0&&((U=r==null?void 0:r.cargo)==null?void 0:U.toLowerCase())==="tecnico"&&p(fe[0].id)}catch(K){console.error("Error fetching technicians:",K)}finally{s(!1)}},j=async A=>{s(!0);try{const[U,K,ce]=await Promise.all([_r.getTechnicianBalance(A),_r.getPendingExpenses(A),_r.getApprovedExpenses(A)]);v(U),_(K),b(ce)}catch(U){console.error("Error loading balance:",U),alert("Erro ao carregar saldo do tcnico")}finally{s(!1)}},C=async(A,U)=>{try{await _r.approveRejectExpense(A,U),f&&await j(f)}catch(K){console.error("Error updating expense:",K),alert("Erro ao atualizar despesa")}},E=async A=>{try{await _r.authorizeExpense(A),f&&await j(f)}catch(U){console.error("Error authorizing expense:",U),alert("Erro ao autorizar despesa")}},P=async()=>{if(!(!g||!f)&&confirm(`Confirma o fechamento do ms para ${g.technicianName}?
Valor: ${M(g.finalBalance)}
Isso marcar ${g.osCount} OSs como pagas.`)){l(!0);try{await _r.closeMonth(g,r.empresa_id),alert("Ms fechado com sucesso!"),await j(f)}catch(A){console.error("Error closing month:",A),alert("Erro ao realizar fechamento")}finally{l(!1)}}},M=A=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(A);return t&&!u.length?o.jsx("div",{className:"p-8 text-center text-emerald-600",children:"Carregando financeiro..."}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-slate-50 to-emerald-100/50 p-4 md:p-8 space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-emerald-950 tracking-tight",children:"Fechamento Financeiro"}),o.jsx("p",{className:"text-emerald-700/80",children:"Gerencie comisses, adiantamentos e pagamentos."})]}),f&&g&&o.jsxs("div",{className:"flex items-center gap-4 animate-in slide-in-from-right-4 duration-700",children:[o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-lg font-bold text-emerald-950",children:g.technicianName}),o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),o.jsx("p",{className:"text-xs font-medium text-emerald-600",children:"Tcnico Ativo"})]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-emerald-100 shadow-xl overflow-hidden bg-white flex items-center justify-center",children:g.technicianAvatar?o.jsx("img",{src:g.technicianAvatar,alt:g.technicianName,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-2xl font-bold text-emerald-600",children:g.technicianName.charAt(0)})}),o.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 bg-emerald-500 border-2 border-white rounded-full"})]})]})]}),o.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x",children:u.map(A=>o.jsxs("button",{onClick:()=>p(A.id),className:"group flex flex-col items-center gap-2 min-w-[80px] snap-center transition-all",children:[o.jsxs("div",{className:Ee("w-16 h-16 rounded-full border-2 p-1 transition-all duration-300 relative",f===A.id?"border-emerald-500 scale-110 shadow-lg shadow-emerald-200":"border-transparent group-hover:border-emerald-200"),children:[o.jsx("div",{className:Ee("w-full h-full rounded-full overflow-hidden border border-slate-100 flex items-center justify-center bg-white",f===A.id?"ring-2 ring-emerald-100":""),children:A.avatar?o.jsx("img",{src:A.avatar,alt:A.nome_completo,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-xl font-bold text-slate-400 group-hover:text-emerald-500",children:(A.nome_completo||"T").charAt(0)})}),f===A.id&&o.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white"})]}),o.jsx("span",{className:Ee("text-xs font-medium truncate max-w-[80px] transition-colors",f===A.id?"text-emerald-800 font-bold":"text-slate-500 group-hover:text-emerald-600"),children:(A.nome_completo||"Tcnico").split(" ")[0]})]},A.id))}),f&&g?o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/60 backdrop-blur-xl border border-white/50 shadow-2xl shadow-emerald-100/50 p-6 md:p-10",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-400/20 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-teal-400/20 rounded-full blur-3xl -ml-16 -mb-16 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 grid gap-8 md:grid-cols-3",children:[o.jsxs("div",{className:"md:col-span-1 space-y-2",children:[o.jsx("span",{className:"text-sm font-bold uppercase tracking-wider text-emerald-800/60",children:"Saldo a Pagar"}),o.jsx("div",{className:"flex items-baseline gap-1",children:o.jsx("h2",{className:"text-5xl md:text-6xl font-black text-emerald-900 drop-shadow-sm",children:M(g.finalBalance)})}),o.jsx("p",{className:"text-xs text-emerald-700 font-medium bg-emerald-100/50 py-1 px-3 rounded-full w-fit",children:"Disponvel para saque"})]}),o.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-white/50 rounded-2xl p-4 border border-white/60 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg text-emerald-600",children:o.jsx(Jc,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Comisses"})]}),o.jsx("p",{className:"text-2xl font-bold text-slate-800",children:M(g.totalCommission)}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:[g.osCount," Ordens de Servio"]})]}),o.jsxs("div",{className:"bg-white/50 rounded-2xl p-4 border border-white/60 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:o.jsx(fn,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Reembolsos"})]}),o.jsx("p",{className:"text-2xl font-bold text-slate-800",children:M(g.totalReimbursements)}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Despesas Aprovadas"})]}),o.jsxs("div",{className:"bg-white/50 rounded-2xl p-4 border border-white/60 shadow-sm col-span-2 md:col-span-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg text-red-600",children:o.jsx(mf,{className:"h-5 w-5"})}),o.jsx("span",{className:"text-sm font-semibold text-slate-600",children:"Adiantamentos"})]}),o.jsx("p",{className:"text-2xl font-bold text-slate-800",children:M(g.totalAdvances)}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Descontado do total"})]})]})]}),o.jsxs("div",{className:"mt-8 pt-8 border-t border-emerald-900/5 flex flex-col md:flex-row justify-between items-center gap-4",children:[o.jsx("p",{className:"text-sm text-slate-500 italic",children:"* Ao zerar o ms, todas as OSs listadas sero marcadas como pagas."}),o.jsx(he,{onClick:P,disabled:a||g.finalBalance<=0,className:Ee("h-14 px-8 rounded-xl text-lg font-bold shadow-xl shadow-emerald-300/30 transition-all",g.finalBalance>0?"bg-gradient-to-r from-emerald-600 to-teal-500 hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:a?"Processando...":o.jsxs(o.Fragment,{children:[o.jsx(ox,{className:"mr-2 h-6 w-6"}),"Zerar Ms e Pagar"]})})]})]}),k.length>0&&o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-bold text-blue-600 flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"})," Despesas Aprovadas - Escolha Como Reembolsar"]}),o.jsxs("p",{className:"text-sm text-slate-500 mt-1 bg-blue-50 p-2 rounded-lg",children:["Estas despesas foram pagas do bolso do tcnico. Escolha como devolver:",o.jsx("br",{})," ",o.jsx("strong",{children:"PIX/Dinheiro:"})," Voc devolve diretamente ao tcnico (no entra no saldo)",o.jsx("br",{})," ",o.jsx("strong",{children:"Adicionar ao Saldo:"})," O valor entra no prximo pagamento junto com as comisses"]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:k.map(A=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-blue-200 shadow-lg shadow-blue-100/50 flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-800",children:A.descricao}),o.jsx("span",{className:"text-sm font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:M(A.valor)})]}),o.jsxs("div",{className:"text-xs text-slate-500 mb-2 flex gap-2",children:[o.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),o.jsx("span",{children:""}),o.jsx("span",{className:"uppercase",children:A.categoria})]}),A.comprovante_url&&o.jsx("a",{href:A.comprovante_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1 mb-3",children:" Ver Comprovante"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs text-slate-400 text-center font-medium",children:"Como voc vai reembolsar?"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(he,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white text-xs",onClick:()=>E(A.id),children:" PIX"}),o.jsx(he,{size:"sm",className:"bg-amber-600 hover:bg-amber-700 text-white text-xs",onClick:()=>E(A.id),children:" Dinheiro"})]}),o.jsx(he,{size:"sm",variant:"outline",className:"w-full border-purple-300 text-purple-700 hover:bg-purple-50 text-xs",onClick:()=>E(A.id),children:" Adicionar ao Saldo"})]})]},A.id))})]}),y.length>0&&o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-amber-600 flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"Despesas Pendentes de Aprovao"]}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3 border border-emerald-200",children:[o.jsx("h4",{className:"font-bold text-emerald-700 flex items-center gap-2",children:" Pago com Carto/Dinheiro da Empresa"}),o.jsx("p",{className:"text-xs text-emerald-600 mt-1",children:"O tcnico usou o carto corporativo ou dinheiro adiantado. Apenas aprove para registrar o gasto."})]}),y.filter(A=>A.origem_pagamento!=="proprio").map(A=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-emerald-200 shadow-md flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-800",children:A.descricao}),o.jsx("span",{className:"text-sm font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-md border border-emerald-100",children:M(A.valor)})]}),o.jsxs("div",{className:"text-xs text-slate-500 mb-2 flex flex-wrap gap-2",children:[o.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),o.jsx("span",{children:""}),o.jsx("span",{className:"uppercase",children:A.categoria})]}),A.comprovante_url&&o.jsx("a",{href:A.comprovante_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 hover:underline flex items-center gap-1 mb-3",children:" Ver Comprovante"})]}),o.jsxs("div",{className:"flex gap-2 mt-auto",children:[o.jsx(he,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>C(A.id,"rejeitado"),children:" Rejeitar"}),o.jsx(he,{size:"sm",className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white",onClick:()=>C(A.id,"aprovado"),children:" Aprovar"})]})]},A.id)),y.filter(A=>A.origem_pagamento!=="proprio").length===0&&o.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"Nenhuma despesa com carto da empresa"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[o.jsx("h4",{className:"font-bold text-blue-700 flex items-center gap-2",children:" Pago do Bolso do Tcnico"}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"O tcnico pagou com seu prprio dinheiro/carto. Aps aprovar, escolha como devolver: PIX, Dinheiro ou Saldo."})]}),y.filter(A=>A.origem_pagamento==="proprio").map(A=>o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-blue-200 shadow-md flex flex-col justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-bold text-slate-800",children:A.descricao}),o.jsx("span",{className:"text-sm font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:M(A.valor)})]}),o.jsxs("div",{className:"text-xs text-slate-500 mb-2 flex flex-wrap gap-2",children:[o.jsx("span",{children:new Date(A.created_at).toLocaleDateString()}),o.jsx("span",{children:""}),o.jsx("span",{className:"uppercase",children:A.categoria})]}),A.comprovante_url&&o.jsx("a",{href:A.comprovante_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center gap-1 mb-3",children:" Ver Comprovante"})]}),o.jsxs("div",{className:"flex gap-2 mt-auto",children:[o.jsx(he,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-200 hover:bg-red-50",onClick:()=>C(A.id,"rejeitado"),children:" Rejeitar"}),o.jsx(he,{size:"sm",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>C(A.id,"aprovado"),children:" Aprovar"})]})]},A.id)),y.filter(A=>A.origem_pagamento==="proprio").length===0&&o.jsx("div",{className:"text-center text-slate-400 py-4 text-sm",children:"Nenhuma despesa para reembolso"})]})]})]}),g.osIds.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xl font-bold text-emerald-900 flex items-center gap-2",children:[o.jsx(fn,{className:"h-5 w-5"}),"Detalhamento de Servios"]}),o.jsx("div",{className:"bg-white/40 backdrop-blur-md rounded-2xl border border-white/60 shadow-sm overflow-hidden",children:o.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-emerald-900/5 text-emerald-900 sticky top-0 backdrop-blur-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4 font-bold",children:"Data"}),o.jsx("th",{className:"p-4 font-bold",children:"Cliente"}),o.jsx("th",{className:"p-4 font-bold",children:"Servio/Detalhes"}),o.jsx("th",{className:"p-4 font-bold",children:"Valor OS"}),o.jsx("th",{className:"p-4 font-bold text-right",children:"Comisso"})]})}),o.jsx("tbody",{className:"divide-y divide-emerald-900/5",children:g.osDetails&&g.osDetails.length>0?g.osDetails.map(A=>o.jsxs("tr",{className:"hover:bg-emerald-50/50 transition-colors",children:[o.jsx("td",{className:"p-4 text-slate-600",children:new Date(A.created_at||new Date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"p-4 font-medium text-emerald-900",children:A.cliente_nome||"Cliente no identificado"}),o.jsxs("td",{className:"p-4 text-slate-600 max-w-xs truncate",children:[o.jsx("span",{className:"font-medium text-slate-900 block",children:A.descricao_servico||"Servio padro"}),o.jsxs("span",{className:"text-xs text-slate-400",children:["Responsvel: ",g.technicianName]})]}),o.jsx("td",{className:"p-4 text-slate-600",children:M(A.valor_total)}),o.jsx("td",{className:"p-4 text-right font-bold text-emerald-600",children:M(A.commissionValue)})]},A.id)):o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"p-8 text-center text-muted-foreground",children:"Nenhum detalhe disponvel."})})})]})})})]}),g.expenseDetails&&g.expenseDetails.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"text-xl font-bold text-emerald-900 flex items-center gap-2",children:[o.jsx(mf,{className:"h-5 w-5 text-red-500"}),"Detalhamento de Despesas (Reembolso)"]}),o.jsx("div",{className:"bg-white/40 backdrop-blur-md rounded-2xl border border-white/60 shadow-sm overflow-hidden",children:o.jsx("div",{className:"max-h-96 overflow-y-auto",children:o.jsxs("table",{className:"w-full text-left text-sm",children:[o.jsx("thead",{className:"bg-red-900/5 text-red-900 sticky top-0 backdrop-blur-sm",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4 font-bold",children:"Data"}),o.jsx("th",{className:"p-4 font-bold",children:"Descrio"}),o.jsx("th",{className:"p-4 font-bold",children:"Categoria"}),o.jsx("th",{className:"p-4 font-bold text-right",children:"Valor"})]})}),o.jsx("tbody",{className:"divide-y divide-red-900/5",children:g.expenseDetails.map(A=>o.jsxs("tr",{className:"hover:bg-red-50/50 transition-colors",children:[o.jsx("td",{className:"p-4 text-slate-600",children:new Date(A.created_at||new Date).toLocaleDateString("pt-BR")}),o.jsx("td",{className:"p-4 font-medium text-slate-900",children:A.descricao||"Sem descrio"}),o.jsx("td",{className:"p-4 text-slate-600",children:o.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-1 rounded-full text-xs",children:A.categoria||"Geral"})}),o.jsx("td",{className:"p-4 text-right font-bold text-red-600",children:M(Number(A.valor))})]},A.id))})]})})})]})]}):o.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[o.jsx(Kc,{className:"h-16 w-16 mb-4 opacity-20"}),o.jsx("p",{className:"text-lg font-medium",children:"Selecione um tcnico para visualizar o fechamento"})]})]})}function p_(){var N,j;const{userData:r}=At(),[t,s]=w.useState([]),[a,l]=w.useState(!0),[u,d]=w.useState("ALL"),[f,p]=w.useState("fluxo");if(((N=r==null?void 0:r.cargo)==null?void 0:N.toLowerCase())==="tecnico"||((j=r==null?void 0:r.cargo)==null?void 0:j.toLowerCase())==="tcnico")return o.jsx(qc,{to:"/tecnico/financeiro",replace:!0});w.useEffect(()=>{r!=null&&r.empresa_id&&v()},[r==null?void 0:r.empresa_id]);const v=async()=>{try{const[C,E]=await Promise.all([Y.from("financeiro_fluxo").select("*").eq("empresa_id",r.empresa_id).order("data_lancamento",{ascending:!1}),Y.from("despesas_tecnicos").select("*").eq("empresa_id",r.empresa_id).eq("status_aprovacao","aprovado").neq("status","pago")]);if(C.error)throw C.error;if(E.error)throw E.error;const P=(E.data||[]).map(A=>({id:A.id,tipo:"SAIDA",valor:Number(A.valor),descricao:`(A Pagar) ${A.descricao}`,status:"APROVADO",data_lancamento:A.created_at,categoria:A.categoria})),M=[...C.data||[],...P].sort((A,U)=>new Date(U.data_lancamento).getTime()-new Date(A.data_lancamento).getTime());s(M)}catch(C){console.error("Erro ao buscar fluxo:",C)}finally{l(!1)}},_=t.reduce((C,E)=>{const P=Number(E.valor);return E.tipo==="ENTRADA"?(C.receitas+=P,C.saldo+=P):(C.despesas+=P,C.saldo-=P),C},{receitas:0,despesas:0,saldo:0}),k=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),b=t.filter(C=>u==="ALL"?!0:u==="ENTRADA"?C.tipo==="ENTRADA":C.tipo!=="ENTRADA");return o.jsxs("div",{className:"min-h-screen bg-slate-50 p-4 md:p-8 space-y-8",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Gesto Financeira"}),o.jsx("p",{className:"text-slate-500",children:"Acompanhe o fluxo de caixa e comisses."})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex space-x-1 rounded-xl bg-slate-200 p-1 w-full md:w-[400px]",children:[o.jsx("button",{onClick:()=>p("fluxo"),className:Ee("w-full rounded-lg py-2.5 text-sm font-medium leading-5 transition-all text-center",f==="fluxo"?"bg-white text-emerald-700 shadow":"text-slate-600 hover:bg-white/[0.12] hover:text-emerald-600"),children:"Fluxo de Caixa"}),o.jsx("button",{onClick:()=>p("comissoes"),className:Ee("w-full rounded-lg py-2.5 text-sm font-medium leading-5 transition-all text-center",f==="comissoes"?"bg-white text-emerald-700 shadow":"text-slate-600 hover:bg-white/[0.12] hover:text-emerald-600"),children:"Comisses e Fechamento"})]}),f==="fluxo"&&o.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs(ht,{className:"bg-emerald-50 border-emerald-100 shadow-sm",children:[o.jsxs(Mn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Un,{className:"text-sm font-medium text-emerald-700 uppercase tracking-wider",children:"Receitas"}),o.jsx(ax,{className:"h-5 w-5 text-emerald-600"})]}),o.jsx(Tt,{children:o.jsx("div",{className:"text-3xl font-bold text-emerald-900",children:k(_.receitas)})})]}),o.jsxs(ht,{className:"bg-red-50 border-red-100 shadow-sm",children:[o.jsxs(Mn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Un,{className:"text-sm font-medium text-red-700 uppercase tracking-wider",children:"Despesas"}),o.jsx(sx,{className:"h-5 w-5 text-red-600"})]}),o.jsx(Tt,{children:o.jsx("div",{className:"text-3xl font-bold text-red-900",children:k(_.despesas)})})]}),o.jsxs(ht,{className:Ee("border shadow-sm",_.saldo>=0?"bg-white border-slate-200":"bg-red-50/50 border-red-100"),children:[o.jsxs(Mn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Un,{className:"text-sm font-medium text-slate-700 uppercase tracking-wider",children:"Saldo Total"}),o.jsx(Kc,{className:Ee("h-5 w-5",_.saldo>=0?"text-slate-900":"text-red-600")})]}),o.jsx(Tt,{children:o.jsx("div",{className:Ee("text-3xl font-bold",_.saldo>=0?"text-slate-900":"text-red-700"),children:k(_.saldo)})})]})]}),o.jsxs(ht,{className:"border-slate-200 shadow-sm",children:[o.jsx(Mn,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Un,{children:"Transaes Recentes"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(he,{variant:u==="ALL"?"default":"outline",size:"sm",onClick:()=>d("ALL"),className:u==="ALL"?"bg-slate-800 text-white hover:bg-slate-700":"",children:"Todas"}),o.jsx(he,{variant:u==="ENTRADA"?"default":"outline",size:"sm",onClick:()=>d("ENTRADA"),className:u==="ENTRADA"?"bg-emerald-600 hover:bg-emerald-700 text-white":"text-emerald-600 border-emerald-200 bg-emerald-50 hover:bg-emerald-100",children:"Entradas"}),o.jsx(he,{variant:u==="SAIDA"?"default":"outline",size:"sm",onClick:()=>d("SAIDA"),className:u==="SAIDA"?"bg-red-600 hover:bg-red-700 text-white":"text-red-600 border-red-200 bg-red-50 hover:bg-red-100",children:"Sadas"})]})]})}),o.jsx(Tt,{children:o.jsx("div",{className:"rounded-md border",children:o.jsxs("table",{className:"w-full text-sm text-left",children:[o.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium",children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-4",children:"Descrio"}),o.jsx("th",{className:"p-4",children:"Tipo"}),o.jsx("th",{className:"p-4",children:"Data"}),o.jsx("th",{className:"p-4 text-right",children:"Valor"})]})}),o.jsx("tbody",{className:"divide-y divide-slate-100",children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"Carregando fluxo..."})}):b.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-500",children:"Nenhuma transao encontrada."})}):b.map(C=>o.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[o.jsxs("td",{className:"p-4 font-medium text-slate-700",children:[C.descricao||"Sem descrio",o.jsx("div",{className:"text-xs text-slate-400 font-normal",children:C.categoria})]}),o.jsx("td",{className:"p-4",children:o.jsx("span",{className:Ee("px-2 py-1 rounded-full text-xs font-bold uppercase",C.tipo==="ENTRADA"?"bg-emerald-100 text-emerald-700":C.tipo==="FECHAMENTO"?"bg-slate-100 text-slate-700":"bg-red-100 text-red-700"),children:C.tipo})}),o.jsx("td",{className:"p-4 text-slate-500",children:new Date(C.data_lancamento).toLocaleDateString("pt-BR")}),o.jsxs("td",{className:Ee("p-4 text-right font-bold",C.tipo==="ENTRADA"?"text-emerald-700":"text-red-700"),children:[C.tipo==="ENTRADA"?"+":"-"," ",k(C.valor)]})]},C.id))})]})})})]})]}),f==="comissoes"&&o.jsx("div",{className:"min-h-screen",children:o.jsx(m_,{})})]})]})}const ap=6048e5,g_=864e5,Vf=Symbol.for("constructDateFrom");function pn(r,t){return typeof r=="function"?r(t):r&&typeof r=="object"&&Vf in r?r[Vf](t):r instanceof Date?new r.constructor(t):new Date(t)}function pr(r,t){return pn(t||r,r)}let v_={};function hi(){return v_}function Ca(r,t){var f,p,g,v;const s=hi(),a=(t==null?void 0:t.weekStartsOn)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??s.weekStartsOn??((v=(g=s.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,l=pr(r,t==null?void 0:t.in),u=l.getDay(),d=(u<a?7:0)+u-a;return l.setDate(l.getDate()-d),l.setHours(0,0,0,0),l}function si(r,t){return Ca(r,{...t,weekStartsOn:1})}function op(r,t){const s=pr(r,t==null?void 0:t.in),a=s.getFullYear(),l=pn(s,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);const u=si(l),d=pn(s,0);d.setFullYear(a,0,4),d.setHours(0,0,0,0);const f=si(d);return s.getTime()>=u.getTime()?a+1:s.getTime()>=f.getTime()?a:a-1}function Hf(r){const t=pr(r),s=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return s.setUTCFullYear(t.getFullYear()),+r-+s}function x_(r,...t){const s=pn.bind(null,t.find(a=>typeof a=="object"));return t.map(s)}function Kf(r,t){const s=pr(r,t==null?void 0:t.in);return s.setHours(0,0,0,0),s}function y_(r,t,s){const[a,l]=x_(s==null?void 0:s.in,r,t),u=Kf(a),d=Kf(l),f=+u-Hf(u),p=+d-Hf(d);return Math.round((f-p)/g_)}function w_(r,t){const s=op(r,t),a=pn(r,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),si(a)}function b_(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function __(r){return!(!b_(r)&&typeof r!="number"||isNaN(+pr(r)))}function j_(r,t){const s=pr(r,t==null?void 0:t.in);return s.setFullYear(s.getFullYear(),0,1),s.setHours(0,0,0,0),s}const N_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},k_=(r,t,s)=>{let a;const l=N_[r];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",t.toString()),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"in "+a:a+" ago":a};function ks(r){return(t={})=>{const s=t.width?String(t.width):r.defaultWidth;return r.formats[s]||r.formats[r.defaultWidth]}}const S_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},E_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},C_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},T_={date:ks({formats:S_,defaultWidth:"full"}),time:ks({formats:E_,defaultWidth:"full"}),dateTime:ks({formats:C_,defaultWidth:"full"})},R_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P_=(r,t,s,a)=>R_[r];function jr(r){return(t,s)=>{const a=s!=null&&s.context?String(s.context):"standalone";let l;if(a==="formatting"&&r.formattingValues){const d=r.defaultFormattingWidth||r.defaultWidth,f=s!=null&&s.width?String(s.width):d;l=r.formattingValues[f]||r.formattingValues[d]}else{const d=r.defaultWidth,f=s!=null&&s.width?String(s.width):r.defaultWidth;l=r.values[f]||r.values[d]}const u=r.argumentCallback?r.argumentCallback(t):t;return l[u]}}const O_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},A_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},I_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},L_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},M_=(r,t)=>{const s=Number(r),a=s%100;if(a>20||a<10)switch(a%10){case 1:return s+"st";case 2:return s+"nd";case 3:return s+"rd"}return s+"th"},U_={ordinalNumber:M_,era:jr({values:O_,defaultWidth:"wide"}),quarter:jr({values:A_,defaultWidth:"wide",argumentCallback:r=>r-1}),month:jr({values:I_,defaultWidth:"wide"}),day:jr({values:L_,defaultWidth:"wide"}),dayPeriod:jr({values:D_,defaultWidth:"wide",formattingValues:$_,defaultFormattingWidth:"wide"})};function Nr(r){return(t,s={})=>{const a=s.width,l=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=t.match(l);if(!u)return null;const d=u[0],f=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(f)?z_(f,y=>y.test(d)):F_(f,y=>y.test(d));let g;g=r.valueCallback?r.valueCallback(p):p,g=s.valueCallback?s.valueCallback(g):g;const v=t.slice(d.length);return{value:g,rest:v}}}function F_(r,t){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&t(r[s]))return s}function z_(r,t){for(let s=0;s<r.length;s++)if(t(r[s]))return s}function ip(r){return(t,s={})=>{const a=t.match(r.matchPattern);if(!a)return null;const l=a[0],u=t.match(r.parsePattern);if(!u)return null;let d=r.valueCallback?r.valueCallback(u[0]):u[0];d=s.valueCallback?s.valueCallback(d):d;const f=t.slice(l.length);return{value:d,rest:f}}}const B_=/^(\d+)(th|st|nd|rd)?/i,W_=/\d+/i,q_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},V_={any:[/^b/i,/^(a|c)/i]},H_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},K_={any:[/1/i,/2/i,/3/i,/4/i]},G_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},J_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Y_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Q_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},X_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Z_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},e1={ordinalNumber:ip({matchPattern:B_,parsePattern:W_,valueCallback:r=>parseInt(r,10)}),era:Nr({matchPatterns:q_,defaultMatchWidth:"wide",parsePatterns:V_,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:H_,defaultMatchWidth:"wide",parsePatterns:K_,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Nr({matchPatterns:G_,defaultMatchWidth:"wide",parsePatterns:J_,defaultParseWidth:"any"}),day:Nr({matchPatterns:Y_,defaultMatchWidth:"wide",parsePatterns:Q_,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:X_,defaultMatchWidth:"any",parsePatterns:Z_,defaultParseWidth:"any"})},t1={code:"en-US",formatDistance:k_,formatLong:T_,formatRelative:P_,localize:U_,match:e1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r1(r,t){const s=pr(r,t==null?void 0:t.in);return y_(s,j_(s))+1}function n1(r,t){const s=pr(r,t==null?void 0:t.in),a=+si(s)-+w_(s);return Math.round(a/ap)+1}function lp(r,t){var v,y,_,k;const s=pr(r,t==null?void 0:t.in),a=s.getFullYear(),l=hi(),u=(t==null?void 0:t.firstWeekContainsDate)??((y=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??l.firstWeekContainsDate??((k=(_=l.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=pn((t==null?void 0:t.in)||r,0);d.setFullYear(a+1,0,u),d.setHours(0,0,0,0);const f=Ca(d,t),p=pn((t==null?void 0:t.in)||r,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=Ca(p,t);return+s>=+f?a+1:+s>=+g?a:a-1}function s1(r,t){var f,p,g,v;const s=hi(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(g=s.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,l=lp(r,t),u=pn((t==null?void 0:t.in)||r,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),Ca(u,t)}function a1(r,t){const s=pr(r,t==null?void 0:t.in),a=+Ca(s,t)-+s1(s,t);return Math.round(a/ap)+1}function Me(r,t){const s=r<0?"-":"",a=Math.abs(r).toString().padStart(t,"0");return s+a}const cn={y(r,t){const s=r.getFullYear(),a=s>0?s:1-s;return Me(t==="yy"?a%100:a,t.length)},M(r,t){const s=r.getMonth();return t==="M"?String(s+1):Me(s+1,2)},d(r,t){return Me(r.getDate(),t.length)},a(r,t){const s=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.toUpperCase();case"aaa":return s;case"aaaaa":return s[0];case"aaaa":default:return s==="am"?"a.m.":"p.m."}},h(r,t){return Me(r.getHours()%12||12,t.length)},H(r,t){return Me(r.getHours(),t.length)},m(r,t){return Me(r.getMinutes(),t.length)},s(r,t){return Me(r.getSeconds(),t.length)},S(r,t){const s=t.length,a=r.getMilliseconds(),l=Math.trunc(a*Math.pow(10,s-3));return Me(l,t.length)}},xs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gf={G:function(r,t,s){const a=r.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return s.era(a,{width:"abbreviated"});case"GGGGG":return s.era(a,{width:"narrow"});case"GGGG":default:return s.era(a,{width:"wide"})}},y:function(r,t,s){if(t==="yo"){const a=r.getFullYear(),l=a>0?a:1-a;return s.ordinalNumber(l,{unit:"year"})}return cn.y(r,t)},Y:function(r,t,s,a){const l=lp(r,a),u=l>0?l:1-l;if(t==="YY"){const d=u%100;return Me(d,2)}return t==="Yo"?s.ordinalNumber(u,{unit:"year"}):Me(u,t.length)},R:function(r,t){const s=op(r);return Me(s,t.length)},u:function(r,t){const s=r.getFullYear();return Me(s,t.length)},Q:function(r,t,s){const a=Math.ceil((r.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Me(a,2);case"Qo":return s.ordinalNumber(a,{unit:"quarter"});case"QQQ":return s.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return s.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,t,s){const a=Math.ceil((r.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Me(a,2);case"qo":return s.ordinalNumber(a,{unit:"quarter"});case"qqq":return s.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return s.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,t,s){const a=r.getMonth();switch(t){case"M":case"MM":return cn.M(r,t);case"Mo":return s.ordinalNumber(a+1,{unit:"month"});case"MMM":return s.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return s.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(a,{width:"wide",context:"formatting"})}},L:function(r,t,s){const a=r.getMonth();switch(t){case"L":return String(a+1);case"LL":return Me(a+1,2);case"Lo":return s.ordinalNumber(a+1,{unit:"month"});case"LLL":return s.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return s.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(a,{width:"wide",context:"standalone"})}},w:function(r,t,s,a){const l=a1(r,a);return t==="wo"?s.ordinalNumber(l,{unit:"week"}):Me(l,t.length)},I:function(r,t,s){const a=n1(r);return t==="Io"?s.ordinalNumber(a,{unit:"week"}):Me(a,t.length)},d:function(r,t,s){return t==="do"?s.ordinalNumber(r.getDate(),{unit:"date"}):cn.d(r,t)},D:function(r,t,s){const a=r1(r);return t==="Do"?s.ordinalNumber(a,{unit:"dayOfYear"}):Me(a,t.length)},E:function(r,t,s){const a=r.getDay();switch(t){case"E":case"EE":case"EEE":return s.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return s.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(a,{width:"short",context:"formatting"});case"EEEE":default:return s.day(a,{width:"wide",context:"formatting"})}},e:function(r,t,s,a){const l=r.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Me(u,2);case"eo":return s.ordinalNumber(u,{unit:"day"});case"eee":return s.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return s.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(l,{width:"short",context:"formatting"});case"eeee":default:return s.day(l,{width:"wide",context:"formatting"})}},c:function(r,t,s,a){const l=r.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Me(u,t.length);case"co":return s.ordinalNumber(u,{unit:"day"});case"ccc":return s.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return s.day(l,{width:"narrow",context:"standalone"});case"cccccc":return s.day(l,{width:"short",context:"standalone"});case"cccc":default:return s.day(l,{width:"wide",context:"standalone"})}},i:function(r,t,s){const a=r.getDay(),l=a===0?7:a;switch(t){case"i":return String(l);case"ii":return Me(l,t.length);case"io":return s.ordinalNumber(l,{unit:"day"});case"iii":return s.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return s.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return s.day(a,{width:"short",context:"formatting"});case"iiii":default:return s.day(a,{width:"wide",context:"formatting"})}},a:function(r,t,s){const l=r.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(r,t,s){const a=r.getHours();let l;switch(a===12?l=xs.noon:a===0?l=xs.midnight:l=a/12>=1?"pm":"am",t){case"b":case"bb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(r,t,s){const a=r.getHours();let l;switch(a>=17?l=xs.evening:a>=12?l=xs.afternoon:a>=4?l=xs.morning:l=xs.night,t){case"B":case"BB":case"BBB":return s.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return s.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(r,t,s){if(t==="ho"){let a=r.getHours()%12;return a===0&&(a=12),s.ordinalNumber(a,{unit:"hour"})}return cn.h(r,t)},H:function(r,t,s){return t==="Ho"?s.ordinalNumber(r.getHours(),{unit:"hour"}):cn.H(r,t)},K:function(r,t,s){const a=r.getHours()%12;return t==="Ko"?s.ordinalNumber(a,{unit:"hour"}):Me(a,t.length)},k:function(r,t,s){let a=r.getHours();return a===0&&(a=24),t==="ko"?s.ordinalNumber(a,{unit:"hour"}):Me(a,t.length)},m:function(r,t,s){return t==="mo"?s.ordinalNumber(r.getMinutes(),{unit:"minute"}):cn.m(r,t)},s:function(r,t,s){return t==="so"?s.ordinalNumber(r.getSeconds(),{unit:"second"}):cn.s(r,t)},S:function(r,t){return cn.S(r,t)},X:function(r,t,s){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Yf(a);case"XXXX":case"XX":return In(a);case"XXXXX":case"XXX":default:return In(a,":")}},x:function(r,t,s){const a=r.getTimezoneOffset();switch(t){case"x":return Yf(a);case"xxxx":case"xx":return In(a);case"xxxxx":case"xxx":default:return In(a,":")}},O:function(r,t,s){const a=r.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Jf(a,":");case"OOOO":default:return"GMT"+In(a,":")}},z:function(r,t,s){const a=r.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Jf(a,":");case"zzzz":default:return"GMT"+In(a,":")}},t:function(r,t,s){const a=Math.trunc(+r/1e3);return Me(a,t.length)},T:function(r,t,s){return Me(+r,t.length)}};function Jf(r,t=""){const s=r>0?"-":"+",a=Math.abs(r),l=Math.trunc(a/60),u=a%60;return u===0?s+String(l):s+String(l)+t+Me(u,2)}function Yf(r,t){return r%60===0?(r>0?"-":"+")+Me(Math.abs(r)/60,2):In(r,t)}function In(r,t=""){const s=r>0?"-":"+",a=Math.abs(r),l=Me(Math.trunc(a/60),2),u=Me(a%60,2);return s+l+t+u}const Qf=(r,t)=>{switch(r){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},cp=(r,t)=>{switch(r){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},o1=(r,t)=>{const s=r.match(/(P+)(p+)?/)||[],a=s[1],l=s[2];if(!l)return Qf(r,t);let u;switch(a){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;case"PPPP":default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",Qf(a,t)).replace("{{time}}",cp(l,t))},i1={p:cp,P:o1},l1=/^D+$/,c1=/^Y+$/,u1=["D","DD","YY","YYYY"];function d1(r){return l1.test(r)}function h1(r){return c1.test(r)}function f1(r,t,s){const a=m1(r,t,s);if(console.warn(a),u1.includes(r))throw new RangeError(a)}function m1(r,t,s){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${t}\`) for formatting ${a} to the input \`${s}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const p1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v1=/^'([^]*?)'?$/,x1=/''/g,y1=/[a-zA-Z]/;function up(r,t,s){var v,y,_,k,b,N,j,C;const a=hi(),l=(s==null?void 0:s.locale)??a.locale??t1,u=(s==null?void 0:s.firstWeekContainsDate)??((y=(v=s==null?void 0:s.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??a.firstWeekContainsDate??((k=(_=a.locale)==null?void 0:_.options)==null?void 0:k.firstWeekContainsDate)??1,d=(s==null?void 0:s.weekStartsOn)??((N=(b=s==null?void 0:s.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??a.weekStartsOn??((C=(j=a.locale)==null?void 0:j.options)==null?void 0:C.weekStartsOn)??0,f=pr(r,s==null?void 0:s.in);if(!__(f))throw new RangeError("Invalid time value");let p=t.match(g1).map(E=>{const P=E[0];if(P==="p"||P==="P"){const M=i1[P];return M(E,l.formatLong)}return E}).join("").match(p1).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const P=E[0];if(P==="'")return{isToken:!1,value:w1(E)};if(Gf[P])return{isToken:!0,value:E};if(P.match(y1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:E}});l.localize.preprocessor&&(p=l.localize.preprocessor(f,p));const g={firstWeekContainsDate:u,weekStartsOn:d,locale:l};return p.map(E=>{if(!E.isToken)return E.value;const P=E.value;(!(s!=null&&s.useAdditionalWeekYearTokens)&&h1(P)||!(s!=null&&s.useAdditionalDayOfYearTokens)&&d1(P))&&f1(P,t,String(r));const M=Gf[P[0]];return M(f,P,l.localize,g)}).join("")}function w1(r){const t=r.match(v1);return t?t[1].replace(x1,"'"):r}const b1={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},_1=(r,t,s)=>{let a;const l=b1[r];return typeof l=="string"?a=l:t===1?a=l.one:a=l.other.replace("{{count}}",String(t)),s!=null&&s.addSuffix?s.comparison&&s.comparison>0?"em "+a:"h "+a:a},j1={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},N1={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},k1={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S1={date:ks({formats:j1,defaultWidth:"full"}),time:ks({formats:N1,defaultWidth:"full"}),dateTime:ks({formats:k1,defaultWidth:"full"})},E1={lastWeek:r=>{const t=r.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},C1=(r,t,s,a)=>{const l=E1[r];return typeof l=="function"?l(t):l},T1={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},R1={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},P1={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},O1={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},A1={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},I1={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},L1=(r,t)=>{const s=Number(r);return(t==null?void 0:t.unit)==="week"?s+"":s+""},D1={ordinalNumber:L1,era:jr({values:T1,defaultWidth:"wide"}),quarter:jr({values:R1,defaultWidth:"wide",argumentCallback:r=>r-1}),month:jr({values:P1,defaultWidth:"wide"}),day:jr({values:O1,defaultWidth:"wide"}),dayPeriod:jr({values:A1,defaultWidth:"wide",formattingValues:I1,defaultFormattingWidth:"wide"})},$1=/^(\d+)[o]?/i,M1=/\d+/i,U1={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},F1={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},z1={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},B1={any:[/1/i,/2/i,/3/i,/4/i]},W1={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},q1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},V1={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},H1={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},K1={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},G1={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},J1={ordinalNumber:ip({matchPattern:$1,parsePattern:M1,valueCallback:r=>parseInt(r,10)}),era:Nr({matchPatterns:U1,defaultMatchWidth:"wide",parsePatterns:F1,defaultParseWidth:"any"}),quarter:Nr({matchPatterns:z1,defaultMatchWidth:"wide",parsePatterns:B1,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Nr({matchPatterns:W1,defaultMatchWidth:"wide",parsePatterns:q1,defaultParseWidth:"any"}),day:Nr({matchPatterns:V1,defaultMatchWidth:"wide",parsePatterns:H1,defaultParseWidth:"any"}),dayPeriod:Nr({matchPatterns:K1,defaultMatchWidth:"any",parsePatterns:G1,defaultParseWidth:"any"})},dp={code:"pt-BR",formatDistance:_1,formatLong:S1,formatRelative:C1,localize:D1,match:J1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xf(){var l;const{userData:r,signOut:t}=At(),s=Ot(),{setFabAction:a}=gn()??{setFabAction:()=>{}};return w.useEffect(()=>(a(()=>s("/service-orders/new")),()=>a(null)),[s,a]),o.jsxs("div",{className:"min-h-screen bg-[#F0F4F2] p-4 space-y-6 pb-24 relative overflow-hidden",children:[o.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[50%] h-[50%] bg-emerald-300/20 rounded-full blur-[100px] pointer-events-none"}),o.jsx("div",{className:"fixed bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-teal-300/20 rounded-full blur-[100px] pointer-events-none"}),o.jsxs("header",{className:"relative z-10 flex items-center justify-between pt-2 pb-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold text-emerald-950 tracking-tight",children:["Ol, ",r!=null&&r.nome?r.nome.split(" ")[0]:"Tcnico"]}),o.jsx("p",{className:"text-emerald-700/80 text-sm font-medium",children:up(new Date,"EEEE, d 'de' MMMM",{locale:dp})})]}),o.jsx("div",{className:"h-12 w-12 bg-emerald-100/80 backdrop-blur-sm rounded-full flex items-center justify-center text-emerald-700 font-bold border border-white/50 shadow-sm",children:((l=r==null?void 0:r.nome)==null?void 0:l[0])||"T"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10",children:[o.jsxs(ht,{className:"group p-5 flex flex-col items-center justify-center gap-3 cursor-pointer bg-white/70 backdrop-blur-xl border border-white/40 shadow-sm hover:shadow-emerald-200/50 hover:bg-white/90 transition-all duration-300 rounded-[24px] h-36 active:scale-95",onClick:()=>s("/service-orders/new"),children:[o.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-emerald-400 to-green-500 rounded-2xl flex items-center justify-center text-white shadow-emerald-200 shadow-md group-hover:scale-110 transition-transform duration-300",children:o.jsx(Ur,{className:"h-7 w-7"})}),o.jsx("span",{className:"font-semibold text-emerald-900 text-sm tracking-wide",children:"Nova OS"})]}),o.jsxs(ht,{className:"group p-5 flex flex-col items-center justify-center gap-3 cursor-pointer bg-white/70 backdrop-blur-xl border border-white/40 shadow-sm hover:shadow-blue-200/50 hover:bg-white/90 transition-all duration-300 rounded-[24px] h-36 active:scale-95",onClick:()=>s("/service-orders"),children:[o.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-2xl flex items-center justify-center text-white shadow-blue-200 shadow-md group-hover:scale-110 transition-transform duration-300",children:o.jsx(Ss,{className:"h-7 w-7"})}),o.jsx("span",{className:"font-semibold text-slate-700 text-sm tracking-wide",children:"Minhas OS"})]}),o.jsxs(ht,{className:"group p-5 flex flex-col items-center justify-center gap-3 cursor-pointer bg-white/70 backdrop-blur-xl border border-white/40 shadow-sm hover:shadow-teal-200/50 hover:bg-white/90 transition-all duration-300 rounded-[24px] h-36 active:scale-95",onClick:()=>s("/tecnico/financeiro"),children:[o.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-teal-400 to-emerald-500 rounded-2xl flex items-center justify-center text-white shadow-teal-200 shadow-md group-hover:scale-110 transition-transform duration-300",children:o.jsx(Kc,{className:"h-7 w-7"})}),o.jsx("span",{className:"font-semibold text-slate-700 text-sm tracking-wide",children:"Meu Financeiro"})]}),o.jsxs(ht,{className:"group p-5 flex flex-col items-center justify-center gap-3 cursor-pointer bg-white/70 backdrop-blur-xl border border-white/40 shadow-sm hover:shadow-amber-200/50 hover:bg-white/90 transition-all duration-300 rounded-[24px] h-36 active:scale-95",onClick:()=>s("/expenses"),children:[o.jsx("div",{className:"h-14 w-14 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center text-white shadow-amber-200 shadow-md group-hover:scale-110 transition-transform duration-300",children:o.jsx(fn,{className:"h-7 w-7"})}),o.jsx("span",{className:"font-semibold text-slate-700 text-sm tracking-wide",children:"Meus Gastos"})]})]})]})}function Y1(){const{userData:r}=At(),t=Ot(),[s,a]=w.useState([]),[l,u]=w.useState(!0),[d,f]=w.useState(!1),[p,g]=w.useState(!1),[v,y]=w.useState(""),[_,k]=w.useState(""),[b,N]=w.useState("combustivel"),[j,C]=w.useState(null),[E,P]=w.useState("empresa");w.useEffect(()=>{r!=null&&r.id&&M()},[r==null?void 0:r.id]);const M=async()=>{try{const{data:ee,error:oe}=await Y.from("despesas_tecnicos").select("*").eq("tecnico_id",r.id).order("created_at",{ascending:!1});oe?(console.error("Erro ao buscar despesas:",oe),a([])):a(ee||[])}catch(ee){console.error("Erro ao buscar despesas:",ee),a([])}finally{u(!1)}},A=ee=>{ee.target.files&&ee.target.files[0]&&C(ee.target.files[0])},U=async ee=>{if(ee.preventDefault(),!(!v||!_)){g(!0);try{let oe=null;if(j){const We=j.name.split(".").pop(),qe=`${Math.random()}.${We}`,Ae=`despesas/${r.id}/${qe}`,{error:Te}=await Y.storage.from("comprovantes").upload(Ae,j);if(Te)throw Te;const{data:{publicUrl:J}}=Y.storage.from("comprovantes").getPublicUrl(Ae);oe=J}const{error:Ue}=await Y.from("despesas_tecnicos").insert({tecnico_id:r.id,empresa_id:r.empresa_id,descricao:v,valor:parseFloat(_.replace(",",".")),categoria:b,origem_pagamento:E,comprovante_url:oe,status:"pendente"});if(Ue)throw Ue;y(""),k(""),N("combustivel"),P("empresa"),C(null),f(!1),M()}catch(oe){console.error("Erro ao salvar despesa:",oe),alert("Erro ao salvar despesa. Tente novamente.")}finally{g(!1)}}},K=ee=>{switch(ee){case"aprovado":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-700",children:[o.jsx(bm,{className:"h-3 w-3"})," Aprovado"]});case"rejeitado":return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:[o.jsx(ix,{className:"h-3 w-3"})," Rejeitado"]});default:return o.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:[o.jsx(_m,{className:"h-3 w-3"})," Pendente"]})}},ce=ee=>({combustivel:"Combustvel",alimentacao:"Alimentao",material:"Material",outros:"Outros"})[ee]||ee,fe=ee=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(ee),Ce=s.reduce((ee,oe)=>(ee.total+=oe.valor,oe.status==="pendente"&&(ee.pendente+=oe.valor),oe.status==="aprovado"&&(ee.aprovado+=oe.valor),ee),{total:0,pendente:0,aprovado:0});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-4 md:p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"rounded-full",children:o.jsx(ii,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Meus Gastos"}),o.jsx("p",{className:"text-sm text-slate-500",children:"Registre e acompanhe suas despesas"})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx(ht,{className:"bg-white/70 backdrop-blur border-amber-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsx("p",{className:"text-xs text-amber-600 font-medium uppercase",children:"Pendente"}),o.jsx("p",{className:"text-lg font-bold text-amber-700",children:fe(Ce.pendente)})]})}),o.jsx(ht,{className:"bg-white/70 backdrop-blur border-emerald-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsx("p",{className:"text-xs text-emerald-600 font-medium uppercase",children:"Aprovado"}),o.jsx("p",{className:"text-lg font-bold text-emerald-700",children:fe(Ce.aprovado)})]})}),o.jsx(ht,{className:"bg-white/70 backdrop-blur border-slate-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsx("p",{className:"text-xs text-slate-600 font-medium uppercase",children:"Total"}),o.jsx("p",{className:"text-lg font-bold text-slate-700",children:fe(Ce.total)})]})})]}),d?o.jsxs(ht,{className:"bg-white/90 backdrop-blur shadow-xl border-0 animate-in slide-in-from-bottom-4",children:[o.jsx(Mn,{className:"pb-2",children:o.jsx(Un,{className:"text-lg",children:"Nova Despesa"})}),o.jsx(Tt,{children:o.jsxs("form",{onSubmit:U,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1.5 block",children:"Descrio"}),o.jsx(le,{placeholder:"Ex: Combustvel para visita",value:v,onChange:ee=>y(ee.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1.5 block",children:"Valor (R$)"}),o.jsx(le,{placeholder:"0,00",value:_,onChange:ee=>k(ee.target.value),required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1.5 block",children:"Quem pagou essa despesa?"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("button",{type:"button",onClick:()=>P("empresa"),className:Ee("p-3 rounded-lg border-2 text-sm font-medium transition-all text-center",E==="empresa"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"),children:" Carto/Dinheiro da Empresa"}),o.jsx("button",{type:"button",onClick:()=>P("proprio"),className:Ee("p-3 rounded-lg border-2 text-sm font-medium transition-all text-center",E==="proprio"?"border-blue-500 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"),children:" Paguei do Meu Bolso"})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-2 bg-slate-50 p-2 rounded-lg",children:E==="empresa"?o.jsxs(o.Fragment,{children:[" ",o.jsx("strong",{children:"Empresa:"})," Voc usou o carto corporativo ou dinheiro que o admin te deu de manh para os gastos do dia."]}):o.jsxs(o.Fragment,{children:[" ",o.jsx("strong",{children:"Meu Bolso:"})," Voc pagou com seu prprio dinheiro/carto. O admin vai te reembolsar via PIX ou em espcie aps aprovar."]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1.5 block",children:" Comprovante / Nota Fiscal"}),o.jsx(le,{type:"file",accept:"image/*,application/pdf",onChange:A,className:"file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100"}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:" Tire uma foto do cupom fiscal como prova do gasto. O admin poder visualizar."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-slate-700 mb-1.5 block",children:"Categoria"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:["combustivel","alimentacao","material","outros"].map(ee=>o.jsx("button",{type:"button",onClick:()=>N(ee),className:Ee("p-3 rounded-xl border-2 text-sm font-medium transition-all",b===ee?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"),children:ce(ee)},ee))})]}),o.jsxs("div",{className:"flex gap-2 pt-2",children:[o.jsx(he,{type:"button",variant:"outline",className:"flex-1",onClick:()=>f(!1),children:"Cancelar"}),o.jsx(he,{type:"submit",className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:p,children:p?o.jsxs(o.Fragment,{children:[o.jsx(mn,{className:"mr-2 h-4 w-4 animate-spin"})," Salvando..."]}):"Salvar Despesa"})]})]})})]}):o.jsxs(he,{onClick:()=>f(!0),className:"w-full h-14 rounded-2xl bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-semibold shadow-lg shadow-emerald-200",children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Adicionar Despesa"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-slate-800 px-1",children:"Histrico"}),l?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(mn,{className:"h-8 w-8 animate-spin text-emerald-600"})}):s.length===0?o.jsx(ht,{className:"bg-white/70 backdrop-blur border-dashed border-2 border-slate-200",children:o.jsxs(Tt,{className:"p-8 text-center",children:[o.jsx(fn,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),o.jsx("p",{className:"text-slate-500",children:"Nenhuma despesa registrada"}),o.jsx("p",{className:"text-sm text-slate-400",children:'Clique em "Adicionar Despesa" para comear'})]})}):s.map(ee=>o.jsx(ht,{className:"bg-white/80 backdrop-blur hover:shadow-md transition-shadow",children:o.jsx(Tt,{className:"p-4",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-medium text-slate-800",children:ee.descricao}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[o.jsx("span",{className:"text-xs text-slate-400",children:(ee.data_despesa||ee.created_at)&&up(new Date(ee.data_despesa||ee.created_at),"dd/MM/yyyy",{locale:dp})}),ee.categoria&&o.jsx("span",{className:"text-xs px-2 py-0.5 bg-slate-100 text-slate-500 rounded-full",children:ce(ee.categoria)}),ee.origem_pagamento==="proprio"?o.jsx("span",{className:"text-xs px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:"Reembolso"}):o.jsx("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full",children:"Empresa"})]}),ee.comprovante_url&&o.jsx("div",{className:"mt-2",children:o.jsxs("a",{href:ee.comprovante_url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-emerald-600 hover:underline flex items-center gap-1",children:[o.jsx(fn,{className:"w-3 h-3"})," Ver Comprovante"]})})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-bold text-slate-800",children:fe(ee.valor)}),o.jsx("div",{className:"mt-1",children:K(ee.status)})]})]})})},ee.id))]})]})}function Q1(){const{userData:r}=At(),t=Ot(),[s,a]=w.useState(!0),[l,u]=w.useState(null),[d,f]=w.useState(0),[p,g]=w.useState(0);w.useEffect(()=>{r!=null&&r.id&&v()},[r==null?void 0:r.id]);const v=async()=>{a(!0);try{const[_,k,b]=await Promise.all([_r.getTechnicianBalance(r.id),_r.getPendingExpenses(r.id),_r.getApprovedExpenses(r.id)]);u(_),f(k.length),g(b.length)}catch(_){console.error("Erro ao carregar dados financeiros:",_)}finally{a(!1)}},y=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_);return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-slate-50 to-teal-50 flex items-center justify-center",children:o.jsx(mn,{className:"h-8 w-8 animate-spin text-emerald-600"})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-slate-50 to-teal-50 p-4 md:p-8 space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(he,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"rounded-full",children:o.jsx(ii,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-emerald-950",children:"Meu Financeiro"}),o.jsx("p",{className:"text-sm text-emerald-700/80",children:"Acompanhe suas comisses e gastos"})]})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-emerald-600 to-teal-500 p-6 text-white shadow-xl shadow-emerald-200",children:[o.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full blur-2xl -mr-10 -mt-10"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("p",{className:"text-emerald-100 text-sm font-medium uppercase tracking-wider",children:"Saldo a Receber"}),o.jsx("h2",{className:"text-4xl font-black mt-1",children:y((l==null?void 0:l.finalBalance)||0)}),o.jsx("p",{className:"text-emerald-100 text-xs mt-2",children:" Este valor ser pago no prximo fechamento"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs(he,{onClick:()=>t("/expenses"),className:"h-14 rounded-2xl bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white font-semibold shadow-lg shadow-amber-100",children:[o.jsx(Ur,{className:"mr-2 h-5 w-5"}),"Nova Despesa"]}),o.jsxs(he,{onClick:()=>t("/tecnico/extrato"),variant:"outline",className:"h-14 rounded-2xl border-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50 font-semibold",children:[o.jsx(Gc,{className:"mr-2 h-5 w-5"}),"Meu Extrato"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx(ht,{className:"bg-white/70 backdrop-blur border-emerald-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:o.jsx(Jc,{className:"h-4 w-4 text-emerald-600"})}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Comisses"})]}),o.jsx("p",{className:"text-xl font-bold text-emerald-700",children:y((l==null?void 0:l.totalCommission)||0)}),o.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[(l==null?void 0:l.osCount)||0," servios"]})]})}),o.jsx(ht,{className:"bg-white/70 backdrop-blur border-blue-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(Zo,{className:"h-4 w-4 text-blue-600"})}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Reembolsos"})]}),o.jsx("p",{className:"text-xl font-bold text-blue-700",children:y((l==null?void 0:l.totalReimbursements)||0)}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Aprovados"})]})}),o.jsx(ht,{className:"bg-white/70 backdrop-blur border-red-100",children:o.jsxs(Tt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:o.jsx(fn,{className:"h-4 w-4 text-red-600"})}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Adiantamentos"})]}),o.jsxs("p",{className:"text-xl font-bold text-red-700",children:["- ",y((l==null?void 0:l.totalAdvances)||0)]}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Descontado"})]})}),o.jsx(ht,{className:"bg-white/70 backdrop-blur border-amber-100 cursor-pointer hover:bg-white/90 transition-colors",onClick:()=>t("/expenses"),children:o.jsxs(Tt,{className:"p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:o.jsx(_m,{className:"h-4 w-4 text-amber-600"})}),o.jsx("span",{className:"text-xs font-medium text-slate-600",children:"Meus Gastos"})]}),o.jsx("p",{className:"text-xl font-bold text-amber-700",children:d}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Aguardando aprovao "})]})})]}),l&&l.osDetails&&l.osDetails.length>0&&o.jsxs(ht,{className:"bg-white/80 backdrop-blur shadow-sm",children:[o.jsxs(Mn,{className:"pb-2",children:[o.jsxs(Un,{className:"text-lg flex items-center gap-2",children:[o.jsx(bm,{className:"h-5 w-5 text-emerald-600"}),"Servios com Comisso"]}),o.jsx("p",{className:"text-xs text-slate-500",children:"Finalizados e aguardando pagamento"})]}),o.jsx(Tt,{children:o.jsx("div",{className:"space-y-3",children:l.osDetails.map(_=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-slate-800",children:_.cliente_nome||"Cliente"}),o.jsx("p",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:_.descricao_servico||"Servio"})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"font-bold text-emerald-600",children:y(_.commissionValue||0)}),o.jsxs("p",{className:"text-xs text-slate-400",children:["de ",y(_.valor_total||0)]})]})]},_.id))})})]}),o.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-100",children:[o.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:" Como funciona?"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Comisses:"})," Ganhos por servios finalizados"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Reembolsos:"})," Gastos que voc pagou do bolso e foram aprovados"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Adiantamentos:"})," Valores que voc recebeu antecipadamente"]}),o.jsxs("li",{children:[" ",o.jsx("strong",{children:"Saldo:"})," O que voc receber no fechamento do ms"]})]})]})]})}function X1(){const{userData:r}=At(),t=Ot(),[s,a]=w.useState(!0),[l,u]=w.useState(null);w.useEffect(()=>{r!=null&&r.id&&d()},[r==null?void 0:r.id]);const d=async()=>{a(!0);try{const v=await _r.getTechnicianBalance(r.id);u(v)}catch(v){console.error("Erro ao carregar dados:",v)}finally{a(!1)}},f=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),p=()=>{window.print()};if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:o.jsx(mn,{className:"h-8 w-8 animate-spin text-emerald-600"})});const g=new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"});return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsxs("div",{className:"print:hidden bg-slate-100 p-4 flex items-center justify-between sticky top-0 z-10",children:[o.jsxs(he,{variant:"ghost",onClick:()=>t(-1),children:[o.jsx(ii,{className:"h-4 w-4 mr-2"}),"Voltar"]}),o.jsxs(he,{onClick:p,className:"bg-emerald-600 hover:bg-emerald-700",children:[o.jsx(Gc,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]})]}),o.jsxs("div",{className:"max-w-2xl mx-auto p-8 print:p-4",children:[o.jsxs("div",{className:"text-center border-b-2 border-emerald-600 pb-4 mb-6",children:[o.jsx("h1",{className:"text-2xl font-bold text-emerald-800",children:"FlowDrain"}),o.jsx("h2",{className:"text-lg font-semibold text-slate-700 mt-2",children:"Extrato Financeiro do Tcnico"}),o.jsx("p",{className:"text-sm text-slate-500 mt-1",children:g})]}),o.jsx("div",{className:"bg-slate-50 rounded-lg p-4 mb-6 print:bg-gray-100",children:o.jsxs("p",{className:"text-sm text-slate-600",children:[o.jsx("strong",{children:"Tcnico:"})," ",(l==null?void 0:l.technicianName)||(r==null?void 0:r.nome)||"Nome no disponvel"]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-3 border-b pb-2",children:" Resumo Financeiro"}),o.jsx("table",{className:"w-full text-sm",children:o.jsxs("tbody",{children:[o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 text-slate-600",children:"Comisses (servios finalizados)"}),o.jsxs("td",{className:"py-2 text-right font-semibold text-emerald-600",children:["+ ",f((l==null?void 0:l.totalCommission)||0)]})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 text-slate-600",children:"Reembolsos aprovados"}),o.jsxs("td",{className:"py-2 text-right font-semibold text-blue-600",children:["+ ",f((l==null?void 0:l.totalReimbursements)||0)]})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 text-slate-600",children:"Bnus"}),o.jsxs("td",{className:"py-2 text-right font-semibold text-purple-600",children:["+ ",f((l==null?void 0:l.totalBonus)||0)]})]}),o.jsxs("tr",{className:"border-b",children:[o.jsx("td",{className:"py-2 text-slate-600",children:"Adiantamentos (desconto)"}),o.jsxs("td",{className:"py-2 text-right font-semibold text-red-600",children:["- ",f((l==null?void 0:l.totalAdvances)||0)]})]}),o.jsxs("tr",{className:"bg-emerald-50 print:bg-gray-200",children:[o.jsx("td",{className:"py-3 font-bold text-slate-800",children:"SALDO A RECEBER"}),o.jsx("td",{className:"py-3 text-right font-bold text-xl text-emerald-700",children:f((l==null?void 0:l.finalBalance)||0)})]})]})})]}),(l==null?void 0:l.osDetails)&&l.osDetails.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-3 border-b pb-2",children:[" Servios com Comisso (",l.osCount,")"]}),o.jsxs("table",{className:"w-full text-sm",children:[o.jsx("thead",{className:"bg-slate-100 print:bg-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"py-2 px-2 text-left",children:"Cliente"}),o.jsx("th",{className:"py-2 px-2 text-left",children:"Servio"}),o.jsx("th",{className:"py-2 px-2 text-right",children:"Valor OS"}),o.jsx("th",{className:"py-2 px-2 text-right",children:"Comisso"})]})}),o.jsx("tbody",{children:l.osDetails.map((v,y)=>o.jsxs("tr",{className:y%2===0?"bg-white":"bg-slate-50",children:[o.jsx("td",{className:"py-2 px-2",children:v.cliente_nome||"Cliente"}),o.jsx("td",{className:"py-2 px-2 text-slate-600 truncate max-w-[150px]",children:v.descricao_servico||"Servio"}),o.jsx("td",{className:"py-2 px-2 text-right",children:f(v.valor_total||0)}),o.jsx("td",{className:"py-2 px-2 text-right font-semibold text-emerald-600",children:f(v.commissionValue||0)})]},v.id))})]})]}),o.jsxs("div",{className:"text-center text-xs text-slate-400 mt-8 pt-4 border-t",children:[o.jsxs("p",{children:["Documento gerado em ",new Date().toLocaleString("pt-BR")]}),o.jsx("p",{className:"mt-1",children:"FlowDrain - Sistema de Gesto"})]})]}),o.jsx("style",{children:`
                @media print {
                    body { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
                    .print\\:hidden { display: none !important; }
                    .print\\:bg-gray-100 { background-color: #f3f4f6 !important; }
                    .print\\:bg-gray-200 { background-color: #e5e7eb !important; }
                    .print\\:p-4 { padding: 1rem !important; }
                }
            `})]})}function bc({children:r}){const{user:t,userData:s,loading:a}=At();return a?o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-muted-foreground",children:"Carregando..."})]})}):!t||!s||!s.empresa_id?o.jsx(qc,{to:"/login",replace:!0}):o.jsx(o.Fragment,{children:r})}function Z1(){return o.jsx(Hb,{defaultTheme:"system",storageKey:"vite-ui-theme",children:o.jsx(Cb,{children:o.jsx(Wv,{children:o.jsxs(xv,{children:[o.jsx(ut,{path:"/login",element:o.jsx(qb,{})}),o.jsx(ut,{path:"/signup",element:o.jsx(Yb,{})}),o.jsxs(ut,{element:o.jsx(bc,{children:o.jsx(Tb,{})}),children:[o.jsx(ut,{path:"/",element:o.jsx(Rb,{})}),o.jsx(ut,{path:"/services",element:o.jsx(i_,{})}),o.jsx(ut,{path:"/technicians",element:o.jsx(Zb,{})}),o.jsx(ut,{path:"/clients",element:o.jsx(a_,{})}),o.jsx(ut,{path:"/service-orders",element:o.jsx(o_,{})}),o.jsx(ut,{path:"/service-orders/new",element:o.jsx(qf,{})}),o.jsx(ut,{path:"/service-orders/:id",element:o.jsx(qf,{})}),o.jsx(ut,{path:"/settings",element:o.jsx(d_,{})}),o.jsx(ut,{path:"/financial",element:o.jsx(p_,{})}),o.jsx(ut,{path:"/tecnico/dashboard",element:o.jsx(Xf,{})}),o.jsx(ut,{path:"/tech-dashboard",element:o.jsx(Xf,{})}),o.jsx(ut,{path:"/tecnico/financeiro",element:o.jsx(Q1,{})}),o.jsx(ut,{path:"/expenses",element:o.jsx(Y1,{})})]}),o.jsx(ut,{path:"/print/service-orders/:id",element:o.jsx(bc,{children:o.jsx(u_,{})})}),o.jsx(ut,{path:"/tecnico/extrato",element:o.jsx(bc,{children:o.jsx(X1,{})})}),o.jsx(ut,{path:"*",element:o.jsx(qc,{to:"/",replace:!0})})]})})})})}y0.createRoot(document.getElementById("root")).render(o.jsx(w.StrictMode,{children:o.jsx(Z1,{})}));
